(window.webpackJsonp=window.webpackJsonp||[]).push([[150],{"+9X6":function(e,t,i){"use strict";i.d(t,"e",(function(){return r})),i.d(t,"q",(function(){return n})),i.d(t,"f",(function(){return a})),i.d(t,"r",(function(){return o})),i.d(t,"c",(function(){return c})),i.d(t,"n",(function(){return d})),i.d(t,"d",(function(){return l})),i.d(t,"o",(function(){return u})),i.d(t,"p",(function(){return h})),i.d(t,"b",(function(){return p})),i.d(t,"k",(function(){return E})),i.d(t,"l",(function(){return T})),i.d(t,"m",(function(){return y})),i.d(t,"i",(function(){return v})),i.d(t,"h",(function(){return m})),i.d(t,"g",(function(){return O})),i.d(t,"a",(function(){return R}));i("IAdD"),i("kYxP");var s=i("hmHa");const r="TICK",n=(e,t,i,s,n,a)=>({type:r,currentTimeMs:t,absoluteTimeMs:i,durationMs:s,playerId:e,hasCaptions:n,currentVariantIndex:a}),a="TRACK_FINISHED",o=e=>({type:a,playerId:e}),c="NEXT_TRACK",d=e=>({type:c,playerId:e}),l="PLAYER_READY",u=e=>({type:l,playerId:e}),h=(e,t)=>({type:"ROTATION_UPDATED",playerId:e,rotation:t}),p="HLSJS_READY",E=e=>({type:p,playerId:e}),f=new Date("Jan 01 1900 GMT").getTime(),g=new Date("Jan 01 1970 GMT").getTime()-f,T=(e,t)=>({type:"ID3_METADATA",playerId:e,metadata:t}),y=(e,t)=>({type:"ID3_TAG_DATA",playerId:e,id3Json:t,currentNtpTime:(Date.now()+g)/1e3}),v=e=>({type:"BUFFER_START",playerId:e}),m=e=>({type:"BUFFER_END",playerId:e}),O=(e,t)=>({type:"BITRATE_SWITCHED",playerId:e,bitrate:t}),b=e=>{const t=e.tracks;return{currentTrack:t.find(t=>t.id===e.currentTrackId),otherTracks:t.filter(t=>t.id!==e.currentTrackId)}},I=(e,t)=>{const{currentTrack:i,otherTracks:s}=b(e);return Object.assign({},e,{tracks:[...s,Object.assign({},t(i))]})};t.j=(e,t)=>{switch(t.type){case r:{const{currentTrack:i,otherTracks:s}=b(e);return Object.assign({},e,{tracks:[...s,Object.assign({},i,{durationMs:t.durationMs,currentTimeMs:t.currentTimeMs,absoluteTimeMs:t.absoluteTimeMs,hasCaptions:t.hasCaptions,currentVariantIndex:t.currentVariantIndex})]})}case s.y:return Object.assign({},e,{tracksFinished:!1});case l:{const{currentTrack:t,otherTracks:i}=b(e);return Object.assign({},e,{tracks:[...i,Object.assign({},t,{playerReady:!0})]})}case"ROTATION_UPDATED":{const{currentTrack:i,otherTracks:s}=b(e);return Object.assign({},e,{tracks:[...s,Object.assign({},i,{rotation:t.rotation})]})}case"ID3_METADATA":{const{metadata:i}=t;let s=e;return i&&(s=I(s,e=>Object.assign({},e,{metadata:i}))),s}case"ID3_TAG_DATA":{const{id3Json:i,currentNtpTime:s}=t,r=i.ntp;let n=e;if(r){const e=s-r;n=I(n,t=>Object.assign({},t,{liveLatencyMs:1e3*e}))}return n}case"BITRATE_SWITCHED":{const{currentTrack:i,otherTracks:s}=b(e);return Object.assign({},e,{tracks:[...s,Object.assign({},i,{currentBitrate:t.bitrate})]})}case"BUFFER_START":{const{currentTrack:t,otherTracks:i}=b(e);return Object.assign({},e,{tracks:[...i,Object.assign({},t,{isBuffering:!0})]})}case"BUFFER_END":{const{currentTrack:t,otherTracks:i}=b(e);return Object.assign({},e,{tracks:[...i,Object.assign({},t,{isBuffering:!1})]})}case c:case a:if(e.nextTrackIds.length>0){const[t,...i]=e.nextTrackIds,r=e.tracks,n=r.find(e=>e.id===t),a=r.filter(e=>e.id!==t);return Object.assign({},e,{currentTrackId:t,nextTrackIds:i,controls:Object.assign({},e.controls,{playState:s.k.PLAY_REQUESTED,captionsState:e.areCaptionsShown?s.f.CAPTIONS_ON_REQUESTED:s.f.CAPTIONS_OFF_REQUESTED}),intentToPlayTime:void 0,tracks:[...a,Object.assign({},n,{playerReady:!1})]})}{const{currentTrack:t}=b(e);return Object.assign({},e,{intentToPlayTime:void 0,isPlaying:!!t.shouldLoop,tracksFinished:!t.shouldLoop})}default:return e}};const R={nextTrackIds:[]}},"+E13":function(e,t,i){i("ax0f")({target:"Number",stat:!0},{isFinite:i("p25+")})},"+STa":function(e,t,i){"use strict";t.__esModule=!0,t.default=t.updateGuestInfo=t.UPDATE_GUEST_INFO=void 0;t.UPDATE_GUEST_INFO="UPDATE_GUEST_INFO";t.updateGuestInfo=function(e,t){return{type:"UPDATE_GUEST_INFO",guestInfo:t,experienceId:e}};t.default=function(e,t){switch(void 0===e&&(e={}),t.type){case"UPDATE_GUEST_INFO":for(var i=t.guestInfo,s={},r=0;r<i.length;r++){var n=i[r],a=n.ParticipantIndex,o=n.ProfileUrl,c=n.SessionId,d=n.StreamName,l=n.UserId,u=n.UserName;s[r]={ParticipantIndex:a,ProfileUrl:o,SessionId:c,StreamName:d,UserId:l,UserName:u}}return s;default:return e}}},"+cpJ":function(e,t,i){"use strict";i("kYxP"),i("Cm4o");var s=i("KEM+"),r=i.n(s);class n{constructor(e){r()(this,"clearLogs",()=>{try{window.sessionStorage.removeItem(this.storageKey)}catch(e){}}),r()(this,"log",(e,t)=>{if(n.debuggingEnabled){const i=`${e}: ${t}`;this.logItemInSessionStorage(i)}}),r()(this,"logItemInSessionStorage",e=>{try{const t=window.sessionStorage.getItem(this.storageKey),i=t?JSON.parse(t):[];i.push(e),window.sessionStorage.setItem(this.storageKey,JSON.stringify(i))}catch(e){}}),this.storageKey=n.generateStorageKey(e),this.clearLogs()}}r()(n,"debuggingEnabled",!1),r()(n,"generateStorageKey",e=>"TwitterVideoPlayerDebugLog:"+e),r()(n,"getDebugFileLink",e=>{const t=window.sessionStorage.getItem(n.generateStorageKey(e)),i=new window.Blob([JSON.parse(t).join("\n")],{type:"application/octet-stream"});return window.URL.createObjectURL(i)}),t.a=n},"0QFG":function(e,t,i){"use strict";i("KOtZ"),i("+KXO"),t.__esModule=!0,t.combineReducers=void 0;t.combineReducers=function(e){return function(t,i){return Object.keys(e).reduce((function(s,r){return s[r]=e[r](t[r],i),s}),{})}}},"2/88":function(e,t,i){"use strict";i.d(t,"b",(function(){return n}));var s=i("Q6z5"),r=i("UweJ");const n=(e,t)=>({feature:t,playerId:e,type:"GET_FEATURE_VALUE"});t.a=e=>t=>i=>{if("GET_FEATURE_VALUE"===i.type){const{feature:t,playerId:n}=i;let a;const o=Object(r.a)(n);return o&&o.getValue&&(a=o.getValue(t),e.dispatch(Object(s.i)(n,{[t]:a}))),a}return t(i)}},"4k9e":function(e,t,i){"use strict";i.d(t,"a",(function(){return m})),i.d(t,"c",(function(){return O}));i("IAdD");var s=i("XSs6"),r=i("q+jO"),n=(i("jQ/y"),i("kYxP"),i("LdEA")),a=i.n(n),o=i("Q6z5"),c=i("+9X6"),d=i("hmHa"),l=i("A9/4");function u(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const h=(e,t)=>a()(e,[t].map(u)),p=e=>{const{intentToPlayTime:t}=e;return void 0===t?new Date:t};const E={volume:1,areCaptionsShown:!1,hasCaptions:!1,hasPlaybackStarted:!1,intentToPlayTime:void 0,isMuted:!1,isPlaying:!1,isScrubbing:!1,controls:{isHidden:!0,isPosterShown:!0}};var f=i("6/SQ"),g=i("GV/0"),T=i("BZ2a");const y=Object.assign({},s.a,r.a,E,o.d,f.b,g.a,T.a,c.a,{percentVisible:1,percentOfViewportOccupied:1,sizesInfo:{}}),v=[s.b,o.h,(e,t)=>{let i;switch(t.type){case o.c:return Object.assign({},e,{intentToPlayTime:t.intentToPlayTime});case d.p:case r.c:if(e.isPlaying&&e.controls.playState!==d.k.PAUSE_REQUESTED)return e;return Object.assign({},e,{intentToPlayTime:p(e),controls:Object.assign({},e.controls,{playState:d.k.PLAY_REQUESTED})});case r.b:case d.o:case d.b:return e.isPlaying||e.controls.playState===d.k.PLAY_REQUESTED?Object.assign({},e,{controls:Object.assign({},e.controls,{playState:d.k.PAUSE_REQUESTED})}):e;case d.r:{const t=Object(l.b)(e),i=Object(l.c)(e);return t&&"maxLoopCount"in t&&(t.loopCounter=0,t.shouldLoop=!0),Object.assign({},e,{intentToPlayTime:p(e),tracks:t?[...i,Object.assign({},t)]:e.tracks,controls:Object.assign({},e.controls,{isReplayButtonShown:!1,playState:d.k.PLAY_REQUESTED})})}case d.y:return i=h(e.controls,"playState"),e.controls.playState!==d.k.PLAY_REQUESTED&&(i.playState=e.controls.playState),i.isPosterShown=!1,Object.assign({},e,{controls:i,hasPlaybackStarted:!0,isPlaying:!0});case d.x:return i=h(e.controls,"playState"),e.controls.playState!==d.k.PAUSE_REQUESTED&&(i.playState=e.controls.playState),Object.assign({},e,{controls:i,isPlaying:!1});case d.n:return Object.assign({},e,{controls:Object.assign({},e.controls,{muteState:d.j.MUTE_REQUESTED})});case d.t:return i=Object.assign({},e.controls,{muteState:d.j.UNMUTE_REQUESTED}),0!==e.volume||e.controls.volume>0||(i.volume=1),Object.assign({},e,{controls:i});case d.u:return i=Object.assign({},e.controls,{volume:t.volume}),0!==t.volume||e.isMuted?t.volume>0&&e.isMuted&&(i.muteState=d.j.UNMUTE_REQUESTED):i.muteState=d.j.MUTE_REQUESTED,Object.assign({},e,{controls:i});case d.B:return i=h(h(e.controls,"muteState"),"volume"),e.controls.muteState!==d.j.MUTE_REQUESTED||t.isMuted?e.controls.muteState===d.j.UNMUTE_REQUESTED&&t.isMuted&&(i.muteState=d.j.UNMUTE_REQUESTED):i.muteState=d.j.MUTE_REQUESTED,t.volume!==e.controls.volume&&(i.volume=e.controls.volume),Object.assign({},e,{controls:i,volume:t.volume,isMuted:t.isMuted});case d.s:return Object.assign({},e,{isScrubbing:!0,controls:Object.assign({},e.controls,{scrubToFraction:t.fraction})});case d.q:{const{startTimeS:i,endTimeS:s}=t;return Object.assign({},e,{controls:Object.assign({},e.controls,{playbackTimeRange:{startTimeS:i,endTimeS:s}})})}case d.z:return i=h(e.controls,"scrubToFraction"),Object.assign({},e,{isScrubbing:!1,controls:i});case d.d:return i=h(e.controls,"playbackTimeRange"),Object.assign({},e,{controls:i});case d.A:return Object.assign({},e,{isScrubbing:!0});case d.h:return Object.assign({},e,{controls:Object.assign({},e.controls,{isHidden:!0})});case d.v:return Object.assign({},e,{controls:Object.assign({},e.controls,{isHidden:!1})});case d.m:return Object.assign({},e,{userSpecifiedCaptions:t.isUserSet,controls:Object.assign({},e.controls,{captionsState:d.f.CAPTIONS_ON_REQUESTED})});case d.l:return Object.assign({},e,{userSpecifiedCaptions:t.isUserSet,controls:Object.assign({},e.controls,{captionsState:d.f.CAPTIONS_OFF_REQUESTED})});case d.e:return i=h(e.controls,"captionsState"),Object.assign({},e,{areCaptionsShown:t.areCaptionsShown,controls:i});case c.f:{const t=Object.assign({},e),i=Object(l.b)(e),s=Object(l.c)(e);i&&"maxLoopCount"in i&&(i.loopCounter>=i.maxLoopCount-1?i.shouldLoop=!1:i.loopCounter+=1,t.tracks=[...s,Object.assign({},i)]);const{shouldLoop:r}=i||{};return 0===e.nextTrackIds.length&&(e.isPreview?t.controls=Object.assign({},e.controls,{isPosterShown:!r}):t.controls=Object.assign({},e.controls,{isHidden:r,isReplayButtonShown:!r,playState:r?void 0:d.k.PAUSE_REQUESTED})),t}case d.w:return Object.assign({},e,{percentVisible:t.percentVisible,percentOfViewportOccupied:t.percentOfViewportOccupied,sizesInfo:t.sizesInfo||{}});case d.a:{i=h(e.controls,"playState"),e.controls.playState!==d.k.PLAY_REQUESTED&&(i.playState=e.controls.playState);const t=Object(l.b)(e),s=Object(l.c)(e);return Object.assign({},e,{controls:Object.assign({},i,{isPosterShown:!0}),tracks:[...s,Object.assign({},t,{isBuffering:!1})]})}case d.g:{const i=void 0===e.dataUsageBytes?t.bytes:e.dataUsageBytes+t.bytes;return Object.assign({},e,{dataUsageBytes:i})}case d.i:{const t=e.liveClickthroughClicked||0;return Object.assign({},e,{liveClickthroughClicked:1+t})}default:return e}},c.j,r.d,f.e,g.e,T.c],m="TEARDOWN_PLAYER",O=e=>({type:m,playerId:e});t.b=(e={},t,i=v)=>{if(void 0!==t.playerId){if(t.type===m){const i=Object.assign({},e);return delete i[t.playerId],i}let s=e[t.playerId];if(t.type===o.e){if(!s)return e;s=Object.assign({},y,{errorInfo:s.errorInfo,features:s.features})}const r=((e=y,t,i)=>i.reduce((e,i)=>i(e,t),e))(s,t,i);if(void 0!==r)return Object.assign({},e,{[t.playerId]:r})}return e}},"5vFY":function(e,t,i){"use strict";i.d(t,"a",(function(){return h})),i.d(t,"c",(function(){return p}));var s=i("Q6z5"),r=i("ClFK"),n=i("cOYg"),a=i("6/SQ"),o=i("GV/0"),c=i("+9X6"),d=i("hmHa");const l={[c.b]:n.a.HLSJS_INSTANTIATED,[c.d]:n.a.READY,[c.f]:n.a.PLAYBACK_COMPLETE,[d.x]:n.a.PAUSE,[d.y]:n.a.PLAY},u={},h=(e,t,i)=>{void 0===u[e]&&(u[e]={}),void 0===u[e][t]&&(u[e][t]=[]),u[e][t].push(i)},p=e=>{delete u[e]};t.b=e=>t=>i=>{const c=i.playerId,h=i.type,p=e.getState().players[c],E=t(i),f=e.getState().players[c];let g,T;if(c in u){const e=p.tracks.find(e=>"content"===e.displayType),t=f.tracks.find(e=>"content"===e.displayType);switch(h){case a.c:i.thrownError.message===r.a.LIVE_VIDEO_GEOBLOCK_ERROR?g=n.a.GEOBLOCK_ERROR:i.thrownError.message===r.a.LIVE_VIDEO_NO_COOKIES_ERROR&&(g=n.a.NO_COOKIES_ERROR);break;case d.B:!p.isMuted&&f.isMuted?g=n.a.MUTE:p.isMuted&&!f.isMuted&&(g=n.a.UNMUTE);break;case s.a:if(void 0!==e&&void 0!==t&&(e.isLive&&!t.isLive?g=n.a.LIVE_ENDED:!e.isLive&&t.isLive&&(g=n.a.LIVE_STARTED)),!g&&(p.eventTitle!==f.eventTitle||p.eventDescription!==f.eventDescription||p.eventUrl!==f.eventUrl)){const{eventTitle:e,eventDescription:t,eventUrl:i}=f;g=n.a.BROADCAST_EVENT_ASSOCIATION_UPDATED,T={eventTitle:e,eventDescription:t,eventUrl:i}}break;case d.i:p.liveClickthroughClicked!==f.liveClickthroughClicked&&(g=n.a.LIVE_CLICKTHROUGH);break;case o.d:{const{isFullscreen:e}=p.fullscreen,{isFullscreen:t}=f.fullscreen;!e&&t?g=n.a.FULLSCREEN_ENTERED:e&&!t&&(g=n.a.FULLSCREEN_EXITED);break}default:g=l[h]}((e,t,i)=>{t in u[e]&&(u[e][t],1)&&u[e][t].forEach(e=>{"function"==typeof e&&e(i)})})(c,g,T),g===n.a.READY&&((e,t)=>{t in u[e]&&delete u[e][t]})(c,g)}return E}},"6/SQ":function(e,t,i){"use strict";i.d(t,"c",(function(){return a})),i.d(t,"h",(function(){return o})),i.d(t,"a",(function(){return c})),i.d(t,"d",(function(){return d})),i.d(t,"f",(function(){return l})),i.d(t,"g",(function(){return u})),i.d(t,"b",(function(){return f}));i("IAdD");var s=i("UVZ6"),r=i("ClFK"),n=i("Q6z5");const a="PLAYBACK_ERROR",o=(e,t)=>({type:a,playerId:e,thrownError:t,isFatal:!0}),c="CONFIGURATION_LOAD_ERROR",d=(e,t)=>({type:c,playerId:e,thrownError:t,isFatal:!0}),l=e=>({type:"ERROR_RESOLVED",playerId:e}),u=e=>({type:"GEOLOCATION_PROMPT",playerId:e}),h=e=>{switch(e.message){case r.a.BROADCAST_ENDED_NO_REPLAY:case r.a.BROADCAST_NOT_FOUND:case r.a.DMCA_TAKEDOWN_ERROR:case r.a.EUROPEAN_COPYRIGHT_VIOLATION:case r.a.ORIGINAL_CONTEXT_DELETED:case r.a.LIVE_VIDEO_GEOBLOCK_ERROR:case r.a.LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR:case r.a.LIVE_VIDEO_GEOLOCATION_PROMPT:case r.a.MEDIA_GEOBLOCK_ERROR:case r.a.MEDIA_NOT_SUPPORTED:return!1;default:return!0}},p=e=>{if(!h(e))return!1;switch(e.message){case r.a.LIVE_VIDEO_NO_COOKIES_ERROR:return!1;default:return!0}},E=(e,t)=>{const i=t.errorInfo.count+1,s=h(e),r=p(e)&&i<=t.errorInfo.retryMax;return{backoffMs:r?1e3*t.errorInfo.count:f.backoffMs,count:i,canRetry:s,autoRetry:r}};t.e=(e,t)=>{switch(t.type){case n.b:{const t=parseInt(e.features.fatalErrorRetryMax,10),i=isNaN(t)?f.errorInfo.retryMax:t;return Object.assign({},e,{errorInfo:Object.assign({},e.errorInfo,{retryMax:i})})}case n.e:return Object.assign({},e,{error:void 0,errorInfo:Object.assign({},e.errorInfo,{autoRetry:!1,canRetry:!1})});case c:{const{thrownError:i}=t,s=E(i,e);let n;return i.message!==r.a.LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR&&i.message!==r.a.EUROPEAN_COPYRIGHT_VIOLATION||(n={copyrightHolder:i.copyrightHolder}),Object.assign({},e,{error:i.message,errorData:n,errorInfo:Object.assign({},e.errorInfo,s)})}case a:{const{thrownError:i}=t,r=Object(s.a)(e.mediaAvailability),n=r?new Error(r):i,a=E(n,e);return Object.assign({},e,{error:n.message,errorInfo:Object.assign({},e.errorInfo,a)})}case"ERROR_RESOLVED":return Object.assign({},e,{error:void 0,errorInfo:Object.assign({},e.errorInfo,{autoRetry:!1,canRetry:!1})});case"GEOLOCATION_PROMPT":{const t=new Error(r.a.LIVE_VIDEO_GEOLOCATION_PROMPT);return Object.assign({},e,{error:t.message,errorInfo:Object.assign({},e.errorInfo,{autoRetry:p(t),canRetry:h(t)})})}default:return e}};const f={error:void 0,errorInfo:{autoRetry:!1,backoffMs:void 0,canRetry:!1,count:0,retryMax:0},errorData:void 0}},"6U7i":function(e,t,i){"use strict";var s=i("1Mu/"),r=i("9JhN"),n=i("66wQ"),a=i("uLp7"),o=i("8aeu"),c=i("amH4"),d=i("j6nH"),l=i("CD8Q"),u=i("ct80"),h=i("guiJ"),p=i("ZdBB").f,E=i("GFpt").f,f=i("q9+l").f,g=i("Ya2h").trim,T=r.Number,y=T.prototype,v="Number"==c(h(y)),m=function(e){var t,i,s,r,n,a,o,c,d=l(e,!1);if("string"==typeof d&&d.length>2)if(43===(t=(d=g(d)).charCodeAt(0))||45===t){if(88===(i=d.charCodeAt(2))||120===i)return NaN}else if(48===t){switch(d.charCodeAt(1)){case 66:case 98:s=2,r=49;break;case 79:case 111:s=8,r=55;break;default:return+d}for(a=(n=d.slice(2)).length,o=0;o<a;o++)if((c=n.charCodeAt(o))<48||c>r)return NaN;return parseInt(n,s)}return+d};if(n("Number",!T(" 0o1")||!T("0b1")||T("+0x1"))){for(var O,b=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof b&&(v?u((function(){y.valueOf.call(i)})):"Number"!=c(i))?d(new T(m(t)),i,b):m(t)},I=s?p(T):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),R=0;I.length>R;R++)o(T,O=I[R])&&!o(b,O)&&f(b,O,E(T,O));b.prototype=y,y.constructor=b,a(r,"Number",b)}},"8SPO":function(e,t,i){"use strict";var s=i("yWCo"),r=i("IGGJ");i("IAdD"),t.__esModule=!0,t.default=t.resetGuestState=t.RESET_GUEST_STATE=t.teardownExperience=t.TEARDOWN_EXPERIENCE=t.initializeExperience=t.INITIALIZE_EXPERIENCE=void 0;var n=i("0QFG"),a=r(i("+STa")),o=s(i("PNAC"));t.INITIALIZE_EXPERIENCE="INITIALIZE_EXPERIENCE";t.initializeExperience=function(e){return{type:"INITIALIZE_EXPERIENCE",experienceId:e}};t.TEARDOWN_EXPERIENCE="TEARDOWN_EXPERIENCE";t.teardownExperience=function(e){return{type:"TEARDOWN_EXPERIENCE",experienceId:e}};t.RESET_GUEST_STATE="RESET_GUEST_STATE";t.resetGuestState=function(e){return{type:"RESET_GUEST_STATE",experienceId:e}};var c={audioLevels:o.InitialState,guests:{}},d=(0,n.combineReducers)({audioLevels:o.default,guests:a.default});t.default=function(e,t,i){var s;if(void 0===e&&(e={}),void 0===i&&(i=d),void 0!==t.experienceId)switch(t.type){case"INITIALIZE_EXPERIENCE":case"RESET_GUEST_STATE":return Object.assign({},e,((s={})[t.experienceId]=c,s));case"TEARDOWN_EXPERIENCE":var r=Object.assign({},e);return delete r[t.experienceId],r;default:var n,a=i(e[t.experienceId],t);return Object.assign({},e,((n={})[t.experienceId]=a,n))}return e}},"A9/4":function(e,t,i){"use strict";i.d(t,"d",(function(){return r})),i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return c}));i("IAdD"),i("iKE+"),i("DZ+c");var s=i("YKqM");const r=(e,t)=>{if(e.tracks)return e.tracks.find(e=>e.id===t)},n=e=>r(e,e.currentTrackId),a=e=>e.tracks?e.tracks.filter(t=>t.id!==e.currentTrackId):[],o=new RegExp(/^https:\/\/[\w-]+.twimg.com\/.+\.m3u8/),c=(e=[])=>e.map(d),d=e=>{let t=e.src;if(o.test(t)){const e=new s.a(t);e.addSearchParam("descending",!0),t=e.toString()}return Object.assign({},e,{src:t})}},ArJX:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var s=i("ZeN/"),r=i("aWzz"),n=i.n(r);const a={displayOptions:{},variants:[]};t.b={accessibilityLabel:n.a.string,adProvider:n.a.func,analytics:n.a.object,autoplay:n.a.bool,bitrateCap:n.a.number,contentId:n.a.string,contentType:n.a.oneOf(["media_entity","gif","vmap"]),controls:n.a.bool,cta:n.a.object,customOverlay:n.a.node,displayOptions:n.a.shape({objectFitVideo:n.a.oneOf(s.d),playerHandlesRotations:n.a.bool}),durationMs:n.a.number,enableNativeFullscreen:n.a.bool,eventId:n.a.string,featureProvider:n.a.shape({getValue:n.a.func}),geolocationPrompt:n.a.bool,httpClient:n.a.object,includeBroadcastEventAssociation:n.a.bool,initiallyMuted:n.a.bool,initiallyMutedCaptions:n.a.bool,intentToPlayTime:n.a.instanceOf(Date),language:n.a.string,loop:n.a.bool,maxLoopCount:n.a.number,mediaAvailability:n.a.object,playbackSessionId:n.a.string,poster:n.a.string,precache:n.a.bool,promotedContext:n.a.object,publisherId:n.a.string,requestedTimecode:n.a.string,setPlayerApi:n.a.func,shouldLoadTranslations:n.a.bool,shouldRetryAutoplayMuted:n.a.bool,twitterAuthedHttpClient:n.a.object,variants:n.a.arrayOf(n.a.shape({src:n.a.string,type:n.a.string})),videoEl:n.a.object,videoId:n.a.object,viewCount:n.a.oneOfType([n.a.string,n.a.number]),vmapUrl:n.a.string}},BNT4:function(e,t,i){"use strict";(function(e){i("IAdD"),i("JtPf");var s=i("KEM+"),r=i.n(s),n=i("hmHa"),a=i("ClFK"),o=i("cOYg"),c=i("A9/4"),d=i("WcfF"),l=i("+cpJ"),u=i("+9X6"),h=i("ZeN/"),p=i("6/SQ"),E=i("yruv"),f=i("ZcJ2"),g=i("lklz"),T=i("q3QN"),y=i("4k9e"),v=i("IC1n"),m=i.n(v),O=i("XLH+"),b=i("5vFY"),I=i("Q6z5"),R=i("UweJ"),_=i("q+jO"),S=i("oFRr"),A=i("GV/0");class P{constructor({source:t={},videoConfig:i,domElement:s,httpClient:a,twitterAuthedHttpClient:v,options:O={}}){r()(this,"teardown",()=>{this.broadcastUpdater&&this.broadcastUpdater.cancelUpdate(),this.unsubscribeCalls.forEach(e=>{e()}),this.unsubscribeCalls=[],Object(b.c)(this.id),this.source=void 0,this.session=void 0,T.a.dispatch(Object(y.c)(this.id)),void 0!==this.hydraExperienceId&&T.a.dispatch(Object(S.teardownExperience)(this.hydraExperienceId)),this.video&&this.video.teardown(),Object(R.i)(this.id),this.logger.clearLogs(),this.rejectPlayerReadyPromise()}),r()(this,"play",()=>(this.initiallyMuted?this.playPreview():this.playerReadyPromise.then(()=>{this._dispatch(n.O(this.id))}),this)),r()(this,"pause",()=>(this.playerReadyPromise.then(()=>{this._dispatch(n.N(this.id))}),this)),r()(this,"replay",()=>(this.playerReadyPromise.then(()=>{this._dispatch(n.Q(this.id))}),this)),r()(this,"mute",()=>(this.playerReadyPromise.then(()=>{this._dispatch(n.M(this.id))}),this)),r()(this,"unmute",()=>(this.playerReadyPromise.then(()=>{this._dispatch(n.S(this.id))}),this)),r()(this,"scrubToFraction",e=>(this.playerReadyPromise.then(()=>{this._dispatch(n.R(this.id,e))}),this)),r()(this,"setVolume",e=>(this.playerReadyPromise.then(()=>{this._dispatch(n.T(this.id,e))}),this)),r()(this,"setPlaybackTimeRange",({startTimeS:e,endTimeS:t})=>(this.playerReadyPromise.then(()=>{e<=0&&t>=this.video.getVideoTag().duration?this._dispatch(n.F(this.id)):this._dispatch(n.P(this.id,e,t))}),this)),r()(this,"fullScreen",e=>{const t=e||this.domElement;return T.a.dispatch(Object(A.f)(this.id,t,this.video.getVideoTag())),this}),r()(this,"exitFullScreen",()=>(T.a.dispatch(Object(A.g)(this.id)),this)),r()(this,"hideControls",()=>(this.playerReadyPromise.then(()=>{this._dispatch(n.I(this.id))}),this)),r()(this,"showControls",()=>(this.playerReadyPromise.then(()=>{this._dispatch(n.U(this.id))}),this)),r()(this,"playPreview",()=>(this.playerReadyPromise.then(()=>{this._dispatch(Object(_.f)(this.id)),this.initiallyMuted&&(this.initiallyMuted=!1)}),this)),r()(this,"pausePreview",()=>(this.playerReadyPromise.then(()=>{this._dispatch(Object(_.e)(this.id))}),this)),r()(this,"objectFitVideo",e=>(-1!==h.d.indexOf(e)&&this.video&&(this.video.objectFitVideo=e),this)),r()(this,"toggleCaptions",()=>(this.playerReadyPromise.then(()=>{const e=T.a.getState(),t=e&&e.players&&e.players[this.id],i=!(!t||!t.areCaptionsShown);this._dispatch(i?n.K(this.id,!0):n.L(this.id,!0))}),this)),r()(this,"nextTrack",()=>(this.playerReadyPromise.then(()=>{this._dispatch(Object(u.n)(this.id))}),this)),r()(this,"triggerError",e=>{const t=new Error(e||"synthetic");return T.a.dispatch(Object(p.h)(this.id,t)),this}),r()(this,"reload",({requestedTimecode:e,autoPlay:t=!1}={})=>{this.playerReadyPromise=new Promise((e,t)=>{this.resolvePlayerReadyPromise=e,this.rejectPlayerReadyPromise=t}).catch(()=>{});const i=(T.a.getState()||{players:{}}).players[this.id];let s=-1;if(i){if(void 0!==e)this.playerOptions.requestedTimecode=e;else if(0===i.currentTrackId){s=Object(c.b)(i).currentTimeMs/1e3}const{isPreview:r,isPlaying:a,isMuted:o}=i,d=a||t;this.playerReadyPromise.then(()=>{r?d?this._dispatch(Object(_.f)(this.id)):this._dispatch(Object(_.e)(this.id)):(d&&this._dispatch(n.O(this.id)),o&&this._dispatch(n.M(this.id)))})}return this.video&&this.video.teardownPlayer(),T.a.dispatch(this._reloadPlayer(this.id,this.source,this.videoConfig,this.session,this.resolvePlayerReadyPromise,this.rejectPlayerReadyPromise,Object.assign({},this.playerOptions,{reloadTimecode:s}),this.logger)),this}),r()(this,"on",(e,t)=>(Object.keys(o.a).forEach(i=>{o.a[i]===e&&Object(b.a)(this.id,e,t)}),this)),r()(this,"updatePosition",({percentVisible:e,percentOfViewportOccupied:t,sizesInfo:i})=>(this.playerReadyPromise.then(()=>{this._dispatch(n.V(this.id,e,t,i))}),this)),r()(this,"callToActionClicked",()=>(this.playerReadyPromise.then(()=>{this._dispatch(n.D(this.id))}),this)),r()(this,"callToActionImpression",()=>(this.playerReadyPromise.then(()=>{this._dispatch(n.E(this.id))}),this)),r()(this,"liveClickthroughClicked",()=>(this.playerReadyPromise.then(()=>{this._dispatch(n.J(this.id))}),this)),r()(this,"subscribe",e=>{const t=T.a.getState();let i=this._getPlayerState(t),s=this._getHydraState(t);const r=T.a.subscribe(()=>{const t=T.a.getState(),r=this._getPlayerState(t),n=this._getHydraState(t);void 0!==r&&(i!==r||s!==n)&&(i=r,s=n,e(r,n))});return this.unsubscribeCalls.push(r),r}),r()(this,"onStoreUpdate",e=>{e.errorInfo.autoRetry&&setTimeout(()=>{this.reload()},e.errorInfo.backoffMs||0)}),this.id=P.id,P.id+=1,this.unsubscribeCalls=[],this.source=t,this.videoConfig=i,this.session={id:m()()},this.playbackSessionId=O.playbackSessionId,this.initiallyMuted=O.initiallyMuted,this._reloadPlayer=I.j,this.playerReadyPromise=new Promise((e,t)=>{this.resolvePlayerReadyPromise=e,this.rejectPlayerReadyPromise=t}).then(Promise.resolve()).catch(()=>{}),O.autoplay&&this.play(),this.logger=new l.a(this.id),e.env.VIDEO_PLAYER_DEBUG&&(l.a.debuggingEnabled=!0),Object(R.g)(this.id,new E.a(new f.a(a)),new E.a(new f.a(v||a)),this.logger,new d.a,O.featureProvider),this.subscribe(this.onStoreUpdate),this.source.type!==g.a.BROADCAST&&this.source.type!==g.a.STATIC_BROADCAST||(this.hydraExperienceId=O.hydraExperienceId=T.a.dispatch(Object(S.registerExperience)())),this.options=O;let C=-1;const L=this.playbackSessionId?Object(R.h)(this.playbackSessionId):void 0;L&&(this.options.videoEl=O.videoEl||L.videoEl,C=L.reloadTimecode);const{bitrateCap:w,enableNativeFullscreen:D,featureProvider:N,includeBroadcastEventAssociation:k,initiallyMutedCaptions:j,intentToPlayTime:U,maxLoopCount:M,promotedContext:F,requestedTimecode:x,showGeolocationPrompt:V}=this.options;this.playerOptions={bitrateCap:w,enableNativeFullscreen:D,featureProvider:N,includeBroadcastEventAssociation:k,initiallyMutedCaptions:j,intentToPlayTime:U,maxLoopCount:M,promotedContext:F,reloadTimecode:C,requestedTimecode:x,showGeolocationPrompt:V},T.a.dispatch(Object(I.g)(this.id,t,i,this.session,O.analytics,O.adProvider,this.resolvePlayerReadyPromise,this.rejectPlayerReadyPromise,this.playerOptions,this.logger)).then(e=>{this.broadcastUpdater=e}),s&&this.attach(s)}attach(e){this.video||(this.domElement=e,this.video=new O.a(this.domElement,this.id,T.a,this.reload,this.logger,this.options))}_getPlayerState(e){if(e.players)return e.players[this.id]}_getHydraState(e){if(void 0!==this.hydraExperienceId&&e.hydraExperiences)return e.hydraExperiences[this.hydraExperienceId]}_dispatch(e){const t=T.a.getState();this._getPlayerState(t)?T.a.dispatch(e):this.triggerError(a.a.MEDIA_TEARDOWN_ERROR)}}r()(P,"id",0),t.a=P}).call(this,i("F63i"))},BZ2a:function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"d",(function(){return r})),i.d(t,"e",(function(){return n})),i.d(t,"a",(function(){return a}));i("IAdD");const s="SET_TARGET_DURATION",r=(e,t)=>({type:s,targetDuration:t,playerId:e}),n=(e,t)=>({type:"UPDATE_BUFFER_LENGTH",maximumBufferLength:t,playerId:e});t.c=(e,t)=>{switch(t.type){case"UPDATE_BUFFER_LENGTH":return t.maximumBufferLength===e.maximumBufferLength?e:Object.assign({},e,{maximumBufferLength:t.maximumBufferLength});case s:return Object.assign({},e,{targetDuration:t.targetDuration});default:return e}};const a={maximumBufferLength:void 0,targetDuration:void 0}},ClFK:function(e,t,i){"use strict";t.a={BROADCAST_REQUEST_ERROR:"BROADCAST_REQUEST_ERROR",BROADCAST_ENDED_NO_REPLAY:"BROADCAST_ENDED_NO_REPLAY",BROADCAST_NOT_FOUND:"BROADCAST_NOT_FOUND",CONFIG_USER_DATA_NETWORK_ERROR:"CONFIG_USER_DATA_NETWORK_ERROR",CONFIG_NETWORK_ERROR:"CONFIG_NETWORK_ERROR",DMCA_TAKEDOWN_ERROR:"DMCA_TAKEDOWN_ERROR",EUROPEAN_COPYRIGHT_VIOLATION:"EUROPEAN_COPYRIGHT_VIOLATION",LIVE_PARSE_ERROR:"LIVE_PARSE_ERROR",LIVE_STREAM_ACQUISITION_MISSING_CONTENT_ID:"LIVE_STREAM_ACQUISITION_MISSING_CONTENT_ID",LIVE_STREAM_ACQUISITION_NETWORK_ERROR:"LIVE_STREAM_ACQUISITION_NETWORK_ERROR",LIVE_VIDEO_GEOBLOCK_ERROR:"LIVE_VIDEO_GEOBLOCK_ERROR",LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR:"LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR",LIVE_VIDEO_GEOLOCATION_PROMPT:"LIVE_VIDEO_GEOLOCATION_PROMPT",LIVE_VIDEO_NO_COOKIES_ERROR:"LIVE_VIDEO_NO_COOKIES_ERROR",MEDIA_NOT_SUPPORTED:"MEDIA_NOT_SUPPORTED",MEDIA_SRC_INVALID_ERROR:"MEDIA_SRC_INVALID_ERROR",MEDIA_ABORTED:"MEDIA_ABORTED",MEDIA_NETWORK_ERROR:"MEDIA_NETWORK_ERROR",MEDIA_DECODE_ERROR:"MEDIA_DECODE_ERROR",MEDIA_GEOBLOCK_ERROR:"MEDIA_GEOBLOCK_ERROR",MEDIA_TEARDOWN_ERROR:"MEDIA_TEARDOWN_ERROR",MEDIA_UNKNOWN_CODE_ERROR:"MEDIA_UNKNOWN_CODE_ERROR",ORIGINAL_CONTEXT_DELETED:"ORIGINAL_CONTEXT_DELETED",UNSUPPORTED_TYPE:"UNSUPPORTED_TYPE",VMAP_NETWORK_ERROR:"VMAP_NETWORK_ERROR",VMAP_PARSE_ERROR:"VMAP_PARSE_ERROR"}},"GV/0":function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"f",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"g",(function(){return o})),i.d(t,"d",(function(){return c})),i.d(t,"h",(function(){return d})),i.d(t,"a",(function(){return l}));i("IAdD");var s=i("Q6z5");const r="REQUEST_FULLSCREEN",n=(e,t,i)=>({type:r,playerId:e,containerEl:t,videoEl:i}),a="REQUEST_SHRINK",o=(e,t)=>({playerId:e,type:a,element:t}),c="SET_FULLSCREEN_STATE",d=(e,t)=>({type:c,playerId:e,isFullscreen:t});t.e=(e,t)=>{switch(t.type){case s.c:return Object.assign({},e,{fullscreen:Object.assign({},e.fullscreen,{enableNative:t.enableNativeFullscreen})});case c:return Object.assign({},e,{fullscreen:Object.assign({},e.fullscreen,{isFullscreen:t.isFullscreen})});default:return e}};const l={fullscreen:{isFullscreen:!1,enableNative:!1}}},IC1n:function(e,t,i){var s=i("fjNU"),r=i("X/SR");e.exports=function(e,t,i){var n=t&&i||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||s)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var o=0;o<16;++o)t[n+o]=a[o];return t||r(a)}},PNAC:function(e,t,i){"use strict";i("M+/F"),i("IAdD"),t.__esModule=!0,t.default=t.InitialState=t.updateAudioLevels=t.UPDATE_AUDIO_LEVELS=void 0;t.UPDATE_AUDIO_LEVELS="UPDATE_AUDIO_LEVELS";t.updateAudioLevels=function(e,t){return{type:"UPDATE_AUDIO_LEVELS",audioLevels:t,experienceId:e}};var s={guests:{},host:0};t.InitialState=s;t.default=function(e,t){switch(void 0===e&&(e=s),t.type){case"UPDATE_AUDIO_LEVELS":for(var i=t.audioLevels,r=i[0],n=i.slice(1),a={},o=0;o<n.length;o++)a[o]=n[o];return Object.assign({},e,{guests:a,host:r});default:return e}}},Q6z5:function(e,t,i){"use strict";i.d(t,"c",(function(){return w})),i.d(t,"e",(function(){return D})),i.d(t,"a",(function(){return N})),i.d(t,"f",(function(){return k})),i.d(t,"b",(function(){return j})),i.d(t,"i",(function(){return M})),i.d(t,"g",(function(){return F})),i.d(t,"j",(function(){return x})),i.d(t,"d",(function(){return V}));i("IAdD"),i("kYxP");var s=i("LdEA"),r=i.n(s),n=i("6/SQ"),a=i("+cpJ"),o=(i("jQ/y"),i("JtPf"),i("ZeN/")),c=i("ClFK"),d=i("A9/4"),l=i("lklz");const u=(e=[],t=!0)=>({ids:e.join(","),include_events:t}),h=(e,t,i)=>{try{return e.dispatch({method:"GET",host:"https://api.twitter.com",path:"/1.1/broadcasts/show.json",params:u([t],i),withCredentials:!0}).then(e=>{if(200!==e.status)return Promise.reject(`${c.a.BROADCAST_REQUEST_ERROR}:${e.status}`);const{broadcasts:i,events:s}=JSON.parse(e.body);if(!i||!i[t]||!i[t].broadcast_id)return Promise.reject(c.a.BROADCAST_NOT_FOUND);if("RUNNING"!==i[t].state&&!i[t].available_for_replay)return Promise.reject(c.a.BROADCAST_ENDED_NO_REPLAY);const r={broadcast:i[t]};return s&&s[t]&&s[t].length&&(r.associatedEvent=s[t][0]),r},e=>Promise.reject(c.a.BROADCAST_REQUEST_ERROR))}catch(e){return Promise.reject(e)}},p=({broadcast:e,associatedEvent:t={}})=>{const{state:i,total_watched:s,total_watching:r,image_url:n,start_ms:a,ping_ms:c,timedout_ms:d,end_ms:l}=e,{description:u,title:h,url:p,id:E}=t,f="RUNNING"===i,g=n,T=parseInt(r,10)||0,y=parseInt(s,10)||0,v={isLive:f,viewerCount:f?T:y,posterImage:g,eventDescription:u,eventTitle:h,eventUrl:p,eventId:E};if(h&&p&&(v.cta={label:h,type:o.b.EVENT,url:p}),!f){const e=(l||d||c||a)-a;v.durationMs=e}return v},E=e=>e.source&&e.source.type===l.a.BROADCAST;class f{constructor(e,t,i,s,r){this.dispatch=e,this.httpClient=t,this.playerId=i,this.broadcastId=s,this.includeBroadcastEventAssociation=r,this.updaterTimeout=null}queueUpdate(e){const t=e?15:30;let i,s;const r=new Promise((e,t)=>{i=e,s=t});return this.updaterTimeout=setTimeout(()=>{var e,t,r;(e=this.httpClient,t=this.broadcastId,r=this.includeBroadcastEventAssociation,h(e,t,r).then(e=>p(e),e=>{throw new Error(e)})).then(e=>{null!=this.updaterTimeout&&(this.queueUpdate(e.isLive),this.dispatch(k(this.playerId,e))),i()},e=>{s(e)})},1e3*t),r}cancelUpdate(){clearTimeout(this.updaterTimeout),this.updaterTimeout=null}}class g{constructor(e,t){this.httpClient=e,this.includeBroadcastEventAssociation=t}load(e){return this.httpClient?((e,t,i)=>{if(!E(t))return Promise.resolve(t);const s=t.source.id;return h(e,s,i).then(e=>{const i=Object(d.d)(t,0),s=(({broadcast_id:e,media_key:t,profile_image_url:i,replay_edited_start_time:s,requires_fine_grain_geoblocking:r,twitter_user_id:n,user_id:a,unavailable_in_periscope:o,user_display_name:c})=>({broadcastId:e,contentId:t,contentType:"broadcast",displayType:"content",expandedUrl:"https://www.pscp.tv/w/"+e,isEventGeoblocked:r,playbackType:"application/x-mpegURL",publisherDisplayName:c,publisherId:n,periscopePublisherId:a,publisherProfileImageUrl:i,replayEditedStartTime:s,shouldLoop:!1,unavailableInPeriscope:o}))(e.broadcast),n=p(e),{cta:a,durationMs:o,isLive:c,viewerCount:l,viewCount:u}=n,h=r()(n,["cta","durationMs","isLive","viewerCount","viewCount"]);return t.posterImage&&delete h.posterImage,Object.assign({},t,h,{client:"web",tracks:[Object.assign({},i,s,{cta:a,durationMs:o,id:0,isLive:c,viewerCount:l,viewCount:u})],currentTrackId:0,source:Object.assign({},t.source,{trackId:0})})},e=>{throw new Error(e)})})(this.httpClient,e,this.includeBroadcastEventAssociation):Promise.reject(c.a.MEDIA_TEARDOWN_ERROR)}}var T=i("UVZ6"),y=i("Yfpf"),v=i("zytq"),m=i("i9V9");const O={features:{fatalErrorRetryMax:3},translations:{}};var b=class{constructor(e,t){this.httpClient=e,this.logger=t}load(e,t){if(!this.httpClient)return Promise.reject(c.a.MEDIA_TEARDOWN_ERROR);const{videoConfig:i}=e,s=r()(e,["videoConfig"]);return(i&&(i.vmapUrl||e.videoConfig.variants&&e.videoConfig.variants.length>0)?this.loadStaticConfigState(i,e.source):this.loadDynamicConfigState(e.source,i,t)).then(e=>this.convertConfigStateToPlayerState(e,s,t))}loadStaticConfigState(e,t){const i=(()=>{try{return JSON.parse(window.sessionStorage.getItem("TwitterVideoPlayerUserConfig"))}catch(e){}})(),s={eventId:e.eventId,posterImage:e.poster,track:{contentId:e.contentId,contentType:e.contentType,cta:e.cta,durationMs:e.durationMs,expandedUrl:e.expandedUrl,mediaAvailability:e.mediaAvailability,publisherId:e.publisherId,shouldLoop:e.loop,variants:e.variants,viewCount:e.viewCount,vmapUrl:e.vmapUrl}};if(!e.shouldLoadTranslations||!this._shouldLoadStaticConfig(t))return Promise.resolve(Object.assign({},O,s));const r=this.httpClient.dispatch({method:"GET",path:"/1.1/videos/static/config.json",host:"https://api.twitter.com"}).then(e=>{if(200!==e.status)throw new Error(`${c.a.CONFIG_USER_DATA_NETWORK_ERROR}:${e.status}`);{const t=JSON.parse(e.body);return(e=>{try{window.sessionStorage.setItem("TwitterVideoPlayerUserConfig",JSON.stringify(e))}catch(e){}})(t),t}},()=>{throw new Error(c.a.CONFIG_USER_DATA_NETWORK_ERROR)}).catch(e=>(this.logger.log("ConfigurationLoader","failed to load static configuration: "+e),Object.assign({},O)));return(i?Promise.resolve(i):r).then(({features:e,translations:t})=>Object.assign({},s,{features:e,translations:t}))}loadDynamicConfigState(e,t,i){if(e.type===l.a.BROADCAST&&t&&!t.shouldLoadTranslations)return Promise.resolve(Object.assign({},O));try{return this.httpClient.dispatch({method:"GET",path:this.getApiEndpointForPlayerSource(e),host:"https://api.twitter.com",params:{bitrate_cap:i.bitrateCap}}).then(e=>{if(200!==e.status)throw new Error(`${c.a.CONFIG_NETWORK_ERROR}:${e.status}`);{const i=JSON.parse(e.body);return t&&t.poster&&(i.posterImage=t.poster),i}},()=>{throw new Error(c.a.CONFIG_NETWORK_ERROR)})}catch(e){return Promise.reject(e)}}convertConfigStateToPlayerState(e,t,i){const{track:s,translations:n}=e,a=r()(e,["track","translations"]),o=i.reloadTimecode,l=Object(y.b)(i.requestedTimecode),u=l>0||0===l?l:-1;let h,p;Object(m.e)(n),s&&(({mediaAvailability:p}=s),i.maxLoopCount&&(s.maxLoopCount=i.maxLoopCount,s.loopCounter=0),s.variants&&s.variants.length>0?h=s.variants:s.playbackUrl&&s.playbackType&&(h=[{src:s.playbackUrl,type:s.playbackType}])),Object(v.a)()&&(h=Object(d.a)(h));const E=Object(T.a)(p);if(E){let e;switch(E){case c.a.ORIGINAL_CONTEXT_DELETED:case c.a.DMCA_TAKEDOWN_ERROR:throw new Error(E);case c.a.EUROPEAN_COPYRIGHT_VIOLATION:throw e=new Error(E),e.copyrightHolder=p.unavailability_info.copyright_violation.copyright_holder_name,e}}return Object.assign({},t,a,{tracks:[Object.assign({},s,{id:0,displayType:"content",requestedTimecode:u,reloadTimecode:o,rotation:0,variants:h,currentVariantIndex:0})],currentTrackId:0,source:Object.assign({},t.source,{trackId:0}),mediaAvailability:p})}getApiEndpointForPlayerSource(e){switch(e.type){case l.a.TWEET:{const t=e.index>0?"/"+e.index:"";return`/1.1/videos/tweet/config/${e.id}${t}.json`}case l.a.BROADCAST:return`/1.1/videos/broadcast/config/${e.id}.json`;case l.a.DM:return`/1.1/videos/dm/config/${e.id}.json`;default:throw new Error(`${c.a.UNSUPPORTED_TYPE}:${e.type}`)}}_shouldLoadStaticConfig(e){return e.type!==l.a.STATIC_BROADCAST}},I=i("YKqM");const R="error",_="playback";var S=class{constructor(e,t,i,s,r){this.dispatch=e,this.httpClient=t,this.twitterAuthedHttpClient=i,this.playerId=s,this.showGeolocationPrompt=r}load(e){if(!this.httpClient||!this.twitterAuthedHttpClient)return Promise.reject(c.a.MEDIA_TEARDOWN_ERROR);const t=e.tracks[0];return"live"!==t.contentType&&"broadcast"!==t.contentType?Promise.resolve(e):t.contentId?this.getUserPermission(t).then(this.getUserGeolocation.bind(this)).then(this.parseGeolocationData.bind(this)).then(this.acquireLiveStream.bind(this,e)).then(this.parseStreamAcquisitionResponse.bind(this)).then(this.setCookies.bind(this)).then(this.checkCookies.bind(this)).catch(this.handleRejectedPromises.bind(this)).then(({isLiveTimecode:i,playbackUrl:s,lifecycleToken:r,chatToken:n,broadcastShareUrl:a,restrictions:o})=>{if(void 0!==o){if(void 0!==o.find(e=>"geoblocked"===e.restriction))throw new Error(c.a.LIVE_VIDEO_GEOBLOCK_ERROR);const e=o.find(e=>"copyright-violation"===e.restriction);if(void 0!==e){const t=new Error(c.a.LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR);throw t.restriction=e,t}}return Object.assign({},e,{tracks:[Object.assign({},t,{isLive:"live"===t.contentType||t.isLive,isLiveTimecode:i,variants:[{src:s,type:"application/x-mpegURL"}],lifecycleToken:r,chatToken:n,broadcastShareUrl:a})]})}):Promise.reject(Error(c.a.LIVE_STREAM_ACQUISITION_MISSING_CONTENT_ID))}getUserPermission(e){return e.isEventGeoblocked?this.showGeolocationPrompt?Promise.resolve({shouldGetGeolocation:!0}):"permissions"in navigator?navigator.permissions.query({name:"geolocation"}).then(e=>{const t="granted"===e.state;return Promise.resolve({shouldGetGeolocation:t})}):Promise.resolve({shouldGetGeolocation:!1}):Promise.resolve({shouldGetGeolocation:!1})}getUserGeolocation({shouldGetGeolocation:e}){return e&&"geolocation"in navigator?(this.dispatch(Object(n.g)(this.playerId)),new Promise(e=>{navigator.geolocation.getCurrentPosition(t=>e(t),()=>e())})):Promise.resolve()}parseGeolocationData(e){return Promise.resolve({latitude:e&&e.coords.latitude,longitude:e&&e.coords.longitude})}acquireLiveStream(e,t){const{params:i,path:s,isLiveTimecode:r}=this.getLiveStreamAcquisitionDetails(e,t);return this.twitterAuthedHttpClient.dispatch({host:"https://api.twitter.com",method:"GET",params:i,path:s}).then(e=>e.status<200||e.status>=400?Promise.reject({type:R,reason:c.a.LIVE_STREAM_ACQUISITION_NETWORK_ERROR}):(this.dispatch(Object(n.f)(this.playerId)),Promise.resolve({body:e.body,isLiveTimecode:r})),()=>Promise.reject({type:R,reason:c.a.LIVE_STREAM_ACQUISITION_NETWORK_ERROR}))}getLiveStreamAcquisitionDetails(e,t){const{latitude:i,longitude:s}=t,{client:r,source:n}=e,a=n&&n.trackId||0,o=e.tracks[a],c={client:r,use_syndication_guest_id:"tfw"===r,lat:i,lng:s,cookie_set_host:new I.a(window.location.href).getHostname()},d=e.features&&e.features.isLiveTimecodeEnabled&&(o.requestedTimecode>0||0===o.requestedTimecode);return d&&(c.latest_replay_playlist=!0),{params:c,isLiveTimecode:d,path:"/1.1/live_video_stream/status/"+o.contentId}}parseStreamAcquisitionResponse(e){const t=JSON.parse(e.body);return t&&t.source&&t.source.noRedirectPlaybackUrl?Promise.resolve({cookieSetUrl:t.source.cookieSetUrl,isLiveTimecode:e.isLiveTimecode,playbackUrl:t.source.noRedirectPlaybackUrl,lifecycleToken:t.lifecycleToken,chatToken:t.chatToken,broadcastShareUrl:t.shareUrl,restrictions:t.restrictions}):Promise.reject({type:R,reason:c.a.LIVE_PARSE_ERROR})}setCookies(e){const{cookieSetUrl:t}=e,i=r()(e,["cookieSetUrl"]);return t?this.httpClient.dispatch({method:"GET",path:t,host:"",withCredentials:!0}).then(()=>Promise.resolve(e),()=>Promise.reject({type:_,payload:i})):Promise.reject({type:_,payload:i})}checkCookies(e){const t=new I.a(e.cookieSetUrl);return window.location.host===t.getHostname()?Promise.resolve(e):this.httpClient.dispatch({method:"GET",path:"https://t.lv.twimg.com/live_video_stream/cookie_check",host:"",withCredentials:!0}).then(t=>400!==t.status?Promise.resolve(e):Promise.reject({type:R,reason:c.a.LIVE_VIDEO_NO_COOKIES_ERROR}),()=>Promise.reject({type:R,reason:c.a.LIVE_VIDEO_NO_COOKIES_ERROR}))}handleRejectedPromises(e){if(e.type===_)return Promise.resolve(e.payload);{const t=e.reason?new Error(e.reason):e;return Promise.reject(t)}}};i("MvUL"),i("tVqn");var A=class{constructor(e){this.httpClient=e}load(e){if(!this.httpClient)return Promise.reject(c.a.MEDIA_TEARDOWN_ERROR);const t=e.tracks[0];return"vmap"!==t.contentType?Promise.resolve(e):this.httpClient.dispatch({method:"GET",path:t.vmapUrl,host:"",withCredentials:!1}).then(i=>{if(i.status<200||i.status>=400)throw new Error(c.a.VMAP_NETWORK_ERROR);{const s=this.parseVmap(i.body);return Object.assign({},e,{tracks:[Object.assign({},t,s)]})}},()=>{throw new Error(c.a.VMAP_NETWORK_ERROR)})}parseVmap(e){const t=(new window.DOMParser).parseFromString(e,"application/xml").getElementsByTagNameNS("http://twitter.com/schema/videoVMapV2.xsd","content")[0];if(void 0===t)throw new Error(c.a.VMAP_PARSE_ERROR);const i=t.getElementsByTagName("MediaFile")[0];if(void 0===i)throw new Error(c.a.VMAP_PARSE_ERROR);const s=i.textContent.trim().replace(/^http:\/\/amp\.twimg\.com\//,"https://amp.twimg.com/"),r=i.getAttribute("type")||(e=>{const t=new I.a(e).getPath();return".m3u8"===t.slice(t.lastIndexOf("."))?"application/x-mpegURL":"video/mp4"})(s);return{publisherId:t.getAttribute("ownerId"),contentId:t.getAttribute("contentId"),variants:[{src:s,type:r}],cta:this.getCta(t)}}getCta(e){const t=e.getElementsByTagNameNS("http://twitter.com/schema/videoVMapV2.xsd","cta_open_url")[0],i=e.getElementsByTagNameNS("http://twitter.com/schema/videoVMapV2.xsd","cta_watch_now")[0];return void 0!==t?{type:"url",url:t.getAttribute("url")}:void 0!==i?{type:"watch",url:i.getAttribute("url")}:void 0}};const P=(e,t,i,s,r,n,a)=>[new b(i,a),new g(i,n),new A(t),new S(e,t,i,s,r)];var C=(e,t,i,s)=>{const r=Promise.resolve({source:e,videoConfig:t});return i.reduce((e,t)=>e.then(e=>t.load(e,s)),r)},L=i("UweJ");const w="CONFIGURE_PLAYER",D="RELOADING_PLAYER",N="BROADCAST_UPDATED",k=(e,t)=>({type:N,updatedState:t,playerId:e}),j="CONFIGURATION_LOADED",U=(e,t)=>({type:j,playerState:t,playerId:e}),M=(e,t)=>({type:"FEATURES_LOADED",features:t,playerId:e}),F=(e,t,i,s,r,a,o,c,d={},l)=>u=>(u(((e,t,i,s,r,n,a,o,c,d)=>({type:w,source:t,session:i,analytics:s,playerId:e,adProvider:r,videoConfig:n,promotedContext:a,initiallyMutedCaptions:o,enableNativeFullscreen:c,intentToPlayTime:d}))(e,t,s,r,a,i,d.promotedContext,d.initiallyMutedCaptions,d.enableNativeFullscreen,d.intentToPlayTime)),C(t,i,P(u,Object(L.c)(e),Object(L.e)(e),e,d.showGeolocationPrompt,d.includeBroadcastEventAssociation,l),d).then(t=>{if(u(U(e,t)),o(),E(t)){const i=t.source.id,s=new f(u,Object(L.e)(e),e,i,d.includeBroadcastEventAssociation);return s.queueUpdate(t.isLive).catch(t=>{u(Object(n.d)(e,t))}),s}}).catch(t=>{u(Object(n.d)(e,t)),c()})),x=(e,t,i,s,r,a,o={},c)=>d=>(d(((e,t,i)=>({type:D,playerId:e,source:t,session:i}))(e,t,s)),C(t,i,P(d,Object(L.c)(e),Object(L.e)(e),e,o.showGeolocationPrompt,o.includeBroadcastEventAssociation,c),o).then(t=>{d(U(e,t)),r()}).catch(t=>{d(Object(n.d)(e,t)),a()}));t.h=(e,t)=>{switch(t.type){case w:case D:return Object.assign({},e,t.promotedContext,{source:t.source,session:t.session,playerId:t.playerId,configuration:{loading:!0}});case j:return t.playerState.features.isDebuggingEnabled&&(a.a.debuggingEnabled=!0),Object.assign({},e,t.playerState,{features:Object.assign({},e.features,t.playerState.features),configuration:{loading:!1}});case"FEATURES_LOADED":return Object.assign({},e,{features:Object.assign({},e.features,t.features)});case N:{const i=t.updatedState,{cta:s,isLive:n,viewerCount:a,viewCount:o}=i,c=r()(i,["cta","isLive","viewerCount","viewCount"]),{sourceTrack:d,otherTracks:l}=(e=>{const t=e.tracks;return{sourceTrack:t.find(t=>t.id===e.source.trackId),otherTracks:t.filter(t=>t.id!==e.source.trackId)}})(e);return d&&(0===d.requestedTimecode||d.requestedTimecode>0)&&delete c.posterImage,Object.assign({},e,c,{tracks:[...l,Object.assign({},d,{cta:s,isLive:n,viewerCount:a,viewCount:o})]})}default:return e}};const V={configuration:{loading:!1,error:void 0},tracks:[]}},QkOM:function(e,t,i){var s=i("9JhN"),r=i("Ya2h").trim,n=i("+/eK"),a=s.parseInt,o=/^[+-]?0[Xx]/,c=8!==a(n+"08")||22!==a(n+"0x16");e.exports=c?function(e,t){var i=r(String(e));return a(i,t>>>0||(o.test(i)?16:10))}:a},RhWx:function(e,t,i){var s=i("tGbD"),r=i("twbh"),n=i("peMk"),a=i("d8WC");e.exports=function(e){return s(e)||r(e)||n(e)||a()}},Tvra:function(e,t,i){"use strict";(function(e){var i="object"==typeof e&&e&&e.Object===Object&&e;t.a=i}).call(this,i("fRV1"))},UVZ6:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return n}));var s=i("ClFK");function r(e,t){const i=e.getState();if(i&&i.players&&i.players[t])return i.players[t]}const n=e=>{if(e&&"unavailable"===e.status){switch(e.reason){case"geoblocked":return s.a.MEDIA_GEOBLOCK_ERROR;case"deleted":return s.a.ORIGINAL_CONTEXT_DELETED;case"dmcaed":return s.a.DMCA_TAKEDOWN_ERROR;case"copyright_violation":return s.a.EUROPEAN_COPYRIGHT_VIOLATION}}return null}},WcfF:function(e,t,i){"use strict";t.a=class{constructor(){this.byteAccumulator=0}add(e){this.byteAccumulator+=e}getAndReset(){const e=this.byteAccumulator;return this.byteAccumulator=0,e}}},"X/SR":function(e,t){for(var i=[],s=0;s<256;++s)i[s]=(s+256).toString(16).substr(1);e.exports=function(e,t){var s=t||0,r=i;return[r[e[s++]],r[e[s++]],r[e[s++]],r[e[s++]],"-",r[e[s++]],r[e[s++]],"-",r[e[s++]],r[e[s++]],"-",r[e[s++]],r[e[s++]],"-",r[e[s++]],r[e[s++]],r[e[s++]],r[e[s++]],r[e[s++]],r[e[s++]]].join("")}},"XLH+":function(e,t,i){"use strict";i("IAdD"),i("JtPf"),i("LJOr"),i("kYxP");var s=i("KEM+"),r=i.n(s),n=i("hmHa"),a=i("jJ/G"),o=i("ClFK"),c=i("A9/4"),d=i("2/88"),l=i("UweJ"),u=i("ZeN/");const h=(e,t)=>class extends t.DefaultConfig.loader{constructor(t){super(t);const i=this.load.bind(this);this.load=(t,s,r)=>{const n=r.onSuccess;r.onSuccess=(t,i,s)=>{Object(l.b)(e,e=>{e.add(i.total)}),n(t,i,s)},i(t,s,r)}}};var p=i("6/SQ"),E=i("BZ2a"),f=i("YKqM"),g=i("+9X6"),T=i("QqIv");i("Ysgh");function y(e){return"captions"===e.kind&&e.cues&&e.cues.length>0||"subtitles"===e.kind}function v(e,t){if(t&&e){const i=t.split("-")[0];return e.toLowerCase()===i.toLowerCase()}}var m=i("a9ls"),O=i("zytq"),b=i("oFRr"),I=i("7st9");let R;const _=1,S=2,A=3,P=4,C={CAPTIONS:"captions",METADATA:"metadata",SUBTITLES:"subtitles"},L="disabled",w="hidden",D="showing";function N(e){return void 0!==e.getTime?e.getTime():e}t.a=class{constructor(e,t,i,s,n,a={}){r()(this,"onLoadStart",()=>{this.playerRenderPromise||this.dispatchPlayerReady()}),this.domElement=e,this.playerId=t,this.hydraExperienceId=a.hydraExperienceId,this.store=i,this.reload=s,this.showControls=a.showControls,this.objectFitVideo=a.objectFitVideo,this.playerHandlesRotations=a.playerHandlesRotations,this.language=a.language,this.precache=a.precache,this.videoEl=a.videoEl,this.accessibilityLabel=a.accessibilityLabel,this.id3Disabled=!1,this.activeCues={},this.shouldRetryAutoplayMuted=a.shouldRetryAutoplayMuted,Object(O.c)()||(this.hlsjsVersion=i.dispatch(Object(d.b)(t,I.b)),this.hlsJsSegmentsToPrebuffer=u.c),this.isHlsWorkerEnabled=i.dispatch(Object(d.b)(t,I.c))||!1,this.liveAdDomainRegex=/t.lv.twimg.com$|ton.twitter.com$/,this.logger=n,this.onLoadedMetadata=this.onLoadedMetadata.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onCanPlay=this.onCanPlay.bind(this),this.onPlay=this.onPlay.bind(this),this.onPlaying=this.onPlaying.bind(this),this.onPause=this.onPause.bind(this),this.onVolumeChange=this.onVolumeChange.bind(this),this.onSeeked=this.onSeeked.bind(this),this.onSeeking=this.onSeeking.bind(this),this.onEnded=this.onEnded.bind(this),this.onError=this.onError.bind(this),this.onHlsJsError=this.onHlsJsError.bind(this),this.onId3CueWithInfo=this.onId3CueWithInfo.bind(this),this.onId3CueWithData=this.onId3CueWithData.bind(this),this.onFragmentLoading=this.onFragmentLoading.bind(this),this.onFragmentParsingInitSegment=this.onFragmentParsingInitSegment.bind(this),this.onLevelSwitching=this.onLevelSwitching.bind(this),this.onLevelLoaded=this.onLevelLoaded.bind(this),this.onBufferStart=this.onBufferStart.bind(this),this.onManifestParsed=this.onManifestParsed.bind(this),this.render=this.render.bind(this),this.dispatchPlayerReady=this.dispatchPlayerReady.bind(this),this.hlsJsPlay=this.hlsJsPlay.bind(this),this.shouldUseBitratePersistence=this.shouldUseBitratePersistence.bind(this),this.unsubscribeFromStore=this.store.subscribe(this.render),this.playPromise=Promise.resolve(),this.renderVideoTag(),this.render()}teardownPlayer(e=!0){this.trackDataUsage();const t=this.hlsJs;if(t){t.detachMedia();const e=()=>{t.destroy()};this.hlsJs=void 0,this.playPromise.then(e).catch(e)}if(this.videoTag){this.stopListeningForId3Tags(),this.videoTag.removeEventListener("loadedmetadata",this.onLoadedMetadata),this.videoTag.removeEventListener("timeupdate",this.onTimeUpdate),this.videoTag.removeEventListener("canplay",this.onCanPlay),this.videoTag.removeEventListener("play",this.onPlay),this.videoTag.removeEventListener("playing",this.onPlaying),this.videoTag.removeEventListener("pause",this.onPause),this.videoTag.removeEventListener("volumechange",this.onVolumeChange),this.videoTag.removeEventListener("seeked",this.onSeeked),this.videoTag.removeEventListener("seeking",this.onSeeking),this.videoTag.removeEventListener("ended",this.onEnded),this.videoTag.removeEventListener("error",this.onError),this.videoTag.removeEventListener("waiting",this.onBufferStart),this.videoTag.removeEventListener("loadstart",this.onLoadStart),this.videoTag.textTracks&&(this.videoTag.textTracks.onaddtrack=void 0);try{this.videoTag.pause(),this.videoTag.removeAttribute("src"),this.videoTag.removeAttribute("poster"),this.videoTag.load()}catch(e){}this.videoTag.parentNode&&this.videoTag.parentNode.removeChild(this.videoTag),this.videoTag=void 0}this.renderedTrackId=void 0,this.hasEndedOnce=!1,this.activeCues=void 0,e&&(this.renderVideoTag(),this.activeCues={})}teardown(){this.teardownPlayer(!1),this.domElement.parentNode&&this.domElement.parentNode.removeChild(this.domElement),this.unsubscribeFromStore()}getVideoTag(){return this.videoTag}renderVideoTag(){this.videoTag=this.videoEl||document.createElement("video"),this.videoTag.setAttribute("preload","none"),this.videoTag.setAttribute("playsinline",""),this.showControls&&this.videoTag.setAttribute("controls",""),this.accessibilityLabel&&this.videoTag.setAttribute("aria-label",this.accessibilityLabel),this.videoTag.style.width="100%",this.videoTag.style.height="100%",this.videoTag.style.position="absolute",this.videoTag.style.backgroundColor="black",this.videoTag.addEventListener("loadstart",this.onLoadStart,!1),this.videoTag.addEventListener("loadedmetadata",this.onLoadedMetadata),this.videoTag.addEventListener("timeupdate",this.onTimeUpdate),this.videoTag.addEventListener("play",this.onPlay),this.videoTag.addEventListener("pause",this.onPause),this.videoTag.addEventListener("volumechange",this.onVolumeChange),this.videoTag.addEventListener("seeked",this.onSeeked),this.videoTag.addEventListener("seeking",this.onSeeking),this.videoTag.addEventListener("ended",this.onEnded),this.videoTag.addEventListener("error",this.onError),this.videoTag.addEventListener("playing",this.onPlaying),this.videoTag.addEventListener("waiting",this.onBufferStart),this.videoTag.addEventListener("canplay",this.onCanPlay),this.videoTag.textTracks&&(this.videoTag.textTracks.onaddtrack=this.handleTrackAdded.bind(this)),this.hasEndedOnce=!1}onLoadedMetadata(){this.checkInitialSeek()}onTimeUpdate(){var e;if(void 0===this.dateTimeAnchor&&void 0!==this.videoTag.getStartDate){const e=this.videoTag.getStartDate();e&&(this.dateTimeAnchor={streamTimeMs:0,absoluteTimeMs:e.getTime()})}const t=1e3*this.videoTag.currentTime;let i;void 0!==this.dateTimeAnchor&&(i=t-this.dateTimeAnchor.streamTimeMs+this.dateTimeAnchor.absoluteTimeMs);let s=0;const r=this.videoTag.currentSrc;if(r){const e=this.getCurrentTrack();if(void 0===e)return;const t=e.variants;if(void 0===t)return;for(let e=0;e<t.length;e++)if(t[e].src===r){s=e;break}}this.store.dispatch(Object(g.q)(this.playerId,t,i,1e3*this.videoTag.duration,this.hasCaptions(),s));const n=null==(e=this.hlsJs)?void 0:e.bandwidthEstimate;void 0!==n&&!isNaN(n)&&this.store.dispatch(Object(a.a)(n)),this.trackDataUsage();const{controls:o}=this.getPlayerState();if(o.playbackTimeRange){const e=this.clipScrubTime(o.playbackTimeRange.startTimeS),t=this.clipScrubTime(o.playbackTimeRange.endTimeS),i=window.isFinite(e)&&window.isFinite(t)&&e<t,s=this.videoTag.currentTime<e||this.videoTag.currentTime>t;i&&s&&!this.seeking&&(this.videoTag.currentTime=e)}}trackDataUsage(){Object(l.b)(this.playerId,e=>{const t=e.getAndReset();t>0&&this.store.dispatch(n.H(this.playerId,t))})}checkInitialSeek(){const{videoTag:e}=this,t=this.getInitialTimeCode();this.isSeekable(t)&&!this.hasInitialSeeked&&t>-1&&(this.hasInitialSeeked=!0,e.currentTime=t)}onCanPlay(){this.checkInitialSeek(),this.onBufferEnd()}onPlay(){const e=this.videoTag.duration;this.isLooping||this.isLive&&(this.hlsJs?this.hlsJs.liveSyncPosition&&(this.videoTag.currentTime=this.hlsJs.liveSyncPosition):e&&window.isFinite(e)&&(this.videoTag.currentTime=e))}onPlaying(){this.videoTag.paused||(this.isEnded=!1,this.reloadTimecode=void 0,this.store.dispatch(n.X(this.playerId)),this.onBufferEnd(),this.onTimeUpdate())}onPause(){this.videoTag.ended||this.store.dispatch(n.W(this.playerId)),this.onBufferEnd()}onVolumeChange(){this.store.dispatch(n.ab(this.playerId,this.videoTag.muted,this.videoTag.volume)),Object(m.b)("volume",this.videoTag.volume)}onSeeking(){this.seeking||this.isLooping||(this.seeking=!0,this.store.dispatch(n.Z(this.playerId))),this.store.dispatch(Object(b.resetGuestState)(this.hydraExperienceId)),this.hasInitialSeeked=!0}onSeeked(){this.seeking=!1,this.isEnded=!1,this.isLooping=!1,this.store.dispatch(n.Y(this.playerId)),this.onBufferEnd(),this.updateRotation()}updateRotation(){const e=(this.getId3Track()||{}).cues||[],t=e.length,i=this.videoTag.currentTime;let s,r,n;for(s=0;s<t&&e[s].startTime<=i;s++)r=e[s],"TXXX"===r.value.key&&"JSONMetadata"===r.value.info&&(n=r);if(n)try{const e=JSON.parse(n.value.data),t=this.normalizeRotation(e.rotation),i=this.getCurrentTrack();void 0!==t&&t!==i.rotation&&this.store.dispatch(Object(g.p)(this.playerId,t))}catch(e){}}onEnded(){this.onBufferEnd(),this.isEnded=this.hasEndedOnce=!0,this.store.dispatch(Object(g.r)(this.playerId));const e=this.getCurrentTrack(),{shouldLoop:t}=e;if(this.shouldLoop=t,this.shouldLoop){this.isLooping=!0;const e=this.videoTag.play()||Promise.resolve();this.playPromise=e.catch(()=>{})}const{isLive:i,isLiveTimecode:s}=this.getCurrentTrack();i&&(s&&this.reload({requestedTimecode:-1,autoPlay:!0}),this.reload()),this.hasInitialSeeked=!1}onHlsJsError(e,t,i){if(i.fatal){let t=i.response&&i.response.code;this.teardownPlayer(),403===t?"broadcast"===e||"live"===e||"periscope"===e?this.store.dispatch(Object(p.h)(this.playerId,new Error(o.a.LIVE_VIDEO_GEOBLOCK_ERROR))):this.store.dispatch(Object(p.h)(this.playerId,new Error(o.a.MEDIA_GEOBLOCK_ERROR))):(t=t?":"+t:"",this.store.dispatch(Object(p.h)(this.playerId,new Error(`${i.type}:${i.details}${t}`))))}}onError(e,t){if(!this.videoTag.error)return;const{code:i}=this.videoTag.error;let s;switch(i){case _:s=o.a.MEDIA_ABORTED;break;case S:s=o.a.MEDIA_NETWORK_ERROR;break;case A:s=o.a.MEDIA_DECODE_ERROR;break;case P:s=o.a.MEDIA_SRC_INVALID_ERROR;break;default:s=o.a.MEDIA_UNKNOWN_CODE_ERROR}this.store.dispatch(Object(p.h)(this.playerId,new Error(s))),this.teardownPlayer()}normalizeRotation(e){const t=90*Math.floor((Math.floor(e)+45)/90)%360;return 270===t?-90:t}isMissingDataProp(e){let t;for(const i of e)if("TXXX"===i.value.key){t=i;break}return t&&""===t.value.data&&/\[.*\]|\{.*\}$/.test(t.value.info)}onId3CueWithInfo(e){const t=/(\[|\{)/,i=e.currentTarget.activeCues,s=this.activeCues;this.activeCues={};for(const e of i){const{key:i,info:r}=e.value,n=[e.startTime,i,r].join("|");if(this.activeCues[n]=!0,!s[n]&&"TXXX"===i){const e=r.search(t);if(-1!==e){const t=r.slice(0,e),i=r.slice(e);this.parseId3Data(t,i)}}}}onId3CueWithData(e){const t=e.currentTarget.activeCues,i=this.activeCues;this.activeCues={};const s=[];for(const e of t){const{key:t,info:r,data:n}=e.value,a=[e.startTime,t,r,n].join("|");this.activeCues[a]=!0,i[a]||("TXXX"===t&&this.parseId3Data(r,n),e.value&&s.push(e.value))}this.store.dispatch(Object(g.l)(this.playerId,s))}parseId3Data(e,t){try{const i=JSON.parse(t);if("JSONMetadata"===e){const e=this.normalizeRotation(i.rotation);this.store.dispatch(Object(g.p)(this.playerId,e)),this.store.dispatch(Object(g.m)(this.playerId,i))}else"HydraAudioLevel"===e?this.store.dispatch(Object(b.updateAudioLevels)(this.hydraExperienceId,i)):"HydraParticipants"===e&&this.store.dispatch(Object(b.updateGuestInfo)(this.hydraExperienceId,i))}catch(e){}}onFragmentLoading(e,t){void 0!==t&&void 0!==t.frag&&t.frag.programDateTime&&(this.dateTimeAnchor={streamTimeMs:1e3*t.frag.start,absoluteTimeMs:N(t.frag.programDateTime)})}onFragmentParsingInitSegment(e,t){if(void 0!==t&&void 0!==t.frag&&void 0!==t.frag.level&&void 0!==this.hlsJs){const e=this.hlsJs.levels[t.frag.level];void 0!==e&&void 0!==e.details&&void 0!==e.details.programDateTime&&void 0!==e.details.fragments&&void 0!==e.details.fragments[0]&&(this.dateTimeAnchor={streamTimeMs:1e3*e.details.fragments[0].start,absoluteTimeMs:N(e.details.programDateTime)})}}onLevelSwitching(e,t){if(this.hlsJs&&this.hlsJs.levels){const e=this.hlsJs.levels[t.level].bitrate;void 0!==e&&this.store.dispatch(Object(g.g)(this.playerId,e))}}onLevelLoaded(e,t){if(this.hlsJs&&!this.maximumBufferLength){var i;const e=null==t||null==(i=t.details)?void 0:i.targetduration;if(e){const t=e*this.hlsJsSegmentsToPrebuffer;this.maximumBufferLength=this.hlsJs.config.maxMaxBufferLength=t,this.store.dispatch(Object(E.d)(this.playerId,e))}}}onBufferStart(){const e=!this.hasEndedOnce||this.videoTag&&this.videoTag.currentTime>=2;this.shouldLoop&&!e||(this.buffering=!0,setTimeout(()=>{this.buffering&&this.store.dispatch(Object(g.i)(this.playerId))},20))}onBufferEnd(){this.buffering&&(this.buffering=!1,this.store.dispatch(Object(g.h)(this.playerId)))}getCaptionsTrack(e){const t=e||this.videoTag.textTracks||[],i=this.language;return i?function(e,t){const i=e.length;let s,r;for(let n=0;n<i;n++){const i=e[n],a=i.language;if(y(i)){if(a&&t&&a.toLowerCase()===t.toLowerCase())return i;!r&&v(a,t)?r=i:s||a||(s=i)}}return r||s}(t,i):function(e){const t=e.length;for(let i=0;i<t;i++){const t=e[i];if(y(t))return t}}(t)}getSubtitlesTrack(){return this.getCaptionsTrack(function(e){const t=e.length,i=[];for(let s=0;s<t;s++){const t=e[s];"captions"!==t.kind&&i.push(t)}return i}(this.videoTag.textTracks))}getId3Track(){for(let e=0;e<this.videoTag.textTracks.length;e++){const t=this.videoTag.textTracks[e];if(t.kind===C.METADATA)return t}}handleTrackAdded({track:e}){const{CAPTIONS:t,METADATA:i,SUBTITLES:s}=C;e.kind===i?this.startListeningForId3Tags():e.mode=e.kind===t?w:L,!Object(O.c)()||e.kind!==t&&e.kind!==s||(this.id3Disabled=!0,this.stopListeningForId3Tags())}startListeningForId3Tags(){const e=this.getId3Track();if(void 0!==e&&!this.id3Disabled){const{cues:t}=e;void 0===this.missingDataProp&&t&&(this.missingDataProp=this.isMissingDataProp(t)),e.oncuechange=this.missingDataProp?this.onId3CueWithInfo:this.onId3CueWithData,e.mode=w}}stopListeningForId3Tags(){const e=this.getId3Track();void 0!==e&&(e.oncuechange=null,e.mode=L)}handleControlUpdate(e){switch(e.muteState){case n.j.MUTE_REQUESTED:this.videoTag.muted=!0;break;case n.j.UNMUTE_REQUESTED:this.videoTag.muted=!1}switch(e.playState){case n.k.PAUSE_REQUESTED:{const e=()=>{this.videoTag&&(this.videoTag.pause(),this.stopListeningForId3Tags())};this.videoTag.paused?e():this.playPromise.then(e);break}case n.k.PLAY_REQUESTED:{const e=this.hlsJs?this.hlsJsPlay():this.videoTag.play()||Promise.resolve();this.playPromise=e.catch(e=>{this.videoTag&&this.videoTag.paused&&(this.shouldRetryAutoplayMuted&&e instanceof DOMException&&"NotAllowedError"===e.name?(this.shouldRetryAutoplayMuted=!1,this.store.dispatch(n.M(this.playerId))):this.store.dispatch(n.C(this.playerId)))}),this.startListeningForId3Tags();break}}if(e.captionsState&&this.hasCaptions()&&this.videoTag.readyState>=2){const t=this.getCaptionsTrack();switch(e.captionsState){case n.f.CAPTIONS_ON_REQUESTED:if(this.isUserRequestedCaptions())t.mode=D,this.store.dispatch(n.G(this.playerId,!0));else{const e=this.getSubtitlesTrack();e&&(e.mode=D,this.store.dispatch(n.G(this.playerId,!0)))}break;case n.f.CAPTIONS_OFF_REQUESTED:t.mode=t.kind===C.CAPTIONS?w:L,this.store.dispatch(n.G(this.playerId,!1))}}if(!this.seeking){const t=this.clipScrubTime(this.videoTag.duration*e.scrubToFraction);window.isFinite(t)&&(this.videoTag.currentTime=t)}e.volume>=0&&(this.videoTag.volume=e.volume)}clipScrubTime(e){return Math.max(0,Math.min(this.videoTag.duration-.5,e))}hlsJsPlay(){return new Promise(e=>{if(this.videoTag&&(this.videoTag.readyState>=3||this.isEnded))e();else{const t=()=>{this.videoTag&&this.videoTag.readyState>=3&&(e(),this.videoTag.removeEventListener("canplay",t))};this.videoTag.addEventListener("canplay",t)}}).then(()=>(this.checkInitialSeek(),this.videoTag.play()||Promise.resolve()))}xhrSetup(e,t,i){const s=new f.a(t).getHostname(),r=s&&this.liveAdDomainRegex.test(s),n=i===R.ResourceTypes.KEY;(r||n)&&(e.withCredentials=!0)}hasCaptions(){return void 0!==this.getCaptionsTrack()}renderVideoVariant(){const{contentType:e,variants:t}=this.getCurrentTrack(),{bitrateCap:i}=this.getPlayerState().features,{useMse:s,selectedVariant:r}=Object(T.a)(t);return r?s?this.renderHlsJs(r,i,e):this.renderHtml5(r):(this.store.dispatch(Object(p.h)(this.playerId,new Error(o.a.MEDIA_NOT_SUPPORTED))),Promise.resolve())}renderHlsJs(e,t,i){const s=this.getInitialTimeCode();return Object(T.b)(this.hlsjsVersion).then(r=>{R=r;const n={autoStartLoad:!0,enableWorker:this.isHlsWorkerEnabled,fragLoadingMaxRetry:6,fragLoadingRetryDelay:500,fragLoadingTimeOut:2e4,levelLoadingMaxRetry:4,levelLoadingTimeOut:2e4,loader:h(this.playerId,R),manifestLoadingMaxRetry:4,manifestLoadingTimeOut:2e4,maxBufferHole:1.5,maxSeekHole:5,startLevel:-1,startPosition:s,xhrSetup:this.xhrSetup.bind(this),capLevelToPlayerSize:!t,debug:{trace:e=>{this.logger.log("HlsJs.trace",e)},debug:e=>{this.logger.log("HlsJs.debug",e)},log:e=>{this.logger.log("HlsJs.log",e)},warn:e=>{this.logger.log("HlsJs.warn",e)},info:e=>{this.logger.log("HlsJs.info",e)},error:e=>{this.logger.log("HlsJs.error",e)}}};this.hlsJs=new R(Object.assign({},n)),this.store.dispatch(Object(g.k)(this.playerId)),this.hlsJs.on(R.Events.ERROR,this.onHlsJsError.bind(this,i)),this.hlsJs.on(R.Events.FRAG_LOADING,this.onFragmentLoading),this.hlsJs.on(R.Events.FRAG_PARSING_INIT_SEGMENT,this.onFragmentParsingInitSegment),this.hlsJs.on(R.Events.LEVEL_SWITCHING,this.onLevelSwitching),this.hlsJs.on(R.Events.LEVEL_LOADED,this.onLevelLoaded),this.hlsJs.on(R.Events.MANIFEST_PARSED,this.onManifestParsed.bind(this,t)),this.hlsJs.attachMedia(this.videoTag),this.hlsJs.loadSource(e.src)}).catch(()=>{this.store.dispatch(Object(p.h)(this.playerId,new Error(o.a.CONFIG_NETWORK_ERROR+":HlsJsChunk")))})}renderHtml5(e){return this.videoTag.setAttribute("preload",this.precache?"auto":"none"),this.videoTag.setAttribute("src",e.src),this.videoTag.setAttribute("type",e.type),Promise.resolve()}onManifestParsed(e,t,{levels:i}){var s;let r=i.length;if(e){let t;for(t=1;t<i.length&&!(i[t].bitrate>e);t++);this.hlsJs.autoLevelCapping=t-1,r=t-1}const n=null==(s=this.store.getState().allPlayers)?void 0:s.mostRecentBandwidthEst;if(this.shouldUseBitratePersistence()&&void 0!==n){const e=r===i.length?i:i.slice(0,r);let t;for(t=1;t<e.length&&!(i[t].bitrate>n);t++);this.hlsJs.startLevel=t-1}this.dispatchPlayerReady()}dispatchPlayerReady(){this.store.dispatch(Object(g.o)(this.playerId))}renderContainer(){const e=document.createElement("div");if(e.style.position="relative",e.style.width="100%",e.style.height="100%",e.style.backgroundColor="transparent",e.style.overflow="hidden",e.appendChild(this.videoTag),Object(O.b)()){const t=document.createElement("style"),i=document.createTextNode("video::-webkit-media-controls { display: none !important; }");t.appendChild(i),e.appendChild(t)}this.domElement.innerHTML="",this.domElement.appendChild(e)}getPlayerState(){return this.store.getState().players[this.playerId]||{}}getCurrentTrack(){const e=this.getPlayerState();return Object(c.b)(e)}getInitialTimeCode(){const{reloadTimecode:e}=this,{isLive:t,isLiveTimecode:i,requestedTimecode:s,replayEditedStartTime:r}=this.getCurrentTrack(),n=[e,s,r].find(e=>e>0||0===e);return t&&!i||void 0===n?-1:n}isUserRequestedCaptions(){return this.getPlayerState().userSpecifiedCaptions}isSeekable(e){if(0===e||e>0){const t=this.videoTag.seekable,i=t.length;for(let s=0;s<i;s++)if(t.start(s)<=e&&e<=t.end(s))return!0}return!1}cleanupVideoElement(){if(this.hasCaptions()){const e=this.getCaptionsTrack();if(Array.isArray(e.cues))for(;e.cues.length;)e.removeCue(e.cues[0])}}render(){const e=this.getPlayerState(),t=e.posterImage;if(void 0===e.currentTrackId)return;if(e.error)return void this.teardownPlayer();const i=this.getCurrentTrack();if(this.renderedTrackId!==e.currentTrackId){this.cleanupVideoElement(),this.hlsJs&&(this.hlsJs.destroy(),this.hlsJs=void 0),t&&this.videoTag.setAttribute("poster",t);const{isLive:s,shouldLoop:r,reloadTimecode:n}=i;s||(this.reloadTimecode=n),this.hasInitialSeeked=!1,this.renderedTrackId=e.currentTrackId,this.playerRenderPromise=this.renderVideoVariant(),this.playerRenderPromise.then(()=>{this.renderContainer(),this.isLive=s,this.shouldLoop=r,this.videoTag.volume=Object(m.a)("volume",1)||1,this.playerRenderPromise=void 0})}if(i.playerReady){const{isFullscreen:t}=e.fullscreen,{rotation:s}=i;this.handleControlUpdate(e.controls),this.renderRotationAndScale(s,t)}this.hlsJs&&this.maximumBufferLength!==e.maximumBufferLength&&(this.maximumBufferLength=e.maximumBufferLength,this.hlsJs.config.maxMaxBufferLength=this.maximumBufferLength)}renderRotationAndScale(e,t){const i=this.videoTag;let s=100,r=100,n=0,a=0;const o=!1!==this.playerHandlesRotations;if(o&&(90===e||-90===e)){const e=i.parentNode||{},t=e.offsetWidth/e.offsetHeight;isFinite(t)&&(s=100/t,r=100*t,n=(100-r)/2,a=(100-s)/2)}i.style.width=s+"%",i.style.height=r+"%",i.style.top=n+"%",i.style.left=a+"%",o&&(t?(i.style.transform=`rotate(${e}deg) scale(1.005)`,i.style.objectFit="contain"):(i.style.transform=`rotate(${e}deg) scale(1.005)`,i.style.objectFit=this.objectFitVideo))}shouldUseBitratePersistence(){return this.store.dispatch(Object(d.b)(this.playerId,I.a))}}},XSs6:function(e,t,i){"use strict";i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return o}));i("IAdD"),i("kYxP");var s=i("q+jO"),r=i("hmHa");const n=(e,t,i)=>n=>{const o=t();n(a(e,o)),n(i?Object(s.f)(e):Object(r.O)(e))},a=(e,t)=>({type:"AD_LOADED",playerId:e,adResponse:t});t.b=(e,t)=>{switch(t.type){case"AD_LOADED":{const i=e.tracks,s=t.adResponse;if(void 0===s.mediaInfo)return Object.assign({},e,{adLoaded:!0});const r=s.mediaInfo.variants.find(e=>0===e.content_type.indexOf("application/x-mpegURL"));if(void 0===r)return Object.assign({},e,{adLoaded:!0});const n=s.promotedContent||{};let a;return s.mediaInfo.call_to_action&&(a={type:s.mediaInfo.call_to_action.type,url:s.mediaInfo.call_to_action.url}),Object.assign({},e,{currentTrackId:1,nextTrackIds:[0],tracks:[...i,{id:1,displayType:"ad",cta:a,contentId:s.adId,contentType:"media_entity",publisherId:s.mediaInfo.publisher_id_str,durationMs:s.mediaInfo.duration_millis,shouldLoop:!1,impressionId:n.impressionId,disclosureType:n.disclosureType,dynamicPrerollType:s.dynamicPrerollType,rotation:0,variants:[{src:r.url,type:r.content_type}],currentVariantIndex:0,advertiserName:s.advertiserName,advertiserProfileImageUrl:s.advertiserProfileImageUrl,useRedesignedPrerollUx:s.useRedesignedPrerollUx}],videoAnalyticsScribePassthrough:s.videoAnalyticsScribePassthrough,adLoaded:!0})}default:return e}};const o={adLoaded:!1}},YKqM:function(e,t,i){"use strict";i.d(t,"b",(function(){return s}));i("WNMA"),i("LJOr"),i("kYxP"),i("Cm4o");function s(e){return Object.keys(e).map(t=>{const i=void 0===e[t]?"":encodeURIComponent(e[t]);return`${encodeURIComponent(t)}=${i}`}).join("&")}t.a=class{constructor(e){try{this.parser=new URL(e)}catch(t){this.parser=document.createElement("a"),this.parser.href=e}}getHostname(){return this.parser.hostname}getPath(){return this.parser.pathname}isSafe(){return!!this.parser.protocol.match(/^https?:$/)}addSearchParam(e,t){this.parser.search?this.parser.search=`${this.parser.search}&${e}=${t}`:this.parser.search=`?${e}=${t}`}toString(){return this.parser.href}}},Yfpf:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a}));i("kYxP");function s(e){const t=e%60,i=t<10?"0"+t:t,s=(e-t)/60%60,r=Math.floor(e/3600),n=s<10&&r?"0"+s:s;return r?`${r}:${n}:${i}`:`${n}:${i}`}const r=/^[0-9]{1,6}(\.[0-9]+)?$/,n=/^([0-9]{0,3}[hH])?([0-9]{0,2}[mM])?([0-9]{0,6}[sS])?$/,a=e=>{if(r.test(e))return+e;const t=n.exec(e);if(!t||!t[0])return;const[,i,s,a]=t;let o=0;return i&&(o+=3600*+i.slice(0,-1)),s&&(o+=60*+s.slice(0,-1)),a&&(o+=+a.slice(0,-1)),o}},YvQ8:function(e,t,i){"use strict";var s=i("IGGJ");i("z84I"),i("6U7i"),i("+E13"),i("dLd+"),i("+KXO"),t.__esModule=!0,t.default=t.registerExperience=t.REGISTER_EXPERIENCE=void 0;var r=s(i("RhWx")),n=i("8SPO");t.REGISTER_EXPERIENCE="REGISTER_EXPERIENCE";t.registerExperience=function(){return{type:"REGISTER_EXPERIENCE"}};t.default=function(e){return function(t){return function(i){switch(i.type){case"REGISTER_EXPERIENCE":var s=e.getState(),a=Object.keys(s.hydraExperiences||{}).map((function(e){return Number.parseInt(e,10)})),o=Math.max.apply(Math,(0,r.default)(a))+1;return Number.isFinite(o)||(o=0),e.dispatch((0,n.initializeExperience)(o)),o;default:return t(i)}}}}},ZcJ2:function(e,t,i){"use strict";i("JtPf");t.a=class{constructor(e,t=200){this.httpClient=e,this.backOffMSec=t}dispatch(e){return new Promise((t,i)=>{this._dispatchOnce(0,t,i,e)})}_dispatchOnce(e,t,i,s){this.httpClient.dispatch(s).then(r=>{this._handleResponse(e,t,i,s,r)}).catch(r=>{this._handleReject(e,t,i,s,r)})}_handleResponse(e,t,i,s,r){let n=!1;switch(r.status){case 404:case 425:case 429:case 500:case 502:case 503:case 504:case 508:n=!0}!n||e>=3?t(r):setTimeout(()=>{this._dispatchOnce(e+1,t,i,s)},this._backOffMSec(e))}_handleReject(e,t,i,s,r){e>=3?i(r):setTimeout(()=>{this._dispatchOnce(e+1,t,i,s)},this._backOffMSec(e))}_backOffMSec(e){const{backOffMSec:t}=this,i=Math.pow(3,e)*t;return t+Math.random()*(i-t)}}},"ZeN/":function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"d",(function(){return a}));const s={LOW:32e4,MEDIUM:832e3,HIGH:2176e3},r={EVENT:"event",VISIT:"url",WATCH:"watch",IMAGE:"image",WATCH_NOW:"watch_now",SHOP:"shop"},n=3,a=["cover","contain"]},a9ls:function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return r}));const s=(e,t)=>{try{window.localStorage.setItem(e,t)}catch(e){}},r=(e,t)=>{try{return window.localStorage.getItem(e)}catch(e){return t}}},cOYg:function(e,t,i){"use strict";t.a={BROADCAST_EVENT_ASSOCIATION_UPDATED:"broadcastEventAssociationUpdated",FULLSCREEN_ENTERED:"fullscreenEntered",FULLSCREEN_EXITED:"fullscreenExited",HLSJS_INSTANTIATED:"hlsJsInstantiated",GEOBLOCK_ERROR:"geoblockError",LIVE_ENDED:"liveEnded",LIVE_STARTED:"liveStarted",LIVE_CLICKTHROUGH:"liveClickthrough",MUTE:"mute",NO_COOKIES_ERROR:"noCookiesError",PAUSE:"pause",PLAY:"play",PLAYBACK_COMPLETE:"playbackComplete",READY:"ready",UNMUTE:"unmute"}},d8WC:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},"dLd+":function(e,t,i){var s=i("ax0f"),r=i("QkOM");s({target:"Number",stat:!0,forced:Number.parseInt!=r},{parseInt:r})},fjNU:function(e,t){var i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(i){var s=new Uint8Array(16);e.exports=function(){return i(s),s}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},hmHa:function(e,t,i){"use strict";i.d(t,"k",(function(){return s})),i.d(t,"j",(function(){return r})),i.d(t,"f",(function(){return n})),i.d(t,"p",(function(){return a})),i.d(t,"O",(function(){return o})),i.d(t,"o",(function(){return c})),i.d(t,"N",(function(){return d})),i.d(t,"r",(function(){return l})),i.d(t,"Q",(function(){return u})),i.d(t,"y",(function(){return h})),i.d(t,"X",(function(){return p})),i.d(t,"x",(function(){return E})),i.d(t,"W",(function(){return f})),i.d(t,"n",(function(){return g})),i.d(t,"M",(function(){return T})),i.d(t,"t",(function(){return y})),i.d(t,"S",(function(){return v})),i.d(t,"u",(function(){return m})),i.d(t,"T",(function(){return O})),i.d(t,"B",(function(){return b})),i.d(t,"ab",(function(){return I})),i.d(t,"q",(function(){return R})),i.d(t,"P",(function(){return _})),i.d(t,"d",(function(){return S})),i.d(t,"F",(function(){return A})),i.d(t,"s",(function(){return P})),i.d(t,"R",(function(){return C})),i.d(t,"z",(function(){return L})),i.d(t,"Y",(function(){return w})),i.d(t,"A",(function(){return D})),i.d(t,"Z",(function(){return N})),i.d(t,"h",(function(){return k})),i.d(t,"I",(function(){return j})),i.d(t,"v",(function(){return U})),i.d(t,"U",(function(){return M})),i.d(t,"m",(function(){return F})),i.d(t,"L",(function(){return x})),i.d(t,"l",(function(){return V})),i.d(t,"K",(function(){return G})),i.d(t,"e",(function(){return B})),i.d(t,"G",(function(){return H})),i.d(t,"w",(function(){return J})),i.d(t,"V",(function(){return K})),i.d(t,"b",(function(){return Q})),i.d(t,"D",(function(){return Y})),i.d(t,"c",(function(){return W})),i.d(t,"E",(function(){return q})),i.d(t,"i",(function(){return X})),i.d(t,"J",(function(){return z})),i.d(t,"a",(function(){return $})),i.d(t,"C",(function(){return Z})),i.d(t,"g",(function(){return ee})),i.d(t,"H",(function(){return te}));const s={PAUSE_REQUESTED:"PAUSE_REQUESTED",PLAY_REQUESTED:"PLAY_REQUESTED"},r={MUTE_REQUESTED:"MUTE_REQUESTED",UNMUTE_REQUESTED:"UNMUTE_REQUESTED"},n={CAPTIONS_ON_REQUESTED:"CAPTIONS_ON_REQUESTED",CAPTIONS_OFF_REQUESTED:"CAPTIONS_OFF_REQUESTED",CAPTIONS_RESET_REQUESTED:"CAPTIONS_RESET_REQUESTED"},a="REQUEST_PLAY",o=e=>({type:a,playerId:e}),c="REQUEST_PAUSE",d=e=>({type:c,playerId:e}),l="REQUEST_REPLAY",u=e=>({type:l,playerId:e}),h="VIDEO_PLAYED",p=e=>({type:h,playerId:e}),E="VIDEO_PAUSED",f=e=>({type:E,playerId:e}),g="REQUEST_MUTE",T=e=>({type:g,playerId:e}),y="REQUEST_UNMUTE",v=e=>({type:y,playerId:e}),m="REQUEST_VOLUME_CHANGE",O=(e,t)=>({type:m,volume:t,playerId:e}),b="VIDEO_VOLUME_CHANGED",I=(e,t,i)=>({type:b,isMuted:t,volume:i,playerId:e}),R="REQUEST_PLAYBACK_TIME_RANGE",_=(e,t,i)=>({type:R,startTimeS:t,endTimeS:i,playerId:e}),S="CANCEL_PLAYBACK_TIME_RANGE",A=e=>({type:S,playerId:e}),P="REQUEST_SCRUB_TO_FRACTION",C=(e,t)=>({type:P,fraction:t,playerId:e}),L="VIDEO_SEEKED",w=e=>({type:L,playerId:e}),D="VIDEO_SEEKING",N=e=>({type:D,playerId:e}),k="HIDE_CONTROLS",j=e=>({type:k,playerId:e}),U="SHOW_CONTROLS",M=e=>({type:U,playerId:e}),F="REQUEST_CAPTIONS_ON",x=(e,t=!0)=>({type:F,isUserSet:t,playerId:e}),V="REQUEST_CAPTIONS_OFF",G=(e,t=!0)=>({type:V,isUserSet:t,playerId:e}),B="CAPTIONS_TOGGLED",H=(e,t)=>({type:B,areCaptionsShown:t,playerId:e}),J="UPDATE_VISIBILITY",K=(e,t,i,s)=>({type:J,playerId:e,percentVisible:t,percentOfViewportOccupied:i,sizesInfo:s}),Q="CALL_TO_ACTION_CLICKED",Y=e=>({type:Q,playerId:e}),W="CALL_TO_ACTION_IMPRESSION",q=e=>({type:W,playerId:e}),X="LIVE_CLICKTHROUGH_CLICKED",z=e=>({type:X,playerId:e}),$="AUTOPLAY_DISABLED",Z=e=>({type:$,playerId:e}),ee="DATA_USAGE_COLLECTED",te=(e,t)=>({type:ee,playerId:e,bytes:t})},i9V9:function(e,t,i){"use strict";i.d(t,"d",(function(){return n})),i.d(t,"e",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return c}));i("iKE+"),i("DZ+c"),i("MvUL");let s,r={};const n=e=>{s=e},a=(e={})=>{r=e},o=e=>s?s(e):e.toString(),c=()=>Object.keys(r).length>0;t.b=(e,t={})=>{const i=r[e]||e;return Object.keys(t).reduce((e,i)=>{const s=new RegExp(`%{${i}}`,"g");return e.replace(s,t[i])},i)}},iQ7j:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=e[i];return s}},"jJ/G":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));i("IAdD");const s=e=>({type:"BANDWIDTH_ESTIMATE",bandwidthEstimate:e});t.b=(e={},t)=>{switch(t.type){case"BANDWIDTH_ESTIMATE":return Object.assign({},e,{mostRecentBandwidthEst:t.bandwidthEstimate});default:return e}}},oFRr:function(e,t,i){"use strict";var s=i("yWCo");t.__esModule=!0,t.default=void 0;var r=i("PNAC");t.updateAudioLevels=r.updateAudioLevels;var n=i("+STa");t.updateGuestInfo=n.updateGuestInfo;var a=s(i("YvQ8"));t.hydraMiddleware=a.default,t.registerExperience=a.registerExperience;var o=s(i("8SPO"));t.resetGuestState=o.resetGuestState,t.teardownExperience=o.teardownExperience;var c=o.default;t.default=c},"p25+":function(e,t,i){var s=i("9JhN").isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&s(e)}},peMk:function(e,t,i){var s=i("iQ7j");e.exports=function(e,t){if(e){if("string"==typeof e)return s(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(e,t):void 0}}},"q+jO":function(e,t,i){"use strict";i.d(t,"c",(function(){return a})),i.d(t,"f",(function(){return o})),i.d(t,"b",(function(){return c})),i.d(t,"e",(function(){return d})),i.d(t,"a",(function(){return l}));i("IAdD");var s=i("Q6z5"),r=i("GV/0"),n=i("hmHa");const a="PLAY_PREVIEW",o=e=>({type:a,playerId:e}),c="PAUSE_PREVIEW",d=e=>({type:c,playerId:e});t.d=(e,t)=>{switch(t.type){case s.c:return Object.assign({},e,{initiallyMutedCaptions:t.initiallyMutedCaptions});case a:return e.isPlaying?e:Object.assign({},e,{isPreview:!0,controls:Object.assign({},e.controls,{muteState:n.j.MUTE_REQUESTED})});case c:return Object.assign({},e,{isPreview:!0,controls:Object.assign({},e.controls,{muteState:n.j.MUTE_REQUESTED})});case n.p:case n.r:case n.t:case n.u:case n.s:case r.b:{if(!e.isPreview)return e;const t=e.tracks.find(t=>t.id===e.currentTrackId);if(!t)return e;const i="gif"===t.contentType?void 0:n.j.UNMUTE_REQUESTED;return Object.assign({},e,{isPreview:!1,controls:Object.assign({},e.controls,{muteState:i})})}default:return e}};const l={isPreview:!1}},q3QN:function(e,t,i){"use strict";i("kYxP");var s=i("Q6z5"),r=i("q+jO"),n=i("hmHa"),a=i("XSs6"),o=i("4k9e");const c={};var d=i("jJ/G"),l=i("UweJ"),u=i("6/SQ"),h=i("+9X6");const p={};var E=i("UVZ6"),f=i("GV/0"),g=i("5vFY"),T=i("2/88"),y=(i("IAdD"),i("KEM+")),v=i.n(y),m=i("zytq");class O{constructor(e){v()(this,"onNativeFullscreenBegin",()=>{this.setFullscreen(!0)}),v()(this,"onNativeFullscreenEnd",()=>{this.setFullscreen(!1)}),v()(this,"onFullscreenChanged",()=>{const e=(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)===this.fullscreenTarget;e||(this.fullscreenTarget=void 0,this.removeDocumentListeners()),this.setFullscreen(e)}),v()(this,"expand",(e,t)=>{t&&(this.expandTimeout=setTimeout(()=>{this.setFullscreen(!1)},1e3),this.fullscreenTarget&&(this.fullscreenTarget.removeEventListener("touchstart",this._swipeStart),this.fullscreenTarget.removeEventListener("transitionend",this._fullscreenTransitionEnd),this.setFullscreen(!1)),this.fullscreenTarget=t,this.playerId=e,this.addDocumentListeners(),this.fullscreenTarget.requestFullscreen?this.fullscreenTarget.requestFullscreen():this.fullscreenTarget.mozRequestFullScreen?this.fullscreenTarget.mozRequestFullScreen():this.fullscreenTarget.webkitRequestFullscreen?this.fullscreenTarget.webkitRequestFullscreen():this.fullscreenTarget.msRequestFullscreen?this.fullscreenTarget.msRequestFullscreen():this.fullscreenTarget.webkitEnterFullscreen?(this.addElementListeners(t),this.fullscreenTarget.webkitEnterFullscreen()):(this.removeDocumentListeners(),this.removeElementListeners(),this.nonFullscreenStyle=Object.assign({},this.fullscreenTarget.style),this.nonFullscreenPosition=this.fullscreenTarget.getBoundingClientRect(),this.fullscreenTarget.style.position="fixed",this.fullscreenTarget.style.width=this.nonFullscreenPosition.right-this.nonFullscreenPosition.left+"px",this.fullscreenTarget.style.height=this.nonFullscreenPosition.bottom-this.nonFullscreenPosition.top+"px",this.fullscreenTarget.style.top=this.nonFullscreenPosition.top+"px",this.fullscreenTarget.style.left=this.nonFullscreenPosition.left+"px",this.fullscreenTarget.style.zIndex="100",window.requestAnimationFrame(()=>{this.fullscreenTarget.style.transition="width 0.25s, height 0.25s, top 0.25s, left 0.25s",this.fullscreenTarget.style.width="100%",this.fullscreenTarget.style.height="100%",this.fullscreenTarget.style.top="0",this.fullscreenTarget.style.left="0",this.fullscreenTarget.addEventListener("transitionend",this._fullscreenTransitionEnd)})))}),v()(this,"shrink",e=>{e===this.playerId&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen?document.msExitFullscreen():this.fullscreenTarget.webkitExitFullscreen?this.fullscreenTarget.webkitExitFullscreen():(this.fullscreenTarget.style.width=this.nonFullscreenPosition.right-this.nonFullscreenPosition.left+"px",this.fullscreenTarget.style.height=this.nonFullscreenPosition.bottom-this.nonFullscreenPosition.top+"px",this.fullscreenTarget.style.top=this.nonFullscreenPosition.top+"px",this.fullscreenTarget.style.left=this.nonFullscreenPosition.left+"px",this.fullscreenTarget.style.transition="width 0.25s, height 0.25s, top 0.25s, left 0.25s",this.fullscreenTarget.addEventListener("transitionend",this._shrinkTransitionEnd),this.fullscreenTarget.removeEventListener("touchstart",this._swipeStart)))}),v()(this,"_swipeStart",e=>{this.addSwipeListeners(),this.touchStart=e.touches[0]}),v()(this,"_swipeMove",e=>{e.preventDefault();const t=e.touches[0].pageY-this.touchStart.pageY;this.swipeVector=Math.abs(t);const i=t/this.swipeVector*Math.min(this.swipeVector,this.swipeVector/(this.swipeVector+3*this.fullscreenTarget.clientHeight/4)*this.fullscreenTarget.clientHeight*1/2);this.fullscreenTarget.style.top=i+"px"}),v()(this,"_swipeEnd",()=>{this.removeSwipeListeners(),this.swipeVector>this.fullscreenTarget.clientHeight/4?this.shrink(this.playerId):this.fullscreenTarget.style.top="0"}),v()(this,"_fullscreenTransitionEnd",()=>{this.fullscreenTarget.style.transition="",this.fullscreenTarget.removeEventListener("transitionend",this._fullscreenTransitionEnd),this.fullscreenTarget.addEventListener("touchstart",this._swipeStart),this.setFullscreen(!0)}),v()(this,"_shrinkTransitionEnd",()=>{this.fullscreenTarget.removeEventListener("transitionend",this._shrinkTransitionEnd),this.fullscreenTarget.style.transition="",this.fullscreenTarget.style.position=this.nonFullscreenStyle.position,this.fullscreenTarget.style.width=this.nonFullscreenStyle.width,this.fullscreenTarget.style.height=this.nonFullscreenStyle.height,this.fullscreenTarget.style.top=this.nonFullscreenStyle.top,this.fullscreenTarget.style.left=this.nonFullscreenStyle.left,this.fullscreenTarget.style.zIndex=this.nonFullscreenStyle.zIndex,this.setFullscreen(!1),this.fullscreenTarget=void 0}),this.fullscreenTarget=void 0,this.playerId=void 0,this.onChange=e,this.isFullscreen=!1}addDocumentListeners(){document.addEventListener("webkitfullscreenchange",this.onFullscreenChanged),document.addEventListener("mozfullscreenchange",this.onFullscreenChanged),document.addEventListener("MSFullscreenChange",this.onFullscreenChanged),document.addEventListener("fullscreenchange",this.onFullscreenChanged)}removeDocumentListeners(){document.removeEventListener("webkitfullscreenchange",this.onFullscreenChanged),document.removeEventListener("mozfullscreenchange",this.onFullscreenChanged),document.removeEventListener("MSFullscreenChange",this.onFullscreenChanged),document.removeEventListener("fullscreenchange",this.onFullscreenChanged)}addSwipeListeners(){document.addEventListener("touchend",this._swipeEnd),document.addEventListener("touchmove",this._swipeMove)}addElementListeners(e){e.addEventListener("webkitbeginfullscreen",this.onNativeFullscreenBegin),e.addEventListener("webkitendfullscreen",this.onNativeFullscreenEnd)}removeElementListeners(){const{fullscreenTarget:e}=this;e&&(e.removeEventListener("webkitbeginfullscreen",this.onNativeFullscreenBegin),e.removeEventListener("webkitendfullscreen",this.onNativeFullscreenEnd),e.removeEventListener("transitionend",this._fullscreenTransitionEnd),e.removeEventListener("transitionend",this._shrinkTransitionEnd))}removeSwipeListeners(){document.removeEventListener("touchend",this._swipeEnd),document.removeEventListener("touchmove",this._swipeMove)}setFullscreen(e){clearTimeout(this.expandTimeout),this.onChange(this.playerId,e),e||(this.cleanup(),this.fullscreenTarget=void 0,this.playerId=void 0)}cleanup(){clearTimeout(this.expandTimeout),this.removeDocumentListeners(),this.removeElementListeners(),this.removeSwipeListeners()}}var b=i("a9ls");function I(e){Object(b.b)("captions",e)}var R=i("ZeN/"),_=i("BZ2a"),S=i("V8Kl"),A=i("Tvra"),P="object"==typeof self&&self&&self.Object===Object&&self,C=(A.a||P||Function("return this")()).Symbol,L=Object.prototype,w=L.hasOwnProperty,D=L.toString,N=C?C.toStringTag:void 0;var k=function(e){var t=w.call(e,N),i=e[N];try{e[N]=void 0;var s=!0}catch(e){}var r=D.call(e);return s&&(t?e[N]=i:delete e[N]),r},j=Object.prototype.toString;var U=function(e){return j.call(e)},M=C?C.toStringTag:void 0;var F=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":M&&M in Object(e)?k(e):U(e)};var x=function(e,t){return function(i){return e(t(i))}}(Object.getPrototypeOf,Object);var V=function(e){return null!=e&&"object"==typeof e},G=Function.prototype,B=Object.prototype,H=G.toString,J=B.hasOwnProperty,K=H.call(Object);var Q=function(e){if(!V(e)||"[object Object]"!=F(e))return!1;var t=x(e);if(null===t)return!0;var i=J.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&H.call(i)==K},Y=i("hE+J"),W="@@redux/INIT";function q(e,t){var i=t&&t.type;return"Given action "+(i&&'"'+i.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function X(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e};var $=i("oFRr"),Z=i.n($);const ee=[e=>t=>i=>{switch(i.type){case s.c:c[i.playerId]=()=>"function"==typeof i.adProvider?i.adProvider():{};break;case o.a:delete c[i.playerId];break;case n.p:case r.c:{const s=e.getState().players[i.playerId];if(s&&!s.adLoaded&&c[i.playerId])return t(Object(a.c)(i.playerId,c[i.playerId],i.type===r.c));break}}return t(i)},e=>t=>i=>{switch(i.type){case r.c:{const{initiallyMutedCaptions:t,userSpecifiedCaptions:s}=Object(E.b)(e,i.playerId)||{};t&&!s&&e.dispatch(Object(n.L)(i.playerId,!1));break}case n.p:case n.r:case n.t:case n.u:case n.s:case f.b:{const{isPreview:t,userSpecifiedCaptions:s}=Object(E.b)(e,i.playerId)||{};t&&!s&&e.dispatch(Object(n.K)(i.playerId,!1));break}}return t(i)},T.a,e=>{const t=new O((t,i)=>{e.dispatch(Object(f.h)(t,i))});return i=>s=>{const r=e.getState().players[s.playerId],{type:n}=s;if(!r||n!==f.b&&n!==f.c)return i(s);const{enableNative:a}=r.fullscreen,o=a&&Object(m.b)()&&s.videoEl?s.videoEl:s.containerEl;return n===f.b?(e.dispatch(Object(f.h)(s.playerId,!0)),t.expand(s.playerId,o)):t.shrink(s.playerId),i(s)}},e=>t=>i=>{switch(i.type){case s.c:switch(e.dispatch(Object(n.T)(i.playerId,function(){const e=parseFloat(Object(b.a)("volume"));return isNaN(e)?1:e}())),function(){const e=Object(b.a)("captions");if("ENABLED"===(t=e)||"DISABLED"===t)return e;var t}()){case"ENABLED":e.dispatch(Object(n.L)(i.playerId,!0));break;case"DISABLED":e.dispatch(Object(n.K)(i.playerId,!0))}break;case n.B:(r=i.volume)>=0&&null!==r&&Object(b.b)("volume",r);break;case n.m:i.isUserSet&&I("ENABLED");break;case n.l:i.isUserSet&&I("DISABLED")}var r;return t(i)},e=>t=>i=>{switch(i.type){case _.b:if(i.targetDuration){const t=i.targetDuration*R.c;e.dispatch(Object(_.e)(i.playerId,t))}}return t(i)},e=>t=>i=>{if(void 0!==i.playerId&&Object(l.d)(i.playerId,e=>{e.log("redux",i.type)}),i.type===s.c)return p[i.playerId]=i.analytics,t(i);const a=e.getState().players[i.playerId];if(!a)return t(i);const c=t(i),d=e.getState().players[i.playerId],E=p[i.playerId];if(void 0!==E){switch(i.type){case h.e:case n.A:E.onTickEvent(d);break;case h.f:E.onTrackFinished(a),d.currentTrackId!==a.currentTrackId&&E.onIntendToPlay(d);break;case h.c:"ad"===a.tracks.find(e=>e.id===a.currentTrackId).displayType&&E.onAdSkip(a),d.currentTrackId!==a.currentTrackId&&E.onIntendToPlay(d);break;case n.p:case r.c:E.onIntendToPlay(d);break;case n.r:E.onReplay(d);break;case n.B:a.isMuted&&!d.isMuted?E.onUnmute(a):!a.isMuted&&d.isMuted&&E.onMute(a);break;case n.b:E.onCtaClick(a);break;case n.c:E.onCtaImpression(a);break;case o.a:E.onTeardown(a),delete p[i.playerId];break;case s.b:E.onConfigLoaded(d);break;case u.a:case u.c:{const{errorInfo:e}=d,t=e.autoRetry?e.count:void 0;let s;s=i.type===u.a||i.type===u.c?i.thrownError.message:i.error,E.onError(a,{error_code:i.type,error_message:s,media_details:{media_error:{category:i.type,is_fatal:i.isFatal,message:s,retry_count:t}}});break}}d&&d.isPlaying!==a.isPlaying&&(d.isPlaying?E.onPlay(d):E.onPause(d))}return c},g.b,$.hydraMiddleware,S.a];t.a=function e(t,i,s){var r;if("function"==typeof i&&void 0===s&&(s=i,i=void 0),void 0!==s){if("function"!=typeof s)throw new Error("Expected the enhancer to be a function.");return s(e)(t,i)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var n=t,a=i,o=[],c=o,d=!1;function l(){c===o&&(c=o.slice())}function u(){return a}function h(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return l(),c.push(e),function(){if(t){t=!1,l();var i=c.indexOf(e);c.splice(i,1)}}}function p(e){if(!Q(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,a=n(a,e)}finally{d=!1}for(var t=o=c,i=0;i<t.length;i++){(0,t[i])()}return e}return p({type:W}),(r={dispatch:p,subscribe:h,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");n=e,p({type:W})}})[Y.a]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function i(){e.next&&e.next(u())}return i(),{unsubscribe:t(i)}}})[Y.a]=function(){return this},e},r}(function(e){for(var t=Object.keys(e),i={},s=0;s<t.length;s++){var r=t[s];0,"function"==typeof e[r]&&(i[r]=e[r])}var n=Object.keys(i),a=void 0;try{!function(e){Object.keys(e).forEach((function(t){var i=e[t];if(void 0===i(void 0,{type:W}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===i(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+W+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(i)}catch(e){a=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(a)throw a;for(var s=!1,r={},o=0;o<n.length;o++){var c=n[o],d=i[c],l=e[c],u=d(l,t);if(void 0===u){var h=q(c,t);throw new Error(h)}r[c]=u,s=s||u!==l}return s?r:e}}({players:o.b,hydraExperiences:Z.a,allPlayers:d.b}),function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){return function(i,s,r){var n,a=e(i,s,r),o=a.dispatch,c={getState:a.getState,dispatch:function(e){return o(e)}};return n=t.map((function(e){return e(c)})),o=X.apply(void 0,n)(a.dispatch),z({},a,{dispatch:o})}}}(...ee))},qZ96:function(e,t,i){"use strict";i.r(t),i.d(t,"CreatePlayer",(function(){return c})),i.d(t,"OBJECT_FIT_VALUES",(function(){return d.d}));var s=i("KEM+"),r=i.n(s),n=i("ERkP"),a=(i("IAdD"),i("BNT4"));const o={showControls:!0,promotedContext:{}};var c={createPlayer:({domElement:e,source:t,videoConfig:i,httpClient:s,twitterAuthedHttpClient:r,options:n={}})=>new a.a({videoConfig:i,source:t,domElement:e,httpClient:s,twitterAuthedHttpClient:r,options:Object.assign({},o,n)})},d=i("ZeN/"),l=i("ArJX");const u={base:{height:"100%",position:"relative",transform:"translateZ(0)",width:"100%"},wrapper:{height:"100%",position:"absolute",width:"100%"}};class h extends n.PureComponent{constructor(e){super(e),r()(this,"_setVideoRef",e=>{e&&this.videoPlayer.attach(e)}),r()(this,"_setContainerRef",e=>{this.containerDomElement=e}),r()(this,"_renderCustomOverlay",()=>{if(this.props.customOverlay)return this.props.customOverlay}),this.videoPlayer=c.createPlayer({source:this.props.videoId,videoConfig:{contentId:this.props.contentId,contentType:this.props.contentType,cta:this.props.cta,durationMs:this.props.durationMs,expandedUrl:this.props.expandedUrl,eventId:this.props.eventId,mediaAvailability:this.props.mediaAvailability,publisherId:this.props.publisherId,poster:this.props.poster,loop:this.props.loop,shouldLoadTranslations:this.props.shouldLoadTranslations,variants:this.props.variants,viewCount:this.props.viewCount,vmapUrl:this.props.vmapUrl},httpClient:this.props.httpClient,twitterAuthedHttpClient:this.props.twitterAuthedHttpClient,options:{accessibilityLabel:this.props.accessibilityLabel,autoplay:this.props.autoplay,adProvider:this.props.adProvider,analytics:this.props.analytics,bitrateCap:this.props.bitrateCap,enableNativeFullscreen:this.props.enableNativeFullscreen,featureProvider:this.props.featureProvider,hlsjsVersion:this.props.hlsjsVersion,includeBroadcastEventAssociation:this.props.includeBroadcastEventAssociation,initiallyMuted:this.props.initiallyMuted,initiallyMutedCaptions:this.props.initiallyMutedCaptions,intentToPlayTime:this.props.intentToPlayTime,language:this.props.language,maxLoopCount:this.props.maxLoopCount,objectFitVideo:this.props.displayOptions.objectFitVideo,playbackSessionId:this.props.playbackSessionId,playerHandlesRotations:this.props.displayOptions.playerHandlesRotations,precache:this.props.precache,promotedContext:this.props.promotedContext,requestedTimecode:this.props.requestedTimecode,showControls:!1,showGeolocationPrompt:this.props.geolocationPrompt,shouldRetryAutoplayMuted:this.props.shouldRetryAutoplayMuted,videoEl:this.props.videoEl}}),this.props.setPlayerApi&&this.props.setPlayerApi(this.videoPlayer)}componentWillUnmount(){try{this.videoPlayer.teardown()}catch(e){}}render(){return n.createElement("div",{ref:this._setContainerRef,style:u.base},n.createElement("div",{ref:this._setVideoRef,style:u.wrapper}),this._renderCustomOverlay())}}r()(h,"defaultProps",l.a),h.propTypes={};t.default=h},tGbD:function(e,t,i){var s=i("iQ7j");e.exports=function(e){if(Array.isArray(e))return s(e)}},twbh:function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},yWCo:function(e,t,i){var s=i("T0aG");function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,t&&t.set(e,i),i}},yruv:function(e,t,i){"use strict";var s=i("YKqM");const r={};t.a=class{constructor(e){this.httpClient=e}dispatch(e){if("get"===e.method.toLowerCase()){const t=e.params?Object(s.b)(e.params):"",i=t?"?"+t:"",n=`${e.host}${e.path}${i}`;return r[n]||(r[n]=this.httpClient.dispatch(e).then(e=>(delete r[n],e)).catch(e=>{throw delete r[n],e})),r[n]}return this.httpClient.dispatch(e)}}},z84I:function(e,t,i){"use strict";var s=i("ax0f"),r=i("0FSu").map,n=i("GJtw"),a=i("znGZ"),o=n("map"),c=a("map");s({target:"Array",proto:!0,forced:!o||!c},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web/loaders.video.PlayerBase.94bee5b5.js.map