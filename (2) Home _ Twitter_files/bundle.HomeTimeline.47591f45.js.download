(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{cOLG:function(e,t,s){"use strict";s.r(t),s.d(t,"HomeTimeline",(function(){return wt}));var n=s("KEM+"),a=s.n(n),i=s("ERkP"),o=s("es0u"),r=s("wM4e"),l=s("hqKg"),c=s("QK5w"),m=s("G6rE"),h=s("oEGd");const p=Object(l.createSelector)(c.a,m.e.selectLoggedInUser,r.h,r.c,(e,t,s,n)=>({isInitialScreen:!e,loggedInUserAvatarURI:t&&t.profile_image_url_https,loggedInUserName:t&&t.name,useLatest:s,configurationFetchStatus:n}));var u=Object(h.c)(p),d=s("s14A"),_=s("dwig"),f=s("wrlS"),T=s("v//M"),v=s("0+qk");s("kYxP");const w=({inactivityThresholdMs:e,lastFrustrationEventTimestamp:t=0})=>{const s=60*f.a.getNumberValue("home_timeline_latest_timeline_min_time_to_autoswitch_minutes",720)*1e3,n=60*f.a.getNumberValue("home_timeline_latest_timeline_autoswitch_half_life_minutes",20160)*1e3,a=e||s;return Math.max(s,a*Math.pow(2,(t-Date.now())/n))},g=e=>{const t=60*f.a.getNumberValue("home_timeline_latest_timeline_max_time_to_autoswitch_minutes",10080)*1e3,s=f.a.getNumberValue("home_timeline_latest_timeline_autoswitch_threshold_multiplier",2);return Math.min(t,s*e)},b=({useLatest:e,lastActiveOnLatestTimestamp:t,inactivityThresholdMs:s,lastFrustrationEventTimestamp:n})=>{if(f.a.isTrue("home_timeline_latest_timeline_switch_enabled")&&e){return(({lastActiveOnLatestTimestamp:e,inactivityThresholdMs:t})=>Date.now()-e>t)({lastActiveOnLatestTimestamp:t,inactivityThresholdMs:w({inactivityThresholdMs:s,lastFrustrationEventTimestamp:n})})}return!1};var E=s("1YZw"),y=s("rxPX"),S=Object(y.a)().propsFromState(()=>({inactivityThresholdMs:r.e,autoSwitchTimestamp:r.b,lastFrustrationEventTimestamp:r.g})).propsFromActions(()=>({addToast:E.b,updateAutoSwitchTimestamp:r.i,updateBehavior:r.j,updateInactivityThresholdMs:r.k,updateLastFrustrationEventTimestamp:r.m})).withAnalytics(),L=(s("jQ/y"),s("3XMw")),F=s.n(L),I=s("mjJ+"),C=s("/yvb"),O=s("rHpw"),M=(s("IAdD"),s("Lsrn")),A=s("k/Ka");const x=(e={})=>Object(A.a)("svg",Object.assign({},e,{style:[M.a.root,e.style],viewBox:"0 0 36 36"}),i.createElement("g",null,i.createElement("path",{d:"M27.325 20.595c0 7.333-5.913 13.278-13.206 13.278S.912 27.928.912 20.595 6.825 7.317 14.12 7.317s13.205 5.944 13.205 13.278",fill:"#71C9F8"}),i.createElement("path",{d:"M24.576 20.682c0 5.802-4.678 10.506-10.45 10.506-5.77 0-10.448-4.704-10.448-10.506s4.678-10.506 10.45-10.506c5.77 0 10.448 4.704 10.448 10.506",fill:"#97E3FF"}),i.createElement("path",{d:"M18.98 20.94l-3.86-.583v-6.215c0-.552-.45-1-1-1s-1 .448-1 1v7.076c0 .06.023.112.033.17.007.042.012.082.025.123.026.084.063.158.11.23.022.038.044.075.072.11.05.06.11.11.173.158.042.03.08.06.128.086.065.034.133.055.204.074.04.01.072.035.114.04l4.704.71c.05.01.1.012.15.012.487 0 .914-.355.988-.85.08-.548-.295-1.058-.84-1.14z",fill:"#005FD1"}),i.createElement("path",{d:"M24.553 20.682c0 5.79-4.68 10.5-10.434 10.5S3.683 26.47 3.683 20.68c0-2.953 1.227-5.707 3.31-7.665l.674 1.127c.38.635 1.227.668 1.524.06l1.153-2.36 1.312-2.687c.24-.49-.104-1.067-.65-1.088l-2.988-.116-2.625-.1c-.678-.027-1.05.735-.67 1.37l.804 1.344C2.613 13.065.883 16.736.883 20.683c0 7.333 5.937 13.298 13.234 13.298s13.234-5.964 13.234-13.297h-2.8z",fill:"#1DA1F2"}),i.createElement("path",{d:"M35 13.36h-1.467v-1.34c0-.552-.448-1-1-1s-1 .448-1 1v1.34h-1.467c-.552 0-1 .45-1 1s.448 1 1 1h1.467v1.342c0 .552.448 1 1 1s1-.448 1-1v-1.34H35c.552 0 1-.45 1-1s-.448-1-1-1z",fill:"#FFAD1F"}),i.createElement("path",{d:"M28.646 4.138h-2.01v-2.01c0-.552-.448-1-1-1s-1 .448-1 1v2.01h-2.01c-.552 0-1 .448-1 1s.448 1 1 1h2.01v2.01c0 .552.448 1 1 1s1-.448 1-1v-2.01h2.01c.552 0 1-.448 1-1s-.447-1-1-1z",fill:"#F6809A"})));x.metadata={width:36,height:36};var j=x;const k=(e={})=>Object(A.a)("svg",Object.assign({},e,{style:[M.a.root,e.style],viewBox:"0 0 36 36"}),i.createElement("g",null,i.createElement("path",{d:"M35.508 15.41l-9.295-3.387L22.438 1.47c-.108-.302-.357-.48-.722-.495-.322.007-.604.22-.698.53l-3.293 10.71-9.132 3.805c-.285.118-.467.4-.46.708.007.308.203.58.492.686L17.92 20.8l3.775 10.552c.107.298.39.496.704.496h.016c.322-.007.604-.22.698-.53l3.293-10.712 9.132-3.803c.284-.118.466-.4.46-.708-.007-.308-.203-.58-.492-.686z",fill:"#61BCF6"}),i.createElement("path",{d:"M9.57 4.715l-2.906.065-.06-2.715C6.585 1.34 5.983.763 5.256.78 4.53.796 3.955 1.4 3.97 2.125l.063 2.715-2.747.062C.56 4.92-.016 5.522 0 6.248c.017.726.62 1.302 1.346 1.285l2.747-.062.062 2.716c.017.726.62 1.302 1.345 1.286.726-.016 1.302-.62 1.286-1.345l-.062-2.715 2.905-.066c.725-.017 1.3-.62 1.285-1.346-.017-.726-.62-1.302-1.346-1.285z",fill:"#F16888"}),i.createElement("path",{d:"M14.205 29.69l-1.65.036-.034-1.518c-.016-.726-.618-1.302-1.344-1.286s-1.302.62-1.286 1.345l.034 1.518-1.54.035c-.726.016-1.302.62-1.286 1.345.017.726.62 1.302 1.345 1.286l1.54-.034.034 1.518c.017.726.62 1.302 1.345 1.286.726-.016 1.302-.62 1.286-1.345l-.034-1.518 1.65-.037c.726-.016 1.302-.62 1.286-1.345-.016-.727-.62-1.303-1.345-1.286z",fill:"#FD9E1A"})));k.metadata={width:36,height:36};var P=k,R=s("3JQt"),D=s("M2x3");const z=(e={})=>Object(A.a)("svg",Object.assign({},e,{style:[M.a.root,e.style],viewBox:"0 0 24 24"}),i.createElement("g",null,i.createElement("path",{d:"M22.772 10.506l-5.618-2.192-2.16-6.5c-.102-.307-.39-.514-.712-.514s-.61.207-.712.513l-2.16 6.5-5.62 2.192c-.287.112-.477.39-.477.7s.19.585.478.698l5.62 2.192 2.16 6.5c.102.306.39.513.712.513s.61-.207.712-.513l2.16-6.5 5.62-2.192c.287-.112.477-.39.477-.7s-.19-.585-.478-.697zm-6.49 2.32c-.208.08-.37.25-.44.46l-1.56 4.695-1.56-4.693c-.07-.21-.23-.38-.438-.462l-4.155-1.62 4.154-1.622c.208-.08.37-.25.44-.462l1.56-4.693 1.56 4.694c.07.212.23.382.438.463l4.155 1.62-4.155 1.622zM6.663 3.812h-1.88V2.05c0-.414-.337-.75-.75-.75s-.75.336-.75.75v1.762H1.5c-.414 0-.75.336-.75.75s.336.75.75.75h1.782v1.762c0 .414.336.75.75.75s.75-.336.75-.75V5.312h1.88c.415 0 .75-.336.75-.75s-.335-.75-.75-.75zm2.535 15.622h-1.1v-1.016c0-.414-.335-.75-.75-.75s-.75.336-.75.75v1.016H5.57c-.414 0-.75.336-.75.75s.336.75.75.75H6.6v1.016c0 .414.335.75.75.75s.75-.336.75-.75v-1.016h1.098c.414 0 .75-.336.75-.75s-.336-.75-.75-.75z"})));z.metadata={width:24,height:24};var N=z;const H=F.a.j681ac0d,U=F.a.g8220472,V=F.a.ccdd3766,B=F.a.c41ecf3c,J=F.a.d18aa6d4,W=F.a.bc52b0cd,q=F.a.j6382fe9,G=F.a.f5f4ea93,K=F.a.e4acfd11;class $ extends i.PureComponent{constructor(...e){super(...e),a()(this,"_renderActionMenu",e=>{const{useLatest:t}=this.props,s=t?J:B,n=t?j:P;return i.createElement(I.a,{DescriptionIcon:n,description:s,descriptionStyle:Q.description,isFixed:!0,items:this._getActionMenuItems(),onCloseRequested:e})}),a()(this,"_getActionMenuItems",()=>{const{useLatest:e}=this.props,t=e?K:G;return[{text:e?W:q,onClick:this._handleTimelineSwitch,Icon:R.a,subText:t},{link:"/settings/content_preferences",text:H,onClick:this._handleContentPreferences,Icon:D.a}]}),a()(this,"_handleTimelineSwitch",e=>{const{onToggle:t}=this.props;e(),t()}),a()(this,"_handleContentPreferences",e=>{const{onContentPreferencesSelect:t}=this.props;e(),t()})}render(){const{useLatest:e,onPress:t}=this.props,s=e?U:V;return i.createElement(C.a,{accessibilityLabel:s,icon:i.createElement(N,null),onPress:t,pullRight:!0,renderMenu:this._renderActionMenu,type:"text"})}}const Q=O.a.create(e=>({description:{fontSize:e.fontSizes.large,color:e.colors.text,textAlign:"center",fontWeight:"bold"}}));var X=$,Y=s("aWzz");const Z=F.a.e4c6d14c,ee=F.a.bffa2da7;class te extends i.Component{constructor(...e){super(...e),a()(this,"_handleToggle",()=>{const{updateBehavior:e,useLatest:t,addToast:s,analytics:n,updateInactivityThresholdMs:a,inactivityThresholdMs:i,autoSwitchTimestamp:o,updateAutoSwitchTimestamp:r,updateLastFrustrationEventTimestamp:l,lastFrustrationEventTimestamp:c}=this.props;this.context.viewport.scrollToTop();if((e=>{if(!e)return!1;const t=1e3*f.a.getNumberValue("home_timeline_latest_timeline_threshold_to_increase_autoswitch_seconds",60);return Date.now()-e<t})(o)){const e=w({inactivityThresholdMs:i,lastFrustrationEventTimestamp:c});a({inactivityThresholdMs:g(e)}),l({lastFrustrationEventTimestamp:Date.now()})}let m={};if(o){m={duration_ms:Date.now()-o}}n.scribe({component:"customize",element:t?"see_top":"see_latest",action:"click",data:m}),o&&r({autoSwitchTimestamp:null});const h=t?Z:ee;e({useLatest:!t}).then(()=>{s({text:h})})}),a()(this,"_handleSwitchPress",()=>{const{analytics:e}=this.props;e.scribe({section:"navigation_bar",element:"customize_button",action:"click"})}),a()(this,"_handleContentPreferencesSelect",()=>{const{analytics:e}=this.props;e.scribe({component:"customize",element:"see_preferences",action:"click"})})}render(){const{useLatest:e}=this.props;return i.createElement(X,{onContentPreferencesSelect:this._handleContentPreferencesSelect,onPress:this._handleSwitchPress,onToggle:this._handleToggle,useLatest:e})}}a()(te,"contextTypes",{viewport:Y.object});var se=S(te),ne=(s("JtPf"),s("zb92")),ae=Object(y.a)().propsFromState(()=>({loggedInUser:m.e.selectLoggedInUser})).adjustStateProps(({loggedInUser:e})=>({userAvatarURI:e&&e.profile_image_url_https,userName:e&&e.name})),ie=s("N5qz"),oe=s("MWbm"),re=s("cHvH"),le=s("5mJL"),ce=s("DNho"),me=s("XP29"),he=s("t62R"),pe=s("cjZk"),ue=s("3rWK"),de=s("ll3R"),_e=s("pNJr"),fe=s("J0mu");const Te=F.a.bea869b3,ve=F.a.e349147b,we=O.a.create(e=>({root:{backgroundColor:e.colors.cellBackground,paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},avatarColumn:{flexGrow:1,minWidth:32,maxWidth:e.spaces.xxLarge},avatar:{width:"100%"},body:{flexDirection:"column",flexGrow:1},fakeInput:{paddingVertical:`calc(${e.spaces.xSmall} + ${e.spaces.micro})`,paddingHorizontal:e.spaces.micro},toolbar:{alignItems:"center",flexDirection:"row",justifyContent:"space-between",marginRight:e.spaces.micro,marginTop:e.spaces.xSmall},toolbarSection:{alignItems:"center",flexDirection:"row"},icon:{color:e.colors.primary,height:"1.5em",marginHorizontal:`calc(${e.spaces.xSmall} - ${e.spaces.micro})`,width:"1.5em"},firstIcon:{marginLeft:0},lastIcon:{marginRight:0},separator:{width:"1px",backgroundColor:e.colors.mediumGray,height:e.fontSizes.jumbo,marginRight:e.spaces.xSmall,marginLeft:`calc(${e.spaces.xSmall} - 2px)`},tweetButton:{marginLeft:e.spaces.xSmall}}));var ge=ae(({userAvatarURI:e})=>i.createElement(re.a,null,({windowWidth:t})=>{const s=!ie.a.isOneColumnSquishedLayout(t);return i.createElement(le.a,{avatarCell:i.createElement(ce.a.Consumer,null,({avatarSize:t})=>i.createElement(me.a,{size:t,style:we.avatar,uri:e})),avatarCellStyle:we.avatarColumn,cellStyle:we.body,style:we.root},i.createElement(he.c,{color:"deepGray",numberOfLines:1,size:"large",style:we.fakeInput},ve),i.createElement(oe.a,{style:we.toolbar},i.createElement(oe.a,{style:we.toolbarSection},i.createElement(pe.a,{style:[we.icon,we.firstIcon]}),i.createElement(ue.a,{style:we.icon}),s?i.createElement(de.a,{style:we.icon}):null,i.createElement(_e.a,{style:we.icon}),s?i.createElement(fe.a,{style:[we.icon,we.lastIcon]}):null),i.createElement(oe.a,{style:we.toolbarSection},i.createElement(C.a,{disabled:!0,style:we.tweetButton,type:"primary"},Te))))})),be=Object(ne.a)({loader:()=>Promise.all([s.e(0),s.e(145)]).then(s.bind(null,"bJYH")).then(()=>Promise.all([s.e(0),s.e(3),s.e(9),s.e(6),s.e(58)]).then(s.bind(null,"M5JI"))),renderPlaceholder:()=>i.createElement(ge,null)});const Ee=()=>window.performance&&"function"==typeof window.performance.now;var ye=s("yoO3"),Se=s("aeN7"),Le=Object(y.a)().propsFromState(()=>({inactivityThresholdMs:r.e,lastActiveOnLatestTimestamp:r.f,lastFrustrationEventTimestamp:r.g})).propsFromActions(()=>({addToast:E.b,updateAutoSwitchTimestamp:r.i,updateBehavior:r.j,updateLastActiveOnLatestTimestamp:r.l})).withAnalytics(),Fe=s("QIgh"),Ie=s("8UdT"),Ce=s("iu0J"),Oe=s("AP4B"),Me=s("ezF+"),Ae=s("VPAj"),xe=s("0KEI"),je=s("Zejx");const ke=(e,t)=>t.unhydratedTopics;var Pe=Object(y.a)().propsFromState(()=>({topics:Object(l.createSelector)(ke,je.a.selectAll,(e,t)=>e.map(e=>{const s=t[e.topicId];return s?Object.assign({},s,{clientEventInfo:e.clientEventInfo}):void 0}).filter(Boolean))})).propsFromActions(()=>({createLocalApiErrorHandler:Object(xe.d)("TOPIC_COLLECTION_CONTEXT"),follow:je.a.follow,unfollow:je.a.unfollow})).withAnalytics(),Re=s("Rp9C"),De=s("uavX"),ze=s("aV/s");const Ne=F.a.ge8f3043,He=F.a.aa576cbf;class Ue extends i.Component{constructor(...e){super(...e),a()(this,"state",{currentSlide:0}),a()(this,"_handleCarouselChange",e=>this.setState({currentSlide:e})),a()(this,"_handleFollow",e=>()=>{const{analytics:t,createLocalApiErrorHandler:s,follow:n}=this.props,a=this._getScribeDataForTopic(e),{component:i,element:o}=e.clientEventInfo||{};n(e.id).catch(s()),t.scribe({component:i,element:o,action:"follow",data:a})}),a()(this,"_handleFocus",e=>()=>{this.state.currentSlide!==e&&this._handleCarouselChange(e)}),a()(this,"_handleUnfollow",e=>()=>{const{analytics:t,createLocalApiErrorHandler:s,unfollow:n}=this.props,a=this._getScribeDataForTopic(e),{component:i,element:o}=e.clientEventInfo||{};n(e.id).catch(s()),t.scribe({component:i,element:o,action:"unfollow",data:a})})}componentDidMount(){const{analytics:e,topics:t}=this.props;e.scribeAction("impression"),t.forEach(t=>{const s=this._getScribeDataForTopic(t),{component:n,element:a}=t.clientEventInfo||{};e.scribe({component:n,element:a,action:"impression",data:s})})}render(){const{currentSlide:e}=this.state,t=this._getNumberOfRows();return i.createElement(oe.a,{style:[Ve.root,{height:50*t*this._getScaleValue()}]},i.createElement(De.a,{currentSlide:e,onChange:this._handleCarouselChange,showNavButtonsOnHover:!0,slidesToShow:1.8},this._renderTopicPills()))}_renderTopicPills(){const{topics:e}=this.props,t=this._getNumberOfRows(),s=[];for(let n=0,a=0;n<e.length;n+=t,a++){const o=e.slice(n,n+t),r=i.createElement(oe.a,{key:a,onFocus:this._handleFocus(a),style:Ve.column},o.map(e=>i.createElement(ze.a,{accessibilityLabel:e.following?He({topicName:e.name}):Ne({topicName:e.name}),key:e.id,mode:e.following?"active":"expand",onClick:e.following?this._handleUnfollow(e):this._handleFollow(e),selected:e.following,style:Ve.pill,text:e.name})));s.push(r)}return s}_getScaleValue(){const{theme:{scale:e,scales:t}}=O.a;return t[e]}_getNumberOfRows(){const{numberOfRows:e,topics:t}=this.props,s=t.length;return e||(s<8?1:s<12?2:3)}_getScribeDataForTopic(e){return{items:[Re.a.forTopic(e.id,e.clientEventInfo)]}}}const Ve=O.a.create(e=>({root:{marginVertical:e.spaces.xxSmall,minHeight:e.spaces.xLarge,overflow:"hidden",width:"100%"},column:{marginLeft:e.componentDimensions.gutterHorizontal},pill:{marginVertical:e.spaces.xxSmall,textOverflow:"ellipsis"}}));var Be=Pe(Ue),Je=Me.d(Me.f({component:Be,createProps:({entry:e})=>{const t=e.content.rowCount?parseInt(e.content.rowCount,10):void 0;return{numberOfRows:isNaN(t)?void 0:t,unhydratedTopics:e.content.topics}},isFocusable:Object(Ae.a)(!0)})),We=s("aITJ");var qe=Object.assign({},Object(Fe.a)({tweetDismissable:!0,shouldSelfThreadIncludeAvatar:!0,withCarouselTimelineModule:We.a.isMobileOS()}),Oe.a,{[Ie.c.EventSummary]:Object(Ce.a)({errorContext:"HOME_TIMELINE_SCREEN"}),[Ie.c.TopicCollection]:Je}),Ge=s("MDbM"),Ke=s("FIs5");const $e=F.a.d2c66f1f,Qe=F.a.c3fbf1da,Xe=F.a.bf17ded9;var Ye=({onImpression:e})=>i.createElement(Ke.a,{buttonLink:"/i/connect_people",buttonText:Xe,header:$e,message:Qe,onImpression:e}),Ze=s("/NU0"),et=s("EUHl"),tt=s("fTQJ"),st=s("WA1W");const nt=F.a.f089620b,at=F.a.e4c6d14c,it={count:void 0};class ot extends i.Component{constructor(e,t){super(e,t),a()(this,"_handleEntriesUpdate",({entries:e,fetchStatus:t})=>{const{isInitialScreen:s,recordTTFT:n,useLatest:a,updateLastActiveOnLatestTimestamp:i}=this.props;if(t===Ge.a.FAILED&&(this._shouldRecordTTFT=!1),this._shouldRecordTTFT&&s&&e.length){const t=e.some(({type:e})=>e===Ie.c.Tweet);this._shouldRecordTTFT=!1,t&&n()}if(this._latestTimelineSwitchEnabled&&a){i(Date.now())}}),a()(this,"_renderEmptyTimeline",()=>i.createElement(Ye,{onImpression:this._handleEmptyHtlImpression})),a()(this,"_handleEmptyHtlImpression",()=>{const{analytics:e}=this.props;e.scribe({component:"empty_message",action:"impression"})}),this._shouldRecordTTFT=!0,this._latestTimelineSwitchEnabled=f.a.isTrue("home_timeline_latest_timeline_switch_enabled"),this._checkIsAutoSwitchRequired()}componentDidMount(){this._requiresAutoSwitch&&(this._performAutoSwitch(),this._requiresAutoSwitch=!1)}render(){if(this._requiresAutoSwitch)return null;const{useLatest:e,timelineRef:t}=this.props,s=this._latestTimelineSwitchEnabled&&e?st.a:st.b;return i.createElement(tt.a,{entryConfiguration:qe,fetchTopOptions:it,module:s,newTweetsPillMode:et.a.URT,onEntriesUpdate:this._handleEntriesUpdate,renderEmptyState:this._renderEmptyTimeline,timelineRef:t,title:nt})}_performAutoSwitch(){const{updateBehavior:e,addToast:t,analytics:s,updateAutoSwitchTimestamp:n,lastActiveOnLatestTimestamp:a,inactivityThresholdMs:i,lastFrustrationEventTimestamp:o}=this.props,r=Object(Ze.a)(a)?(({lastActiveOnLatestTimestamp:e,inactivityThresholdMs:t,lastFrustrationEventTimestamp:s})=>({duration_ms:Date.now()-e,event_value:w({inactivityThresholdMs:t,lastFrustrationEventTimestamp:s})}))({lastActiveOnLatestTimestamp:a,inactivityThresholdMs:i,lastFrustrationEventTimestamp:o}):void 0;s.scribe({action:"automatic_switch_to_home",data:r}),n({autoSwitchTimestamp:Date.now()}),e({useLatest:!1}).then(()=>{t({text:at})})}_checkIsAutoSwitchRequired(){const{useLatest:e,lastActiveOnLatestTimestamp:t,inactivityThresholdMs:s,lastFrustrationEventTimestamp:n}=this.props;this._requiresAutoSwitch=!!Object(Ze.a)(t)&&b({useLatest:e,lastActiveOnLatestTimestamp:t,inactivityThresholdMs:s,lastFrustrationEventTimestamp:n})}}a()(ot,"defaultProps",{recordTTFT:Se.e});var rt=Le(ot),lt=s("7JQg"),ct=s("VS6U"),mt=s("Es6L"),ht=s("LsPn"),pt=s("0yYu"),ut=s("mw9i");const dt=F.a.i5f7b6b8,_t=F.a.d126cb7c,ft=F.a.ha8209bb,Tt={page:"home"},vt={page:"home_latest"};class wt extends i.Component{constructor(e){super(e),a()(this,"_unmounted",!1),a()(this,"_renderTimeline",()=>{const{useLatest:e,isInitialScreen:t}=this.props;return i.createElement(d.a,null,i.createElement(rt,{isInitialScreen:t,timelineRef:this._setTimelineRef,useLatest:e}))}),a()(this,"_renderPrimaryContent",()=>{const{history:e,location:t,configurationFetchStatus:s}=this.props,n=i.createElement(v.a,{history:e});return i.createElement(i.Fragment,null,Object(mt.a)()?i.createElement(i.Fragment,null,i.createElement(be,{history:e,location:t}),i.createElement(pt.a,null)):null,i.createElement(_.a,{component:ut.a,fab:n},We.a.isKaiOS()?i.createElement(ht.a,{leftText:dt,onLeftClick:this._handleSoftLeftClick}):null,i.createElement(T.a,{fetchStatus:s,render:this._renderTimeline})))}),a()(this,"_handleSoftLeftClick",()=>{const{history:e}=this.props;e.push("/account")}),a()(this,"_handleTabRefresh",()=>{this._timeline&&this._timeline.refreshOrGoTop()}),a()(this,"_handleWindowFocus",()=>{this._timeline&&this._timeline.fetchTop({onlyIfStale:!0})}),a()(this,"_setTimelineRef",e=>{this._timeline=e}),this._latestTimelineSwitchEnabled=f.a.isTrue("home_timeline_latest_timeline_switch_enabled")}componentDidMount(){if(window.addEventListener("focus",this._handleWindowFocus),f.a.isTrue("responsive_web_framerate_tracking_home_enabled")){const e=`${f.a.isTrue("responsive_web_scroller_v3_enabled")?"home_scroller_v3":"home"}${We.a.isDesktopOS()?"":"_mobile"}`;(Ee()?s.e(268).then(s.bind(null,"Iid0")).then(({default:e})=>e):Promise.resolve(void 0)).then(t=>{!this._unmounted&&t&&(this._fpsTracking=t({reportNamespace:e}))})}}componentWillUnmount(){this._unmounted=!0,window.removeEventListener("focus",this._handleWindowFocus),this._fpsTracking&&this._fpsTracking.stop()}render(){const{useLatest:e,history:t}=this.props,s=this._latestTimelineSwitchEnabled?i.createElement(se,{useLatest:e}):void 0,n=this._latestTimelineSwitchEnabled&&e?_t:ft;return i.createElement(lt.b,{namespace:this._getScribeNamespace()},i.createElement(ye.a,null,i.createElement(ct.a,{history:t,onTabRefresh:this._handleTabRefresh,primaryContent:this._renderPrimaryContent,rightControl:s,sidebarContent:i.createElement(o.a,null),title:n})))}_getScribeNamespace(){const{useLatest:e}=this.props;return e?vt:Tt}}t.default=u(wt)}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web/bundle.HomeTimeline.47591f45.js.map