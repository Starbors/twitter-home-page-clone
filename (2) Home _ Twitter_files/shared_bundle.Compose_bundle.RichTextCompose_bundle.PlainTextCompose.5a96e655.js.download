(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"45mF":function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var s=a("1YZw"),i=a("pXBW"),n=a("3XMw"),o=a.n(n),r=a("SrIh");const l=o.a.a5d4fda0,d=(e=l,t=!0)=>({customErrorHandler:a=>{const{context:n}=a;return!a instanceof i.a&&(a.message=`Strato error occurred in ${n.id}: ${n.action}`),Object(r.a)(a,{extra:{context:n,isStrato:!0}}),t?Object(s.b)({text:e}):[]}})},"6XNv":function(e,t,a){"use strict";a("IAdD"),a("kYxP");var s=a("KEM+"),i=a.n(s),n=a("ERkP"),o=a("t62R"),r=a("FG+G"),l=a("rHpw"),d=(a("aWzz"),a("k/Ka")),c=a("MWbm");const h=n.forwardRef((e,t)=>Object(d.a)("select",Object.assign({},e,{ref:t}))),p=e=>Object(d.a)("option",e);class u extends n.PureComponent{constructor(...e){super(...e),i()(this,"_selectRef",n.createRef()),i()(this,"state",{isFocused:!1}),i()(this,"_handleChange",e=>{const{onChange:t,withEmptyOption:a}=this.props,{selectedIndex:s,value:i}=e.target;t&&t(i,s-(a?1:0))}),i()(this,"_handleBlur",e=>{const{onBlur:t}=this.props;this.setState({isFocused:!1}),t&&t()}),i()(this,"_handleFocus",e=>{const{onFocus:t}=this.props;this.setState({isFocused:!0}),t&&t()})}componentDidMount(){this.props.autofocus&&this._selectRef&&this._selectRef.current&&this._selectRef.current.focus()}render(){const{style:e,disabled:t,options:a,value:s,label:i,hasError:o,helperText:l,testID:d,withEmptyOption:u}=this.props,{isFocused:g}=this.state;return n.createElement(n.Fragment,null,n.createElement(c.a,{style:[m.container,t&&m.disabled,m.bottomBorder,t&&m.bottomBorderDisabled,g&&m.bottomBorderFocused,o&&m.bottomBorderError,e]},this._renderLabel(),n.createElement(c.a,{style:m.dropdownContainer},n.createElement(h,{accessibilityLabel:i,disabled:t,onBlur:this._handleBlur,onChange:this._handleChange,onFocus:this._handleFocus,ref:this._selectRef,style:[m.select,i&&m.selectWithLabel,t&&m.disabled],testID:d||"",value:s},u?n.createElement(p,{disabled:!0,style:m.option,value:""}):null,a.map(e=>{const{disabled:t,label:a,value:s}=e;return n.createElement(p,{disabled:t,key:`${a}-${s}`,style:m.option,value:s},a)})),n.createElement(r.a,{style:[m.dropdownCaret,g&&m.dropdownCaretFocused,o&&m.dropdownCaretError]}))),l?this._renderHelperText():null)}_renderLabel(){const{hasError:e,label:t}=this.props,{isFocused:a}=this.state;return n.createElement(o.c,{color:e?"red":a?"primary":"deepGray",style:m.label},t)}_renderHelperText(){return n.createElement(c.a,{accessibilityLiveRegion:"polite"},n.createElement(o.c,{color:"deepGray",style:m.helperText},this.props.helperText))}}i()(u,"defaultProps",{disabled:!1,autofocus:!1,withEmptyOption:!1}),u.propTypes={};const m=l.a.create(e=>({container:{backgroundColor:e.colors.faintGray,paddingHorizontal:e.spaces.xSmall,borderWidth:e.borderWidths.none},disabled:{cursor:"default",opacity:.5},dropdownCaret:{color:e.colors.deepGray,height:"1.5em",pointerEvents:"none",position:"absolute",marginTop:"-0.75em",top:"50%",right:0},dropdownCaretFocused:{color:e.colors.primary},dropdownContainer:{position:"relative"},bottomBorder:{borderBottomWidth:e.borderWidths.medium,borderBottomColor:e.colors.deepGray,borderRadius:e.borderWidths.medium},bottomBorderFocused:{borderBottomColor:e.colors.primary},bottomBorderDisabled:{borderBottomColor:e.colors.transparent},dropdownCaretError:{color:e.colors.red},bottomBorderError:{borderBottomColor:e.colors.red},label:{alignSelf:"flex-start",paddingTop:e.spaces.xxSmall},option:{backgroundColor:e.colors.navigationBackground},select:{appearance:"none",backgroundColor:"transparent",borderRadius:0,borderWidth:e.borderWidths.none,color:e.colors.text,cursor:"pointer",fontSize:e.fontSizes.large,margin:0,outlineStyle:"none",padding:0,paddingRight:"1.5em",paddingVertical:e.spaces.small},selectWithLabel:{paddingBottom:e.spaces.xxSmall,paddingTop:e.spaces.micro},helperText:{alignSelf:"flex-start",paddingHorizontal:e.spaces.xSmall,paddingTop:e.spaces.xxSmall}}));t.a=u},EweD:function(e,t,a){"use strict";a("IAdD");var s=a("ERkP"),i=a("Lsrn"),n=a("k/Ka");const o=(e={})=>Object(n.a)("svg",Object.assign({},e,{style:[i.a.root,e.style],viewBox:"0 0 24 24"}),s.createElement("g",null,s.createElement("path",{d:"M16.04 7.266c-.45 0-.815.297-.947.7l-.03.113s-1.064-1.397-3.277-1.397c-2.855 0-4.928 2.4-4.928 5.706 0 2.495 1.755 4.525 3.912 4.525 2.307 0 3.632-1.492 3.632-1.492s.597 1.75 3.503 1.75c.49 0 4.837-.297 4.837-5.172 0-5.923-4.82-10.743-10.744-10.743-5.922 0-10.74 4.82-10.74 10.743 0 5.924 4.818 10.743 10.742 10.743 2.244 0 4.04-.544 5.82-1.765.163-.112.273-.283.31-.48s-.005-.394-.118-.557c-.224-.327-.71-.418-1.037-.193-1.516 1.04-3.05 1.504-4.976 1.504-5.102 0-9.25-4.15-9.25-9.25S6.9 2.75 12 2.75 21.25 6.9 21.25 12c0 2.916-1.822 3.9-3.234 3.9-.53 0-2.234-.213-1.906-2.103 0 0 .938-5.4.938-5.523-.002-.557-.452-1.008-1.01-1.008zm-2.235 6.55c-.58.83-1.378 1.305-2.247 1.335l-.105.003c-1.483 0-2.52-1.112-2.578-2.768-.075-2.12 1.366-3.964 3.146-4.027l.102-.002c1.423 0 2.417 1.07 2.474 2.66.035 1.024-.245 2.018-.79 2.8z"})));o.metadata={width:24,height:24},t.a=o},MXY2:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var s=a("3XMw"),i=a.n(s);const n=i.a.bea869b3,o=i.a.f70a36d0,r=i.a.bac8f4c1,l=i.a.d17df547,d=i.a.h735a98d,c=e=>{const t=e.inReplyToStatus&&!e.isSelfThreadReply;return e.isScheduled?d:e.isQuoteTweet||e.isRetweet?r:t?l:e.isThread?o:n}},"S+H3":function(e,t,a){"use strict";a("IAdD");var s=a("ERkP"),i=a("Lsrn"),n=a("k/Ka");const o=(e={})=>Object(n.a)("svg",Object.assign({},e,{style:[i.a.root,e.style],viewBox:"0 0 24 24"}),s.createElement("g",null,s.createElement("path",{d:"M15.09 9.07c-.25-1.83-1.43-2.98-3.1-2.98-1.66 0-2.85 1.15-3.09 2.98-.18 1.32 0 2.26.55 2.89.66.76 1.66.86 2.54.86.89 0 1.88-.1 2.54-.86.56-.63.74-1.57.56-2.89zm-1.68 1.9c-.21.24-.65.35-1.42.35-.76 0-1.2-.11-1.41-.35-.24-.28-.31-.86-.2-1.7.1-.76.47-1.68 1.61-1.68.58 0 .95.23 1.2.56.24.32.36.74.41 1.12.12.84.05 1.42-.19 1.7zm2.67 4.09c-.99-.99-2.4-1.52-4.07-1.52h-.03c-1.62 0-3.06.55-4.06 1.55-.87.87-1.34 2.02-1.34 3.25 0 .79.64 1.44 1.44 1.44h7.95c.79 0 1.44-.65 1.44-1.44 0-1.26-.47-2.43-1.33-3.28zm-7.44 3.276c-.318.002-.562-.288-.502-.6.116-.595.406-1.14.842-1.576.72-.72 1.78-1.12 3.01-1.12H12c1.27 0 2.32.37 3.02 1.08.432.432.715.962.83 1.564.06.308-.178.598-.492.6l-6.72.052zM21.75 6.97c-.22-1.7-1.32-2.75-2.86-2.75-1.53 0-2.64 1.05-2.87 2.75-.16 1.2.02 2.07.52 2.65.62.71 1.53.81 2.35.81.81 0 1.73-.1 2.34-.8.39-.45.59-1.07.59-1.85 0-.22-.02-.47-.07-.81zm-4.22.2c.13-.95.59-1.43 1.36-1.43.43 0 .77.15 1 .46.23.29.32.69.35.97.03.22.05.43.05.61 0 .4-.07.69-.21.84-.16.2-.54.28-1.19.28-.66 0-1.04-.08-1.2-.28-.2-.22-.25-.73-.16-1.45zm6.3 8.37c0 .74-.62 1.34-1.37 1.34h-3.75c-.41 0-.76-.34-.76-.76 0-.43.34-.76.76-.76h3.24c.1 0 .2-.05.26-.13.07-.09.1-.2.07-.3-.12-.53-.37-.99-.74-1.36-.61-.62-1.53-.94-2.64-.94-.73 0-1.39.15-1.93.44l-.5.32c-.36.21-.83.1-1.04-.25-.23-.36-.12-.82.24-1.05l.54-.34c.78-.42 1.71-.64 2.66-.64h.03c1.52 0 2.81.47 3.72 1.38.79.8 1.22 1.88 1.21 3.05zM2.18 7.78c0 .78.2 1.4.59 1.85.61.7 1.53.8 2.34.8.82 0 1.73-.1 2.35-.81.5-.58.68-1.45.52-2.65-.23-1.7-1.34-2.75-2.87-2.75-1.54 0-2.64 1.05-2.86 2.75-.05.34-.07.59-.07.81zm4.13.84c-.16.2-.54.28-1.2.28-.65 0-1.03-.08-1.19-.28-.14-.15-.21-.44-.21-.84 0-.18.02-.39.05-.61.03-.28.12-.68.35-.97.23-.31.57-.46 1-.46.77 0 1.23.48 1.36 1.43.09.72.04 1.23-.16 1.45zM.17 15.54c0 .74.62 1.34 1.37 1.34h3.75c.41 0 .76-.34.76-.76 0-.43-.34-.76-.76-.76H2.05c-.1 0-.2-.05-.26-.13-.07-.09-.1-.2-.07-.3.12-.53.37-.99.74-1.36.61-.62 1.53-.94 2.64-.94.73 0 1.39.15 1.93.44l.5.32c.36.21.83.1 1.04-.25.23-.36.12-.82-.24-1.05l-.54-.34c-.78-.42-1.71-.64-2.66-.64H5.1c-1.52 0-2.81.47-3.72 1.38-.79.8-1.22 1.88-1.21 3.05z"})));o.metadata={width:24,height:24},t.a=o},Ub51:function(e,t,a){"use strict";a("IAdD"),a("JtPf"),a("Qavd"),a("DZ+c"),a("x4t0"),a("MvUL"),a("kYxP");var s=a("97Jx"),i=a.n(s),n=a("KEM+"),o=a.n(n),r=a("ERkP"),l=a("wpu3");const d=Object.freeze({all:"all",community:"community",by_invitation:"by_invitation"});var c=a("3XMw"),h=a.n(c),p=a("MWbm"),u=a("t62R"),m=a("CKsB"),g=a("/yvb"),_=a("rHpw"),b=a("Zg3A"),y=a("S+H3"),f=a("EweD");const C=h.a.g6185a9e,w=h.a.g2d04222,x=h.a.baffe39a,T=h.a.af293dc2,v=h.a.h1053f7e,S=h.a.cfd2f35d,E=_.a.create(e=>({root:{flexDirection:"column",paddingTop:e.spaces.small,paddingBottom:e.spaces.xxSmall,borderRadius:e.borderRadii.large},popover:{maxWidth:5*parseInt(e.spaces.jumbo,10)},modal:{borderRadius:0},title:{flexDirection:"column",paddingHorizontal:e.spaces.small,marginBottom:e.spaces.xSmall},menuRow:{flexDirection:"row",paddingTop:e.spaces.xSmall,paddingBottom:e.spaces.xSmall,alignItems:"center",borderRadius:e.spaces.xxSmall},cancelButton:{marginHorizontal:e.spaces.small,marginVertical:e.spaces.small}}));var R=e=>{const{dismiss:t,isModal:a,value:s}=e,i=t=>()=>{e.onChange(t),e.dismiss()};return r.createElement(p.a,{accessibilityRole:"dialog","aria-describedby":"conversation-controls-details","aria-labelledby":"conversation-controls-title",style:[E.root,a?E.modal:E.popover]},r.createElement(p.a,{style:E.title},r.createElement(u.c,{nativeID:"conversation-controls-title",weight:"bold"},C),r.createElement(u.c,{color:"deepGray",nativeID:"conversation-controls-details",size:"normal"},w)),r.createElement(p.a,null,r.createElement(m.a,{Icon:b.a,actionText:x,isSelected:d.all===s,onClick:i(d.all),selectable:!0,style:E.menuRow,withIconAsThumbnail:!0}),r.createElement(m.a,{Icon:y.a,actionText:T,isSelected:d.community===s,onClick:i(d.community),selectable:!0,style:E.menuRow,withIconAsThumbnail:!0}),r.createElement(m.a,{Icon:f.a,actionText:v,isSelected:d.by_invitation===s,onClick:i(d.by_invitation),selectable:!0,style:E.menuRow,withIconAsThumbnail:!0}),e.isModal?r.createElement(g.a,{key:"button_cancel",onPress:t,style:E.cancelButton,type:"neutral"},S):null))},I=a("Irs7"),A=a("cm6r"),k=a("OiMc"),B=a("cHvH"),M=a("Wd7d"),D=a("sgih");class O extends r.Component{constructor(...e){super(...e),o()(this,"_renderNarrow",()=>{const{children:e,disabled:t,renderContent:a}=this.props;return r.createElement(A.a,{accessible:!1,disabled:t,interactive:!1,renderMenu:e=>r.createElement(D.a,{onMaskClick:e,type:"bottom",withKeyboardNavigation:!0,withMask:!0},a(e,"sheet"))},e)}),o()(this,"_renderWide",()=>{const{children:e,disabled:t,renderContent:a}=this.props;return r.createElement(k.a,{disabled:t,enableEnterKeyToggle:!0,renderContent:e=>a(e,"popover"),withArrow:!0},e)})}render(){return r.createElement(B.a,null,({screenWidth:e})=>M.a.isNarrowScreenWidth(e)?this._renderNarrow():this._renderWide())}}o()(O,"defaultProps",{disabled:!1});var P=a("DlMI"),L=a("gBde"),F=a("fBGZ");const N=r.createElement(P.a,null),j=r.createElement(L.a,null),H=r.createElement(F.a,null),W=Object.freeze({all:{icon:N,label:h.a.i8ea6d4e},community:{icon:H,label:h.a.ec5a4a25},by_invitation:{icon:j,label:h.a.b4543009}});var V=Object(I.a)(e=>{const{icon:t,label:a}=W[e.value],{analytics:s,disabled:n,hidden:o}=e,l=r.useCallback(e=>{s.scribe({element:"conversation_control",action:"click"})},[s]),d=r.useCallback((t,a)=>r.createElement(R,i()({},e,{dismiss:t,isModal:"sheet"===a})),[e]);return r.createElement(r.Fragment,null,r.createElement(p.a,{style:[z.container,o&&z.hidden]},r.createElement(O,{disabled:n,renderContent:d},r.createElement(g.a,{disabled:n,icon:t,onPress:l,size:"small",style:z.button,type:"text"},a))),r.createElement(p.a,{style:[z.separator,o&&z.hidden]}))});const z=_.a.create(e=>({button:{paddingHorizontal:e.spaces.xxSmall},container:{display:"inline-flex",flexDirection:"row",paddingBottom:e.spaces.xSmall},separator:{height:"1px",backgroundColor:e.colors.borderColor,width:"100%"},hidden:{visibility:"hidden"}}));var U=a("krmn"),G=a("wrlS"),q=a("cIoY"),K=a("w3n3"),$=a("MLl7"),X=a("1auM"),Y=a("Q8CU"),J=a("QbaN"),Q=a("VPdC"),Z=a("B1L3"),ee=(a("aWzz"),a("p+r5")),te=a("GWvE");class ae extends r.Component{constructor(...e){super(...e),o()(this,"_setInputRef",e=>{this._inputRef=e})}render(){const{autoFocus:e,defaultValue:t,editable:a,label:s,onChange:i,name:n}=this.props;return r.createElement(p.a,{style:se.root},r.createElement(ee.a,{autoCapitalize:"none",autoCorrect:!1,autoFocus:e,defaultValue:t,editable:a,label:s,maxLength:25,name:n,onChange:i,ref:this._setInputRef,spellCheck:"false",style:se.formTextInput}))}get value(){return this._inputRef&&this._inputRef.getValue()}get isValid(){const{optional:e}=this.props;return!this.value&&e||this.value&&!Object(te.a)(this.value)&&this._inputRef&&this._inputRef.isValidLength()}}o()(ae,"defaultProps",{autoFocus:!1,editable:!0,optional:!1});const se=_.a.create(e=>({root:{flexDirection:"row",flexShrink:1},action:{width:e.spaces.xLarge},addButton:{flexGrow:1,minHeight:"100%",padding:0},formTextInput:{flexGrow:1,flexShrink:1,marginVertical:0,paddingTop:0,paddingHorizontal:0,paddingBottom:e.spaces.xSmall}}));var ie=ae,ne=a("mtvn"),oe=a("6XNv");class re extends r.PureComponent{render(){const{editable:e,label:t,last:a,max:s,min:i,onChange:n,value:o}=this.props,l=!e||i===s,d=o.toString(),c=Object(ne.a)(i,s+1).map(e=>({label:""+h.a.ia24dc8c(e),value:""+e}));return r.createElement(oe.a,{disabled:l,label:t,onChange:n,options:c,style:[le.selector,!a&&le.rightMargin],value:d})}}o()(re,"defaultProps",{last:!1});const le=_.a.create(e=>({rightMargin:{marginRight:e.spaces.medium},selector:{flexGrow:1}}));var de=re;const ce=h.a.caf8edc4,he=h.a.g93586be,pe=h.a.d073b644,ue=h.a.a2f0728e;class me extends r.Component{constructor(e,t){super(e,t),o()(this,"_handleDaysChange",e=>{const t=parseInt(e,10);this.setState(e=>{const{hours:a,minutes:s}=e.duration,i=0===t&&0===a&&0===s?1:7===t?0:a;return{duration:{days:t,hours:i,minutes:7===t?0:0===t&&0===i&&s<5?5:s}}})}),o()(this,"_handleHoursChange",e=>{const t=parseInt(e,10);this.setState(e=>{const{days:a,minutes:s}=e.duration;return{duration:{days:a,hours:t,minutes:0===a&&0===t&&s<5?5:s}}})}),o()(this,"_handleMinutesChange",e=>{const t=parseInt(e,10);this.setState(e=>{const{days:a,hours:s}=e.duration;return{duration:{days:a,hours:s,minutes:t}}})}),this.state={duration:e.initialDuration}}render(){const{style:e,isActive:t}=this.props;return r.createElement(p.a,{style:e},r.createElement(u.c,{color:"normal",style:ge.durationLabel},t?ce:""),this._renderPicker())}_renderPicker(){const{editable:e,isActive:t}=this.props,{duration:{days:a,hours:s,minutes:i}}=this.state;return r.createElement(p.a,{style:ge.durationControls},r.createElement(de,{editable:e&&t,label:he,max:7,min:0,onChange:this._handleDaysChange,value:a}),r.createElement(de,{editable:e&&t,label:pe,max:7===a?0:23,min:0,onChange:this._handleHoursChange,value:s}),r.createElement(de,{editable:e&&t,label:ue,last:!0,max:7===a?0:59,min:0===a&&0===s?5:0,onChange:this._handleMinutesChange,value:i}))}get duration(){return this.state.duration}}o()(me,"defaultProps",{editable:!0,initialDuration:{days:1,hours:0,minutes:0}});const ge=_.a.create(e=>({durationControls:{flexDirection:"row",justifyContent:"space-between"},durationLabel:{marginBottom:e.spaces.xxSmall}}));var _e=me,be=a("iY63"),ye=a("jtO7");const fe=h.a.g589c2e1,Ce=h.a.a1e6c3a1,we=h.a.a739e006,xe=h.a.d89a5b92,Te=h.a.c2a8118d,ve=h.a.a8ede1de;class Se extends r.Component{constructor(e,t){super(e,t),o()(this,"_setChoice1Ref",e=>{this._choice1=e}),o()(this,"_setChoice2Ref",e=>{this._choice2=e}),o()(this,"_setChoice3Ref",e=>{this._choice3=e}),o()(this,"_setChoice4Ref",e=>{this._choice4=e}),o()(this,"_setDurationPickerRef",e=>{this._durationPicker=e}),o()(this,"_handleValidation",()=>{const{onValid:e,onInvalid:t}=this.props,a=this.choices,{_choice1:s,_choice2:i,_choice3:n,_choice4:o}=this,r=[s,i,n,o].filter(Boolean).every(e=>e.isValid);a&&a.length>=2&&r?e():t()}),o()(this,"_handleAdd",()=>{const{analytics:e}=this.props;e.scribe({element:"add_poll_option",action:"click"}),this.setState(({choiceCount:e})=>({autoFocus:!0,choiceCount:e+1}))});const{initialChoices:a}=e,s=void 0===a,i=(a||[]).length,n=i>2?i:2;this.state={autoFocus:s,choiceCount:n}}render(){const{editable:e,initialChoices:t=[],initialDuration:a,isActive:s,onRemove:i}=this.props,{autoFocus:n,choiceCount:o}=this.state;return r.createElement(p.a,{style:Ee.root},r.createElement(p.a,{style:Ee.choicesAndAddButton},r.createElement(p.a,{style:Ee.choices},r.createElement(ie,{autoFocus:n,defaultValue:t[0],editable:e&&s,label:fe,name:"Choice1",onChange:this._handleValidation,ref:this._setChoice1Ref}),r.createElement(ie,{defaultValue:t[1],editable:e&&s,label:Ce,name:"Choice2",onChange:this._handleValidation,ref:this._setChoice2Ref}),o>=3?r.createElement(ie,{autoFocus:n,defaultValue:t[2],editable:e&&s,label:we,name:"Choice3",onChange:this._handleValidation,optional:!0,ref:this._setChoice3Ref}):null,4===o?r.createElement(ie,{autoFocus:n,defaultValue:t[3],editable:e&&s,label:xe,name:"Choice4",onChange:this._handleValidation,optional:!0,ref:this._setChoice4Ref}):null),r.createElement(p.a,{style:Ee.rightColumn},o<4?r.createElement(g.a,{accessibilityLabel:ve,disabled:!(e&&s),icon:r.createElement(be.a,null),onPress:this._handleAdd,size:"normal",style:Ee.addButton,type:"text"}):null)),r.createElement(_e,{editable:e,initialDuration:a,isActive:s,ref:this._setDurationPickerRef,style:Ee.durationPicker}),r.createElement(p.a,{style:Ee.removePollButton},r.createElement(ye.a,{color:"red",label:Te,onPress:i,withBottomBorder:!1})))}get choices(){const{_choice1:e,_choice2:t,_choice3:a,_choice4:s}=this;return[e&&e.value,t&&t.value,a&&a.value,s&&s.value].filter(Boolean)}get duration(){return this._durationPicker?this._durationPicker.duration:void 0}}const Ee=_.a.create(e=>({root:{flexDirection:"column",backgroundColor:e.colors.transparent,borderColor:e.colors.nestedBorderColor,borderRadius:e.borderRadii.large,borderStyle:"solid",borderWidth:e.borderWidths.small,paddingTop:e.spaces.xSmall,overflow:"hidden"},choicesAndAddButton:{paddingLeft:e.spaces.small,paddingRight:e.spaces.small,flexDirection:"row"},choices:{flexGrow:1,flexShrink:1,marginRight:e.spaces.xxSmall},removePollButton:{borderBottomLeftRadius:e.borderRadii.large,borderBottomRightRadius:e.borderRadii.large},rightColumn:{flexDirection:"column-reverse",marginRight:`calc(-1 * ${e.spaces.xSmall})`,paddingBottom:e.spaces.xSmall,width:e.spaces.xLarge},addButton:{marginBottom:e.spaces.large},durationPicker:{borderTopColor:e.colors.nestedBorderColor,borderTopWidth:1,borderBottomColor:e.colors.nestedBorderColor,borderBottomWidth:1,paddingBottom:e.spaces.xSmall,paddingLeft:e.spaces.small,paddingRight:e.spaces.small,paddingTop:e.spaces.xSmall}}));var Re=Object(I.a)(Se),Ie=a("VoLI"),Ae=a("rcen"),ke=a("zmS9"),Be=a("WPfJ"),Me=_.a.create(e=>({root:{paddingHorizontal:e.componentDimensions.gutterHorizontal},avatarContainerExpanded:{paddingTop:e.spaces.xxSmall},avatarContainer:{justifyContent:"center"},avatar:{width:"100%"},rightColumn:{paddingTop:e.spaces.xxSmall,justifyContent:"center",position:"static",transitionProperty:"opacity, color",transitionDuration:"0.1s",transitionTimingFunction:"ease-out"},composeBoxContainer:{display:"flex",flexDirection:"column",flexGrow:1,flexShrink:1,position:"static",zIndex:1},inputArea:{zIndex:1},dragDrop:{borderColor:e.colors.transparent,borderRadius:e.borderRadii.medium,borderStyle:"solid",borderWidth:e.borderWidths.medium},textInputArea:{alignItems:"center",flexDirection:"row",justifyContent:"space-between",zIndex:Be.f},textInputStyle:{paddingHorizontal:0},textInputMobileCollapsed:{maxHeight:e.fontSizes.xLarge,padding:0},tweetAttachmentArea:{zIndex:Be.e},iconEmojiPicker:{zIndex:Be.c},toolBar:{alignItems:"center",backgroundColor:e.colors.cellBackground,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginHorizontal:e.spaces.micro,zIndex:Be.a},firstToolBarButton:{marginLeft:"-"+e.spaces.xSmall},toolBarButton:{marginHorizontal:0},toolBarIconsContainer:{alignItems:"center",flexDirection:"row",marginTop:e.spaces.xSmall},separator:{width:"1px",backgroundColor:e.colors.mediumGray,height:e.fontSizes.jumbo,marginRight:e.spaces.xSmall,marginLeft:`calc(${e.spaces.xSmall} - 2px)`},conversationLine:{alignSelf:"center",backgroundColor:e.colors.lightGray,flexGrow:1,flexShrink:1,minHeight:0,width:e.componentDimensions.conversationLineWidth,marginTop:e.spaces.xxSmall,marginBottom:e.spaces.xxSmall},conversationLineWithOverflow:{marginTop:"-"+e.spaces.xxSmall},attachmentContainer:{marginTop:e.spaces.xxSmall,marginBottom:e.spaces.xxSmall},mediaPreview:{marginTop:e.spaces.xxSmall},quoteTweet:{backgroundColor:e.colors.transparent,marginTop:e.spaces.xxSmall,marginBottom:0},addImageTextContainer:{alignSelf:"flex-start",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},noBackground:{backgroundColor:e.colors.transparent},addImageActionIcon:{marginRight:e.spaces.micro},addImageTextPadding:{marginEnd:e.spaces.xxLarge},imageActions:{alignItems:"center",flexDirection:"row",flexWrap:"wrap",marginTop:e.spaces.xxSmall},blurStyle:{opacity:.5},inputStyle:{width:"100%"},collapsedInputStyle:{flexGrow:1,flexShrink:1}})),De="addButton",Oe="altTextLabel",Pe="attachments",Le="taggedUsersLabel",Fe="tweetTextarea_",Ne="toolBar",je="scheduleOption",He=a("xM7j"),We=a("6OUF"),Ve=a("tZIO"),ze=a("5mJL"),Ue=a("DNho"),Ge=a("oSwX"),qe=a("rFBM"),Ke=a("zfvc"),$e=a("k6Ei"),Xe=a("+/1j");class Ye extends r.Component{render(){const{accessibilityLabel:e,accessibilityLiveRegion:t,count:a,maxCount:s,formatNumber:i,warningCount:n}=this.props,o=s-a,l=Math.min(1,1-o/s),d=a>=s?"red":a>=n?"yellow":"primary",c=r.createElement($e.a,{color:d,progress:l,size:a>=n?30:20,style:[Je.progressCircle,o<=-10&&Je.hide]}),h=a>=n?r.createElement(Xe.a,{style:[Je.text,o>0?Je.deepGrayColor:Je.redColor]},i(o)):null;return r.createElement(p.a,{accessibilityLabel:e,accessibilityLiveRegion:t,style:[Je.root,Je.center]},c,r.createElement(p.a,{style:[_.a.absoluteFill,Je.center]},h))}}o()(Ye,"displayName","@twitter/CountdownCircle"),o()(Ye,"defaultProps",{formatNumber:e=>e}),Ye.propTypes={};const Je=_.a.create(({colors:e})=>({root:{alignItems:"flex-start",minHeight:30,minWidth:30},center:{alignItems:"center",justifyContent:"center",margin:"auto"},progressCircle:{transitionDuration:"0.2s",transitionProperty:"opacity"},hide:{opacity:0},text:{fontSize:13,lineHeight:.8,minWidth:16,textAlign:"center"},deepGrayColor:{color:e.deepGray},redColor:{color:e.red}}));var Qe=Ye,Ze=a("gpVt"),et=a("hOZg"),tt=a("ll3R"),at=a("J0mu"),st=a("boUI"),it=a("6ZHn"),nt=a("/WPq"),ot=a("wpLu"),rt=a("oQhu"),lt=a("YeIG"),dt=a("pKoL"),ct=a("9Xij");class ht extends r.Component{render(){const{media:e,style:t}=this.props;return r.createElement(p.a,{style:t},this._renderImageGroup(e.length))}_renderImageGroup(e){switch(e){case 1:return this._renderGroupOf1();case 2:return this._renderGroupOf2();case 3:return this._renderGroupOf3();case 4:return this._renderGroupOf4();default:return null}}_renderGroupOf1(){const{media:e}=this.props,t=e&&!!e[0].mediaFile,{width:a,height:s}=e&&!t&&e[0].externalMediaDetails||{};return r.createElement(ct.a,{ratio:t?_.a.theme.aspectRatios.landscape:a/s},r.createElement(p.a,{style:pt.mediaPreviewWrapper},this._renderMediaAtIndex(0)))}_renderGroupOf2(){return r.createElement(ct.a,{ratio:_.a.theme.aspectRatios.landscape},r.createElement(p.a,{style:pt.mediaPreviewWrapper},this._renderMediaAtIndex(0,pt.gutterRight),this._renderMediaAtIndex(1)))}_renderGroupOf3(){return r.createElement(ct.a,{ratio:_.a.theme.aspectRatios.landscape},r.createElement(p.a,{style:pt.mediaPreviewWrapper},this._renderMediaAtIndex(0,pt.gutterRight),this._renderColumnWithIndices([1,2])))}_renderGroupOf4(){return r.createElement(ct.a,{ratio:_.a.theme.aspectRatios.landscape},r.createElement(p.a,{style:pt.mediaPreviewWrapper},this._renderColumnWithIndices([0,2],pt.gutterRight),this._renderColumnWithIndices([1,3])))}_renderColumnWithIndices(e,t){return r.createElement(p.a,{style:[pt.column,t]},this._renderMediaAtIndex(e[0],pt.gutterBottom),this._renderMediaAtIndex(e[1]))}_renderMediaAtIndex(e,t){const{media:a,mediaMetadata:s,editable:i,isActive:n,onClickMedia:o,onEditMedia:l,onRemoveMedia:d,onSetMediaPreviewRef:c}=this.props,h=a[e],p=h.id.toString(),u=s&&s[p]&&s[p].altText,m=s&&s[p]&&s[p].defaultAltText;return r.createElement(dt.a,{accessibilityLabel:u||m,accessibilityRole:"group",enableGif:n,key:h.id,mediaItem:h,onClick:o?o(h.id):void 0,onEdit:l?l(h.id):void 0,onRemove:d(h.id),ref:c,style:[pt.mediaContainer,t],withAltTextLabel:!!u,withCloseButton:i&&n,withEditButton:l&&i&&n})}}const pt=_.a.create(e=>({column:{flexDirection:"column",flexGrow:1,flexBasis:0},gutterRight:{marginRight:e.spaces.xSmall},gutterBottom:{marginBottom:e.spaces.xSmall},mediaContainer:{borderRadius:e.borderRadii.large,transitionProperty:"width",transitionDuration:"0.1s",transitionTimingFunction:"ease-out",overflow:"hidden",flexGrow:1,flexBasis:0},mediaPreviewWrapper:{flexDirection:"row",height:"100%"}}));var ut=a("S1qy"),mt=a.n(ut),gt=a("cjAp"),_t=a.n(gt);const bt=h.a.f0afcc0e,yt=h.a.ha5e2e79,ft=h.a.a3de3b68,Ct=h.a.cc2b28fc,wt=h.a.g45af04e,xt=h.a.ee9c4013,Tt=h.a.j499fbcb,vt=h.a.b7d8e3f0,St=h.a.d1175c78,Et=h.a.e349147b,Rt=h.a.e3a24e4b,It=h.a.de4669e2,At=h.a.d2c7a41c,kt=h.a.f7364fa1,Bt=h.a.c10ec81d,Mt=["ja","zh-cn","zh-tw","ko"],Dt=h.a.ia24dc8c,Ot=r.createElement(et.a,null),Pt=r.createElement(be.a,null),Lt=r.createElement(tt.a,null),Ft=r.createElement(at.a,null);class Nt extends r.Component{constructor(e){super(e),o()(this,"_handleConversationControlsValueChange",e=>{this.props.updateConversationControlsValue(e)}),o()(this,"_triggerConversationControlsImpression",Object(rt.a)(()=>G.a.isTrue("conversation_controls_limited_replies_creation_enabled"))),o()(this,"_renderConversationControls",e=>{const{isFocused:t}=this.state,{conversationControlsValue:a,isActive:s,isInline:i,isReply:n}=this.props;if(n||!t&&i||this._triggerConversationControlsImpression(),!this._conversationControlsCreationEnabled)return null;const o=s&&!n&&(!i||(t||e)),l=!o&&!i&&!n;return l||o?r.createElement(V,{disabled:this._isScheduled(),hidden:l,onChange:this._handleConversationControlsValueChange,value:a}):null}),o()(this,"_renderMainContent",()=>{const{additionalToolbarContent:e,autoFocus:t,data:a,editable:s,index:i,isActive:n,isExpanded:o,isInline:l,isInlineReply:d,isLast:c,keyCommandHandlers:h,onFilesAdded:u,onTextInputBlur:m,onTypeaheadStateChange:g,positionCursorAtBeginning:_,richTextInputContext:b}=this.props,{cardUrl:y,media:f,pollActive:C,quotedStatus:w,text:x}=a,T=Object(Ze.b)(x)||y&&!Object(Ze.c)(y)&&[y],v=!!f.length||C||!!w,S=0===i&&c,E=this.props.typeaheadWrapper,R=!!b,{element:I,sendTweetCommandName:A,dismissComposerCommandName:k}=b||{},B=b?{dismissComposerCommandName:k,editorState:this.state.editorState,element:I,sendTweetCommandName:A}:void 0,M=d&&!b&&!o;return r.createElement(p.a,{style:Me.textInputArea},r.createElement(p.a,{style:o?Me.inputStyle:Me.collapsedInputStyle},r.createElement(E,{contextText:x,isInline:l,onTextUpdated:this._handleTextChange,onTypeaheadStateChange:g},e=>r.createElement(We.a,{appTextSize:"large",ariaLabel:ft,autoFocus:t||n&&!l,closeButton:n&&this._isEmpty()&&!S?this._renderCloseButton():void 0,contentBelow:this._renderTweetAttachment(),editable:s,inputStyle:[Me.textInputStyle,M&&Me.textInputMobileCollapsed],keyCommandHandlers:h,maxNumberOfLines:R?30:10,multiline:!0,numberOfLines:this._calcNumberOfLines(),onBlur:m,onChange:this._getHandleChange(e),onFilesAdded:u,placeholder:this._getPlaceHolderText(),positionCursorAtBeginning:_,positionCursorAtEnd:!_,ref:this._setTextInputRef,richTextInputContext:B,style:Me.noBackground,styleType:"selection",testID:`${Fe}${i}`,value:x})),T&&!v?r.createElement(Ze.a,{index:i,isCardPreviewTombstoned:Object(Ze.c)(y),urls:T}):null),o?null:e)}),o()(this,"_calcNumberOfLines",()=>{const{richTextInputContext:e,isInline:t,data:a}=this.props,s=!!e,{media:i,pollActive:n,quotedStatus:o}=a;return s?t||i.length||n||o?1:6:4}),o()(this,"_renderScheduledTweetLegend",()=>{const{scheduledFor:e}=this.props;return r.createElement(ke.a,{onPress:this._handlePressScheduledTweetLegend,scheduledFor:e})}),o()(this,"_handlePressScheduledTweetLegend",()=>{const{history:e,analytics:t,setActiveParentKey:a}=this.props;e.push("/compose/tweet/schedule"),t.scribe({element:"tweet_legend",action:"click"}),a()}),o()(this,"_renderEmojiPicker",()=>r.createElement(U.a,{onEmojiSelect:this._handleInsertEmoji,size:"normal",style:this._getEmojiPickerButtonStyles(),textInputRef:this._textInputRef||void 0})),o()(this,"_getEmojiPickerButtonStyles",Object(rt.a)(()=>[Me.iconEmojiPicker,Me.toolBarButton])),o()(this,"_isSchedulingDisabled",()=>{const{conversationControlsValue:e,index:t,isLast:a,data:{pollActive:s,quotedStatus:i,text:n,media:o,mediaTags:r}}=this.props,l=0===t&&a,c=e!==d.all;return Boolean(s||!l||i&&""===n&&!o.length||c||r.length>0)}),o()(this,"_renderSchedulingButton",()=>r.createElement(g.a,{accessibilityLabel:yt,disabled:this._isSchedulingDisabled(),icon:Ft,onClick:this._handleClickScheduler,size:"normal",style:Me.toolBarButton,testID:je,type:"text"})),o()(this,"_handleClickScheduler",()=>{const{analytics:e,history:t,setActiveParentKey:a}=this.props;t.push("/compose/tweet/schedule"),e.scribe({element:"schedule_tweet",action:"click"}),a()}),o()(this,"_renderCloseButton",()=>{const{onRemoveComposer:e}=this.props;return r.createElement(g.a,{accessibilityLabel:xt,icon:Ot,onPress:e,size:"small",type:"text"})}),o()(this,"_renderTweetAttachment",()=>{const{data:e,editable:t,isActive:a}=this.props,{media:s,mediaMetadata:i,pollActive:n,initialPollChoices:o,initialPollDuration:l,quotedStatus:d}=e;return 0!==s.length||n||d?r.createElement(p.a,{onClick:this._handleFocus,style:[Me.attachmentContainer,Me.tweetAttachmentArea],testID:Pe},s.length>0?r.createElement(ht,{editable:t,isActive:a,media:s,mediaMetadata:i,onClickMedia:this.hasAttachedImage?this._handleClickMediaDetail:void 0,onEditMedia:this.hasAttachedImage?this._handleClickMediaDetail:void 0,onRemoveMedia:this._handleMediaRemoveFactory,onSetMediaPreviewRef:this._handleSetMediaPreviewRef,style:Me.mediaPreview}):null,a?this._renderMediaActions():null,n?r.createElement(Re,{editable:t,initialChoices:o,initialDuration:l,isActive:a,onInvalid:this._handlePollInvalid,onRemove:this._handlePollRemove,onValid:this._handlePollValid,ref:this._setPollCreatorRef}):null,d?this._renderQuoteTweet(d):null):null}),o()(this,"_renderQuoteTweet",e=>{const{data:{media:t}}=this.props,a=e.tombstoneInfo;return a&&a.richText?r.createElement(He.a,null,r.createElement(Ae.c,{entities:a.richText.entities,rtl:a.richText.rtl,text:a.richText.text})):r.createElement(Ie.a,{isCondensed:t.length>0,shouldTruncate:!1,style:Me.quoteTweet,tweet:e,withLink:!1,withUserHoverCard:!1})}),o()(this,"_renderToolbar",e=>{const{additionalToolbarContent:t,hidePollAndScheduling:a,isReply:s,richTextInputContext:i,isSelfThreadReply:n,isInlineReply:o}=this.props,l=!!i,d=!o&&!a;return r.createElement(p.a,{style:Me.toolBar,testID:Ne},r.createElement(p.a,{style:Me.toolBarIconsContainer},this._renderMediaPickerButton(),this._renderGifButton(),d?this._renderPollButton():null,l?this._renderEmojiPicker():null,d?this._renderSchedulingButton():null),r.createElement(p.a,{style:Me.toolBarIconsContainer},e?this._renderCountdownCircle():null,s&&!n||!e?null:r.createElement(r.Fragment,null,r.createElement(p.a,{style:Me.separator}),this._renderAddComposerButton()),t))}),o()(this,"_addOverflowStyle",e=>{const{richTextInputContext:t}=this.props;if(!t)return;const a=e.getCurrentContent().getPlainText(),s=a.length,i=this._getParsedTweet(a).validRangeEnd,n=i+1<s;if(this.state.hasOverflowStyle||n){const a=n?i+1:-1;return{editorState:t.updateOverflowStyle&&t.updateOverflowStyle(e,a,this.state.hasOverflowStyle),hasOverflowStyle:n}}return{editorState:e,hasOverflowStyle:n}}),o()(this,"_getHandleChange",Object(rt.a)(e=>t=>{e(t),this._handleTextChange(t)})),o()(this,"_handleTextChange",e=>{const{addToast:t,data:{key:a,text:s},onTextChange:i,richTextInputContext:n,twitterTextConfigurationVersion:o}=this.props;let r;if(n){r=e.getCurrentContent().getPlainText();const t=n.convertEmojiToEntities(e);this.setState(this._addOverflowStyle(t))}else r=Ve.a.replaceCarriageReturns(e.target.value);s!==r&&i(r,a);const l=_t.a[o];this._getParsedTweet(s).weightedLength>=l.maxWeightedTweetLength&&t({ariaOnly:!0,text:Bt})}),o()(this,"_handleClickAltTextShortcut",()=>{const{analytics:e}=this.props;e.scribe({element:"alt_text_button",action:"click"})}),o()(this,"_handleClickMediaDetail",e=>()=>{const{analytics:t,history:a}=this.props;t.scribe({element:"media_detail_button",action:"click"}),this.hasAttachedImage&&a.push("/compose/tweet/media",{mediaId:e,tab:"crop"})}),o()(this,"_handleDragDrop",e=>{const{addToast:t,data:{pollActive:a},onFilesAdded:s}=this.props;a?t({text:Ct}):s(e)}),o()(this,"_handleMediaRemoveFactory",e=>()=>{this.props.onRemoveMedia(this.props.index,e)}),o()(this,"_handleInsertEmoji",e=>{const{editorState:t}=this.state,{richTextInputContext:a}=this.props;if(!a)return;const s=a.insertTextAtCursor(t,e.text);this._handleTextChange(s)}),o()(this,"_validateMedia",e=>{const{data:{media:t}}=this.props;return l.c(t.concat(e))}),o()(this,"_handlePollAdd",()=>{const{analytics:e,index:t,updateSingleComposer:a}=this.props;e.scribe({element:"add_poll",action:"click"}),a({pollActive:!0},t)}),o()(this,"_handlePollRemove",()=>{const{analytics:e,index:t,updateSingleComposer:a}=this.props;e.scribe({element:"remove_poll",action:"click"}),a({pollActive:!1},t)}),o()(this,"_handlePollInvalid",()=>{const{data:{pollValid:e},index:t,updateSingleComposer:a}=this.props;e&&a({pollValid:!1},t)}),o()(this,"_handlePollValid",()=>{const{data:{pollValid:e},index:t,updateSingleComposer:a}=this.props;!e&&a({pollValid:!0},t)}),o()(this,"_handleFocus",()=>{const{isActive:e,index:t,onFocus:a,setActiveParentKey:s}=this.props;s(),e||(window.requestAnimationFrame(()=>{this._mediaPreviewRef&&this._mediaPreviewRef._playVideo()}),a(t))}),o()(this,"_handleEditorFocus",()=>this.setState({isFocused:!0})),o()(this,"_formatCountdownNumber",e=>Dt(Math.ceil(e/this._userLanguageWeight))),o()(this,"_getPlaceHolderText",()=>{const{data:{quotedStatus:e,pollActive:t},isReply:a,isSelfThreadReply:s,index:i}=this.props;return e?It:t?kt:a&&!s?At:s||i>0?Rt:Et}),o()(this,"_getNumberOfAltTextEntries",()=>{const{data:{mediaMetadata:e,media:t}}=this.props;return t.reduce((t,a)=>{var s;return e&&!Object(lt.a)(null==(s=e[a.id.toString()])?void 0:s.altText)?t+1:t},0)}),o()(this,"_getParsedTweet",Object(rt.a)(e=>{const t=_t.a[this.props.twitterTextConfigurationVersion];return mt()(e,t)})),o()(this,"_isEmpty",()=>{const{data:e}=this.props;return Object(Y.b)(e)}),o()(this,"_isScheduled",()=>{const{data:{scheduledFor:e}}=this.props;return Object(J.h)(e)}),o()(this,"_setPollCreatorRef",e=>{this._pollCreatorRef=e}),o()(this,"_handleSetMediaPreviewRef",e=>{this._mediaPreviewRef=e}),o()(this,"_setTextInputRef",e=>{this._textInputRef=e});const{richTextInputContext:t,userLanguage:a,data:{text:s}}=e,{initEditorState:i}=t||{};this._conversationControlsCreationEnabled=!0===G.a.getValueWithoutScribeImpression("conversation_controls_limited_replies_creation_enabled"),this._userLanguageWeight=a&&Mt.indexOf(a)>-1?2:1,this.state={editorState:i&&i(s),hasOverflowStyle:!1,isFocused:!1}}componentDidUpdate(e){(this.hasExternalMedia||this.props.data.media.some(e=>e.mediaFile&&!(e.mediaFile instanceof X.a)&&e.mediaFile.isVideo))&&e.isActive&&!this.props.isActive&&this._mediaPreviewRef&&this._mediaPreviewRef._pauseVideo()}focus(){this._textInputRef&&this._textInputRef.focus()}render(){const{isActive:e,isExpanded:t,isInline:a,isLast:s,loggedInUser:i,withAvatar:n}=this.props,o=!this._isEmpty();return r.createElement(p.a,{onFocus:this._handleFocus,style:[Me.root,!e&&Me.blurStyle]},r.createElement(ze.a,{avatarCell:r.createElement(r.Fragment,null,n?r.createElement(Ue.a.Consumer,null,({avatarSize:e})=>r.createElement(Ge.default,{accessibilityLabel:i?i.name:void 0,screenName:i?i.screen_name:void 0,size:e,style:Me.avatar,uri:i?i.profile_image_url_https:void 0,withLink:a})):null,s?null:r.createElement(p.a,{style:[Me.conversationLine,!n&&Me.conversationLineWithOverflow]})),avatarCellStyle:t?Me.avatarContainerExpanded:Me.avatarContainer,cellStyle:Me.rightColumn},this._renderScheduledTweetLegend(),r.createElement(p.a,{onFocus:this._handleEditorFocus,style:Me.inputArea},r.createElement(qe.a,{allowDragDrop:!this.mediaAttachDisabled,onDragEnter:this._handleFocus,onFilesAdded:this._handleDragDrop,style:Me.dragDrop},e=>r.createElement(r.Fragment,null,r.createElement(p.a,{style:[Me.composeBoxContainer]},this._renderMainContent())))),this._renderConversationControls(o),r.createElement(Ke.b,{show:e&&t},this._renderToolbar(o))))}_renderMediaPickerButton(){const{data:{media:e},onFilesAdded:t,setActiveParentKey:a}=this.props,s=this.mediaAttachDisabled,i=e.length<3;return r.createElement(Q.a,{acceptGifs:0===e.length,disabled:s,multiple:i,onChange:t,onPress:a,style:[Me.toolBarButton,Me.firstToolBarButton],type:"text"})}_renderGifButton(){const{data:{media:e,pollActive:t},history:a,loggedInUser:s,setActiveParentKey:i}=this.props,n=t||e.length||!s;return r.createElement(K.a,{enabled:!n,gifSearchKeySource:$.a.Composition,history:a,onPress:i})}_renderPollButton(){const{data:{media:e,pollActive:t,quotedStatus:a},loggedInUser:s}=this.props,i=this._isScheduled(),n=!(!(t||e.length||a||i)&&s);return r.createElement(g.a,{accessibilityLabel:bt,disabled:n,icon:Lt,onPress:this._handlePollAdd,size:"normal",style:Me.toolBarButton,type:"text"})}_renderMediaActions(){const{data:{gifMetadata:e,media:t,mediaTags:a}}=this.props,s=0!==a.length,i=t.some(e=>e.mediaFile&&e.mediaFile.isGif)||this.hasExternalMedia;return this.hasAttachedImage||e||i?r.createElement(p.a,{style:Me.imageActions},e&&e.url&&e.provider?r.createElement(p.a,{style:Me.addImageTextPadding},r.createElement(q.a,{gifUrl:e.url,provider:e.provider})):null,this.hasAttachedImage&&!this._isScheduled()?r.createElement(u.c,{accessibilityLabel:St,color:"deepGray",link:"/compose/tweet/tags",style:[Me.addImageTextContainer,Me.addImageTextPadding]},s?this._renderTaggedUsers():this._renderTagPeopleLabel()):null,this.hasAttachedImage||i?r.createElement(u.c,{accessibilityLabel:Tt({numberOfImages:t.length}),color:"deepGray",link:{pathname:"/compose/tweet/media",state:{mediaId:t[0].id,tab:"alt_text"}},onPress:this._handleClickAltTextShortcut,style:Me.addImageTextContainer},this._renderAltTextLabel()):null):null}_renderTagPeopleLabel(){return r.createElement(u.c,{color:"deepGray",size:"small"},r.createElement(st.a,{style:Me.addImageActionIcon}),St)}_renderTaggedUsers(){const{data:{mediaTags:e}}=this.props,t=e.map(e=>({name:e.data.name,screen_name:e.data.screen_name,type:e.type,user_id:e.data.id_str}));return r.createElement(u.c,{color:"deepGray",size:"small",testID:Le},r.createElement(it.a,{style:Me.addImageActionIcon}),r.createElement(Z.a,{users:t}))}_renderAltTextLabel(){const{data:{media:e,mediaMetadata:t}}=this.props;return this.hasAttachedAltText?e.length>1?r.createElement(u.c,{color:"deepGray",size:"small",testID:Oe},r.createElement(ot.a,{style:Me.addImageActionIcon}),vt({numberOfAltTextEntries:this._getNumberOfAltTextEntries()})):r.createElement(u.c,{color:"deepGray",numberOfLines:1,size:"small",testID:Oe},r.createElement(ot.a,{style:Me.addImageActionIcon}),t&&t[e[0].id.toString()]&&t[e[0].id.toString()].altText):r.createElement(u.c,{color:"deepGray",size:"small",testID:Oe},r.createElement(nt.a,{style:Me.addImageActionIcon}),Tt({numberOfImages:e.length}))}_renderCountdownCircle(){const{data:{text:e},twitterTextConfigurationVersion:t}=this.props,a=_t.a[t],s=this._getParsedTweet(e).weightedLength;return r.createElement(Qe,{count:s,formatNumber:this._formatCountdownNumber,maxCount:a.maxWeightedTweetLength,warningCount:260})}_renderAddComposerButton(){const{disableAddTweet:e,loggedInUser:t,isInline:a,onAddComposer:s}=this.props,i=this._isEmpty(),n=this._isScheduled(),o=e||i||n||!t;return r.createElement(g.a,{accessibilityLabel:wt,disabled:o,icon:Pt,link:!a||i||o?void 0:"/compose/tweet",onPress:s,size:"small",testID:De,type:"secondary"})}get pollChoices(){const{data:{pollActive:e}}=this.props;return e&&this._pollCreatorRef?this._pollCreatorRef.choices:void 0}get pollDuration(){const{data:{pollActive:e}}=this.props;return e&&this._pollCreatorRef?this._pollCreatorRef.duration:void 0}get mediaAttachDisabled(){const{data:{media:e,pollActive:t},loggedInUser:a}=this.props,s=e.length,i=e.some(e=>{var t;return null==(t=e.mediaFile)?void 0:t.isGif}),n=e.some(e=>e.mediaFile&&!(e.mediaFile instanceof X.a)&&e.mediaFile.isVideo);return 4===s||i||n||t||this.hasExternalMedia||!a}get hasAttachedImage(){const{data:{media:e}}=this.props;return e.some(e=>{var t;return null==(t=e.mediaFile)?void 0:t.isImage})}get hasAttachedAltText(){return this._getNumberOfAltTextEntries()>0}get hasExternalMedia(){const{data:{media:e}}=this.props;return e.some(e=>!!e.externalMediaDetails)}}o()(Nt,"defaultProps",{twitterTextConfigurationVersion:"defaults",withAvatar:!0,conversationControlsValue:"all",updateConversationControlsValue:()=>{}});var jt=Object(I.a)(Nt),Ht=a("SrIh"),Wt=a("BLtI"),Vt=(a("AxOO"),a("kY28")),zt=a("mN6z"),Ut=a("fs1G");const Gt=({children:e})=>r.createElement(u.c,{color:"link"},e),qt=e=>"@"+e;class Kt extends r.Component{constructor(...e){super(...e),o()(this,"_handleTweetAction",e=>{e&&e.preventDefault&&e.preventDefault()})}shouldComponentUpdate(e){return!Object(zt.a)(this.props,e)}UNSAFE_componentWillMount(){const{excludedRecipients:e,inReplyToStatus:t,loggedInUserId:a}=this.props;this._calculatedRecipients=l.a({inReplyToStatus:t,loggedInUserId:a}).filter(({id_str:t})=>e.indexOf(t)<0)}render(){const{dataSaverMode:e,shouldDisplayRepliesText:t,showParentTweet:a,onPress:s}=this.props;return r.createElement(p.a,null,a?r.createElement(Wt.b,{conversationPosition:{isStart:!0},dataSaverMode:e,linkableQuotedTweet:!1,linkify:!1,onAnalyticsClick:Ut.a,onAvatarClick:this._handleTweetAction,onEntityClick:this._handleTweetAction,onMediaClick:this._handleTweetAction,onReplyContextClick:this._handleTweetAction,replyContext:Vt.a.ReplyContextTypes.None,tweet:this.props.inReplyToStatus,withAvatarLink:!1,withCardLinks:!0,withInlineMedia:!1,withQuotedTweetLinks:!0,withSocialContext:!1,withTimestampLink:!1,withUserHoverCard:!1}):null,r.createElement(p.a,{style:$t.replyUsersContainer},r.createElement(ze.a,{avatarCell:a?r.createElement(p.a,{style:$t.conversationLine}):null,avatarCellStyle:$t.conversationLineContainer,cellStyle:$t.repliesTextContainer,style:$t.grid},t?r.createElement(u.c,{accessibilityRole:"button",color:"deepGray",onPress:s,style:a&&$t.repliesMessage},this._renderContextMessage()):null)))}_renderContextMessage(){const{inReplyToStatus:e}=this.props,{user:t}=e.retweeted_status||e;switch(this._calculatedRecipients.length){case 0:return Object(Ht.a)("Compose reply context should not have 0 recipients"),null;case 1:return r.createElement(h.a.I18NFormatMessage,{$i18n:"e34022a7"},r.createElement(Gt,null,h.a.b50e199a({userName:qt(t.screen_name)})));case 2:{const e=this._calculatedRecipients.find(({id_str:e})=>e!==t.id_str)||{};return r.createElement(h.a.I18NFormatMessage,{$i18n:"bfd9c99a"},r.createElement(Gt,null,h.a.f2e4dd37({replyUserName:qt(t.screen_name),otherUserName:qt(e.screen_name)})))}case 3:{const[e,a]=this._calculatedRecipients.filter(({id_str:e})=>e!==t.id_str);return r.createElement(h.a.I18NFormatMessage,{$i18n:"g7a1000e"},r.createElement(Gt,null,h.a.eccfddc3({userOneName:qt(t.screen_name),userTwoName:qt(e.screen_name),userThreeName:qt(a.screen_name)})))}default:{const e=this._calculatedRecipients.find(({id_str:e})=>e!==t.id_str)||{};return r.createElement(h.a.I18NFormatMessage,{$i18n:"i558c201"},r.createElement(Gt,null,h.a.h758cd22({userOneName:qt(t.screen_name),userTwoName:qt(e.screen_name),othersCount:this._calculatedRecipients.length-2})))}}}}o()(Kt,"defaultProps",{showParentTweet:!0});const $t=_.a.create(e=>({replyUsersContainer:{flexDirection:"row",minHeight:e.spaces.xSmall,paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:0},grid:{flexGrow:1,flexShrink:1},repliesTextContainer:{flexGrow:1},repliesMessage:{flexGrow:1,paddingBottom:e.spaces.small,paddingTop:e.spaces.xxSmall},conversationLineContainer:{alignItems:"center"},conversationLine:{backgroundColor:e.colors.lightGray,flexGrow:1,minHeight:0,width:e.componentDimensions.conversationLineWidth,marginBottom:e.spaces.xxSmall}}));var Xt=Kt,Yt=a("LdEA"),Jt=a.n(Yt),Qt=a("Tb0w"),Zt=a("ge3j"),ea=a("1YZw"),ta=a("pidX"),aa=a("0KEI"),sa=a("zhf3"),ia=a("RqPI"),na=a("XOJV"),oa=a("G6rE"),ra=a("AspN"),la=a("oEGd"),da=a("hqKg"),ca=a("P1r1");const ha=e=>e.parentTweetId||(e.isInline?sa.a.homeTimeline:sa.a.modal),pa=e=>(t,a)=>{const s=((e,t)=>t.location.state)(0,a);return s?e(s):void 0},ua=Object(da.createSelector)((e,t)=>t.activeUser,oa.e.selectLoggedInUser,(e,t)=>e||t),ma=(e,t)=>t.parentTweetId||ga(e,t)||_a(e,t),ga=(e,t)=>{const{location:{query:a}}=t;return a&&"string"==typeof a.in_reply_to?a.in_reply_to:void 0},_a=pa(e=>e.inReplyToStatusId),ba=(e,t)=>t.location.pathname.indexOf("/intent/")>-1,ya=pa(e=>e.convoCardData),fa=pa(e=>e.externalMedia),Ca=pa(e=>e.externalMediaFiles),wa=pa(e=>e.defaultText),xa=(e,t)=>{const a=wa(e,t),s=Object(ta.a)(t.location);return(ba(0,t)||((e,t)=>t.location.pathname.indexOf("/compose/tweet")>-1)(0,t))&&s?s:a},Ta=pa(e=>e.quotedStatusId),va=pa(e=>e.quotedStatus),Sa=pa(e=>e.isSelfThreadReply),Ea=pa(e=>e.positionCursorAtBeginning),Ra=pa(e=>e.promotedContent),Ia=Object(da.createSelector)((e,t)=>{const a=ha(t);return Zt.l(e,a)},xa,(e,t)=>((e,t)=>t.quotedStatus?t.quotedStatus:va(e,t))(e,t)||((e,t)=>{const a=Ta(e,t);return a?na.a.selectHydratedMemoized(e,a):void 0})(e,t),ra.f,(e,t,a,s)=>e.map((e,i)=>{return Object.assign({},(n=e,Jt()(n,["mediaIds"])),{media:s.filter(t=>e.mediaIds.some(e=>e===t.id)),quotedStatus:0===i?a:void 0,text:0===i&&t?t:e.text});var n})),Aa=Object(da.createStructuredSelector)({activeComposerIndex:(e,t)=>{const a=ha(t);return Zt.k(e,a)},activeUser:ua,composerData:Ia,conversationControlsValue:(e,t)=>{const a=ha(t);return Zt.m(e,a)},conversationTreeEnabled:ca.h,dataSaverMode:ca.j,excludedRecipients:(e,t)=>{const a=ha(t);return Zt.n(e,a)},externalMedia:fa,externalMediaFiles:Ca,inReplyToStatus:(e,t)=>{const a=ma(e,t);return a?na.a.selectHydrated(e,a):void 0},inReplyToStatusId:ma,isIntentRoute:ba,isSelfThreadReply:Sa,isSending:(e,t)=>{const a=ha(t);return Zt.o(e,a)},positionCursorAtBeginning:Ea,loggedInUser:oa.e.selectLoggedInUser,prepopulatedText:xa,promotedContent:Ra,scheduledFor:Zt.p,sendingProgress:Zt.q,convoCardData:ya,userLanguage:ia.f,quotedStatusId:Ta}),ka={addComposer:Zt.a,addToast:ea.b,createLocalApiErrorHandler:Object(aa.d)("SCREEN_COMPOSE_V2"),createNudge:Zt.d,fetchTweetIfNeeded:na.a.fetchOneIfNeeded,removeComposer:Zt.h,resetDraft:Zt.i,retweet:na.a.retweet,recordNudgeAction:Zt.f,recordNudgeResult:Zt.g,schedule:Zt.j,draftTweet:Zt.e,send:Zt.r,updateActiveComposerIndex:Zt.t,updateConvoCardState:Qt.c,updateConversationControlsValue:Zt.u,uploadMedia:ra.k,addMedia:ra.b,processMultipleMedia:ra.d,removeMediaUpload:ra.e,updateSingleComposer:Zt.w,setActiveParentKey:Zt.s,copyDataFromInlineComposerToModalComposer:Zt.b,copyDataFromInlineReplyComposerToModalComposer:Zt.c};var Ba=Object(la.g)(Aa,ka),Ma=a("45mF"),Da=a("c0ZR"),Oa=a("W5XZ"),Pa=a("MXY2"),La=a("I8M8"),Fa=a("eyty"),Na=a("gUG0"),ja=(a("Ysgh"),a("ymux")),Ha=a("rxPX"),Wa=a("0pUJ"),Va=a("HAhZ");var za=Object(Ha.a)().propsFromState(()=>({tips:Va.c})).propsFromActions(({conversationModule:e})=>({addTip:Va.a,addToast:ea.b,block:oa.e.block,createLocalApiErrorHandler:Object(aa.d)("NUDGE"),hideReply:na.a.hideReply,mute:Wa.a,recordNudgeAction:Zt.f,recordNudgeResult:Zt.g,unblock:oa.e.unblock,unmute:oa.e.unmute,updateDismissCauseConversationTrees:ja.e,updateDismissCause:e.updateDismissCause})),Ua=a("VjLy"),Ga=a("95Se"),qa=a("xKuM");const Ka=h.a.cd33a61c,$a=h.a.g97558f6,Xa=h.a.cd80d930,Ya=h.a.b0476eb2,Ja=h.a.j24c37b2;class Qa extends r.Component{constructor(...e){super(...e),o()(this,"_handleHideMoreInfo",()=>{const{hideEducation:e}=this.props;e()})}render(){const{isSmallBreakPoint:e}=this.props;return r.createElement(Ke.b,{animateMount:!0,duration:"longer",show:!0,type:"fade"},r.createElement(p.a,{style:Za.moreInfoContainer},r.createElement(qa.a,{leftControl:r.createElement(g.a,{icon:r.createElement(Ga.a,{onClick:this._handleHideMoreInfo}),pullLeft:!0,type:"text"}),style:Za.moreInfoAppBar,title:"More Info"}),r.createElement(p.a,{style:Za.moreInfoContentContainer},r.createElement(u.c,{color:"normal",size:"large",style:Za.headlineText,weight:"bold"},Ka),r.createElement(u.c,{color:"deepGray",style:Za.moreInfoFirstDescription},Xa),r.createElement(u.c,{color:"normal",size:"large",style:Za.headlineText,weight:"bold"},$a),r.createElement(u.c,{color:"deepGray",style:Za.moreInfoSecondDescription},Ya),e&&r.createElement(g.a,{onClick:this._handleHideMoreInfo,style:Za.confirmationButton,type:"neutral"},Ja))))}}const Za=_.a.create(e=>({headlineText:{marginBottom:e.spaces.xSmall},confirmationButton:{marginVertical:e.spaces.medium},moreInfoAppBar:{borderTopLeftRadius:e.borderRadii.large,borderTopRightRadius:e.borderRadii.large,borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},moreInfoContainer:{borderRadius:e.borderRadii.large},moreInfoContentContainer:{padding:e.spaces.medium,paddingBottom:0},moreInfoFirstDescription:{marginBottom:e.spaces.small},moreInfoSecondDescription:{marginBottom:e.spaces.small}}));var es=a("euJ+"),ts=a("Qwev"),as=a("yrzJ"),ss=a("eb3s");const is=Object.freeze({ReviseOrMute:"ReviseOrMute",ReviseOrBlock:"ReviseOrBlock",ReviseOrHideThenBlock:"ReviseOrHideThenBlock"}),ns=Object.freeze({BlockUser:"BlockUser",CancelOnBlockUserPrompt:"CancelOnBlockUserPrompt",CancelTweet:"CancelTweet",CloseApp:"CloseApp",HideReply:"HideReply",MuteUser:"MuteUser",NudgeNotShown:"NudgeNotShown",ReviseTweet:"ReviseTweet",SendTweet:"SendTweet"}),os=Object.freeze({BlockUser:"BlockUser",CancelComposer:"CancelComposer",CloseApp:"CloseApp",HideReply:"HideReply",MuteUser:"MuteUser",SaveTweetToDrafts:"SaveTweetToDrafts",SentTweet:"SentTweet",TweetSentWithoutShowingNudge:"TweetSentWithoutShowingNudge"}),rs=h.a.ic011119,ls=h.a.f6b7745a,ds=h.a.a75cc0f8,cs=h.a.a6450e83,hs=h.a.hb568af3,ps=h.a.bb1cbeb5,us=h.a.h59f52ee,ms=h.a.eea0cbed,gs=h.a.a9fd20be,_s=h.a.i2b9632d,bs=h.a.e133be4e,ys=h.a.ge5067bb,fs=h.a.ea626ab3,Cs=h.a.i62a03aa,ws=h.a.h3032750,xs=h.a.af250eb6,Ts=h.a.h2f62205,vs=h.a.ib147a39,Ss=h.a.e8ff17e5,Es=h.a.e3275464;class Rs extends r.Component{constructor(...e){super(...e),o()(this,"_isNudgeEducationEnabled",G.a.isTrue("responsive_web_second_degree_replies_nudge_education_enabled")),o()(this,"state",{loadingSecondaryButton:!1,showMoreInfo:!1}),o()(this,"_renderInnerBody",()=>{const{loadingSecondaryButton:e}=this.state;return r.createElement(r.Fragment,null,r.createElement(u.c,{align:"center",color:"normal",size:"large",style:Is.headlineText,weight:"bold"},this._getHeadline()),r.createElement(u.c,{align:"center",color:"deepGray"},this._getDescription()),r.createElement(u.c,{align:"center",color:"link",onClick:this._handleMoreInfo,style:Is.moreInfoButton},ws),r.createElement(p.a,{style:Is.buttons},r.createElement(g.a,{onPress:this._handleRevise,style:Is.button,type:"secondary"},Ss),r.createElement(g.a,{onPress:this._handleSecondaryAction,style:Is.button,type:"secondary"},e?this._renderSpinner():this._getSecondaryActionLabel()),r.createElement(g.a,{onPress:this._handleSend,style:Is.button,type:"secondary"},Es)))}),o()(this,"_renderSpinner",()=>{const{nudgeType:e}=this.props,t=e===is.ReviseOrMute?Ts:e===is.ReviseOrBlock?xs:vs;return r.createElement(ts.a,{accessibilityLabel:t,style:Is.spinner})}),o()(this,"_renderBlockSheet",()=>{const{recipient:{screen_name:e}}=this.props,t=r.createElement(as.a,{color:"normal",screenName:e}),a=r.createElement(as.a,{screenName:e});return r.createElement(ss.a,{cancelButtonLabel:Cs,confirmButtonLabel:cs,confirmButtonType:"destructive",headline:r.createElement(h.a.I18NFormatMessage,{$i18n:"ja6527ba"},t),onCancel:this._handleBlockCancel,onConfirm:this._handleBlockUser,text:r.createElement(h.a.I18NFormatMessage,{$i18n:"a899eb22"},a)})}),o()(this,"_getDescription",()=>{const{nudgeType:e,recipient:t}=this.props,a=r.createElement(as.a,{screenName:t.screen_name});switch(e){case is.ReviseOrMute:return r.createElement(h.a.I18NFormatMessage,{$i18n:"d98723c4"},a);case is.ReviseOrBlock:return r.createElement(h.a.I18NFormatMessage,{$i18n:"fa1a3797"},a);case is.ReviseOrHideThenBlock:return r.createElement(h.a.I18NFormatMessage,{$i18n:"fa2ffaa7"},a);default:return null}}),o()(this,"_getHeadline",()=>{const{nudgeType:e}=this.props;switch(e){case is.ReviseOrMute:return rs;case is.ReviseOrBlock:return ls;case is.ReviseOrHideThenBlock:return ds;default:return null}}),o()(this,"_getSecondaryActionLabel",()=>{const{nudgeType:e}=this.props;switch(e){case is.ReviseOrMute:return hs;case is.ReviseOrBlock:return cs;case is.ReviseOrHideThenBlock:return ys;default:return null}}),o()(this,"_handleSecondaryAction",()=>{const{nudgeType:e}=this.props;switch(this.setState({loadingSecondaryButton:!0}),e){case is.ReviseOrMute:this._handleMuteUser();break;case is.ReviseOrBlock:this._handleBlockUser();break;case is.ReviseOrHideThenBlock:this._handleHideReplyThenBlock();break;default:return}}),o()(this,"_handleSend",()=>{const{onSend:e}=this.props;this._recordNudgeAction(ns.SendTweet),e()}),o()(this,"_handleBlockCancel",()=>{const{onDiscard:e,showBlockModal:t}=this.props;t&&(this._recordNudgeAction(ns.CancelOnBlockUserPrompt),this._handleHideReply()),e()}),o()(this,"_handleBlockUser",()=>{const{addToast:e,block:t,onDiscard:a,recipient:s,showBlockModal:i,unblock:n}=this.props;this._recordNudgeAction(ns.BlockUser),t(s.id_str).then(()=>{i&&this._handleHideReply(),this._recordNudgeResult(os.BlockUser),a(),e({actionLabel:bs,text:gs,onAction:()=>{n(s.id_str).then(()=>{e({text:_s})}).catch(this._createApiErrorHandler())}})}).catch(this._createApiErrorHandler())}),o()(this,"_handleMuteUser",()=>{const{addToast:e,mute:t,onDiscard:a,recipient:s,unmute:i}=this.props;this._recordNudgeAction(ns.MuteUser),t(s.id_str).then(()=>{this._recordNudgeResult(os.MuteUser),a(),e({actionLabel:ps,text:us,onAction:()=>{i(s.id_str).then(()=>{e({text:ms})}).catch(this._createApiErrorHandler())}})}).catch(this._createApiErrorHandler())}),o()(this,"_handleHideReplyThenBlock",()=>{const{addTip:e,tips:t,hidePopover:a,setShowBlockModal:s,setShowHideReplyEducation:i,showHideReplyEducation:n}=this.props;if(a(),n)i(!1);else if(!t.hide_reply_author_education)return e({hide_reply_author_education:!0}),void i(!0);s(!0)}),o()(this,"_handleHideReply",()=>{const{addToast:e,conversationId:t,conversationTreeEnabled:a,hideReply:s,inReplyToStatusId:i,updateDismissCause:n,updateDismissCauseConversationTrees:o}=this.props;this._recordNudgeAction(ns.HideReply),s(i,{conversation_id:t}).then(()=>{this._recordNudgeResult(os.HideReply),a?o({entryId:"module-tweet-"+i,feedbackKeys:[es.d]}):n({entryId:"tweet-"+i,feedbackKeys:[es.d]}),e({text:fs})}).catch(this._createApiErrorHandler())}),o()(this,"_handleRevise",()=>{const{onRevise:e}=this.props;this._recordNudgeAction(ns.ReviseTweet),e()}),o()(this,"_handleCancelHideReplyEducation",()=>{const{setShowHideReplyEducation:e}=this.props;e(!1),this._handleRevise()}),o()(this,"_handleBeforeWindowUnload",()=>{this._recordNudgeAction(ns.CloseApp),this._recordNudgeResult(os.CloseApp)}),o()(this,"_handleMoreInfo",()=>{this.setState({showMoreInfo:!0})}),o()(this,"_hideMoreInfo",()=>{this.setState({showMoreInfo:!1})}),o()(this,"_recordNudgeAction",e=>{const{nudgeId:t,recordNudgeAction:a}=this.props;a({nudgeId:t,nudgeActionType:e})}),o()(this,"_recordNudgeResult",e=>{const{nudgeId:t,recordNudgeResult:a}=this.props;a({nudgeId:t,nudgeResultType:e})}),o()(this,"_createApiErrorHandler",()=>this.props.createLocalApiErrorHandler({showToast:!0}))}componentDidMount(){window.addEventListener("beforeunload",this._handleBeforeWindowUnload)}componentWillUnmount(){window.removeEventListener("beforeunload",this._handleBeforeWindowUnload)}render(){const{screenWidth:e,showBlockModal:t,showHideReplyEducation:a}=this.props,{showMoreInfo:s}=this.state;if(t)return this._renderBlockSheet();if(a)return r.createElement(Ua.a,{onCancel:this._handleCancelHideReplyEducation,onConfirm:this._handleHideReplyThenBlock});const i=e<_.a.theme.breakpoints.small;return this._isNudgeEducationEnabled?i?r.createElement(D.a,{accessibilityRole:"alertdialog",allowBackNavigation:!1,enableMaskForDismiss:!0,onMaskClick:this._handleRevise,style:[Is.container,Is.smallBreakPointContainer,s&&Is.noPadding],type:"bottom",withMask:!0},s?r.createElement(Qa,{hideEducation:this._hideMoreInfo,isSmallBreakPoint:!0}):this._renderInnerBody()):r.createElement(r.Fragment,null,s&&r.createElement(Qa,{hideEducation:this._hideMoreInfo}),r.createElement(p.a,{style:Is.container},!s&&this._renderInnerBody())):r.createElement(D.a,{accessibilityRole:"alertdialog",allowBackNavigation:!1,enableMaskForDismiss:!0,onMaskClick:this._handleRevise,style:Is.container,type:"center",withMask:!0},this._renderInnerBody())}}const Is=_.a.create(e=>({container:{alignItems:"center",backgroundColor:e.colors.cellBackground,borderRadius:e.borderRadii.large,padding:e.spaces.medium,paddingBottom:e.spaces.xSmall},smallBreakPointContainer:{borderRadius:0},noPadding:{padding:0},headlineText:{marginBottom:e.spaces.xSmall},buttons:{marginTop:e.spaces.xSmall,width:"100%"},button:{width:"100%",marginBottom:e.spaces.small},moreInfoButton:{marginTop:e.spaces.xxSmall},spinner:{marginTop:"5px"}}));var As=za(Rs);class ks extends r.Component{constructor(...e){super(...e),o()(this,"state",{nudgeDismissed:!1,showBlockModal:!1,showHideReplyEducation:!1,shouldHidePopover:!1}),o()(this,"_isNudgeEducationEnabled",G.a.isTrue("responsive_web_second_degree_replies_nudge_education_enabled")),o()(this,"_renderNudge",()=>{const{conversationTreeEnabled:e,location:t,inReplyToStatus:a,nudgeId:s,nudgeType:i,onDiscard:n,screenWidth:o}=this.props,{showBlockModal:l,showHideReplyEducation:d}=this.state,c=null==a?void 0:a.conversation_id_str,h=t.state&&t.state.previousPath&&t.state.previousPath.split("/status/").slice(-1)[0].split("/")[0];return i&&s&&a&&c&&a.id_str&&h?r.createElement(As,{conversationId:c,conversationModule:this._getConversationModule(h,e),conversationTreeEnabled:e,hidePopover:this._hidePopover,inReplyToStatusId:a.id_str,nudgeId:s,nudgeType:i,onDiscard:n,onRevise:this._handleDismissNudge,onSend:this._handleSend,recipient:a.user,screenWidth:o,setShowBlockModal:this.setShowBlockModal,setShowHideReplyEducation:this.setShowHideReplyEducation,showBlockModal:l,showHideReplyEducation:d}):null}),o()(this,"_getConversationModule",Object(rt.a)((e,t)=>Object(ja.a)({focalTweetId:e,conversationTreeEnabled:t}))),o()(this,"_handleSend",()=>{const{onSend:e}=this.props;this._handleDismissNudge(),e()}),o()(this,"_handleDismissNudge",e=>{const{clearNudgeType:t,nudgeType:a,screenWidth:s}=this.props;e&&e.stopPropagation(),this._isNudgeEducationEnabled&&s>=_.a.theme.breakpoints.small&&a&&this.setState({nudgeDismissed:!0}),t()}),o()(this,"_hidePopover",()=>{this.setState({shouldHidePopover:!0})}),o()(this,"setShowHideReplyEducation",e=>{this.setState({showHideReplyEducation:e})}),o()(this,"setShowBlockModal",e=>{this.setState({showBlockModal:e})})}render(){const{children:e,nudgeType:t,screenWidth:a}=this.props,{nudgeDismissed:s,shouldHidePopover:i}=this.state;return this._isNudgeEducationEnabled&&a>=_.a.theme.breakpoints.small&&!i?r.createElement(k.a,{disabled:s,onDismiss:this._handleDismissNudge,renderContent:this._renderNudge,visibilityBehavior:t?k.a.VISIBILITY_BEHAVIOR.forceVisible:k.a.VISIBILITY_BEHAVIOR.forceHidden,withArrow:!0,withFixedPosition:!0,withMask:!!t},e):r.createElement(r.Fragment,null,e,this._renderNudge())}}var Bs=e=>r.createElement(B.a,null,({screenWidth:t})=>r.createElement(ks,i()({},e,{screenWidth:t}))),Ms=a("7myi"),Ds=a("7nmT"),Os=a.n(Ds),Ps=a("vbWy"),Ls=a("Rp9C"),Fs=a("k49u");const Ns=h.a.i859a9d3,js=h.a.a7478929,Hs=h.a.adf527d2,Ws=h.a.b25c5b2a,Vs=h.a.cc85b9f5,zs=h.a.a3f10d61,Us=h.a.d74da9b8,Gs=h.a.c3ebec63,qs=h.a.b6266b34,Ks=h.a.a59566d7,$s=h.a.g30d7ec5,Xs=h.a.d484fca9,Ys=h.a.c51ba396,Js=h.a.ef2fa90b;var Qs={defaultToast:{text:Hs},[Fs.a.OverStatusUpdateLimit]:{toast:{text:js,actionLabel:Ns,actionLink:"https://support.twitter.com/articles/15364"}},[Fs.a.DuplicateStatusError]:{toast:{text:Ws}},[Fs.a.CurrentUserSuspended]:{toast:{text:Vs}},[Fs.a.InReplyToTweetNotFound]:{toast:{text:zs}},[Fs.a.MentionLimitInTweetExceeded]:{toast:{text:Us}},[Fs.a.UrlLimitInTweetExceeded]:{toast:{text:Gs}},[Fs.a.HashtagLimitInTweetExceeded]:{toast:{text:qs}},[Fs.a.CashtagLimitInTweetExceeded]:{toast:{text:Ks}},[Fs.a.HashtagLengthLimitInTweetExceeded]:{toast:{text:$s}},[Fs.a.AttachmentTypesLimitInTweetExceeded]:{toast:{text:Xs}},[Fs.a.StatusMalwareError]:{toast:{text:Ys,actionLabel:Ns,actionLink:"https://support.twitter.com/articles/90491"}},[Fs.a.StatusTooLongError]:{toast:{text:Js}},showToast:!0},Zs=a("N5qz"),ei="tweetButton",ti="tweetButtonInline",ai=a("aITJ"),si=a("zrc3");const ii=Object.freeze({in:"in",out:"out",static:"static"});class ni extends r.Component{constructor(...e){super(...e),o()(this,"state",{isAnimating:!1,renderChildren:r.Children.toArray(this.props.children).map(e=>({status:ii.static,child:e}))}),o()(this,"_handleEachAnimateComplete",()=>{const{isAnimating:e}=this.state,{onAnimateComplete:t,children:a}=this.props;e&&(t&&t(),this.setState({renderChildren:r.Children.toArray(a).map(e=>({status:ii.static,child:e})),isAnimating:!1}))})}static getDerivedStateFromProps(e,t){const a=((e,t)=>{let a=0,s=0;const i=[];for(;s<e.length;){if(a>=t.length){i.push(...e.slice(s).map(e=>({child:e,status:ii.out})));break}const n=t[a],o=e[s];if(n.key===o.key)i.push({child:n,status:ii.static}),a+=1;else{const e=Object(si.a)(t,e=>e.key===o.key);e>=0?(i.push(...t.slice(a,e).map(e=>({child:e,status:ii.in})),{child:t[e],status:ii.static}),a=e+1):i.push({child:o,status:ii.out})}s+=1}return a<t.length&&i.push(...t.slice(a).map(e=>({child:e,status:ii.in}))),i})(t.renderChildren.map(e=>e.child),r.Children.toArray(e.children));return{renderChildren:a,isAnimating:!a.every(e=>e.status===ii.static)}}render(){const{renderChildren:e}=this.state;return e.map(({status:e,child:t})=>r.createElement(Ke.a,{animateMount:e!==ii.static,key:t.key,onAnimateComplete:this._handleEachAnimateComplete,show:e!==ii.out},t))}}var oi=ni;const ri=Object.freeze({primary:{backgroundColor:"primary",accessibilityRole:"text"},danger:{backgroundColor:"red",accessibilityRole:"alert"}});class li extends r.Component{render(){const{type:e,text:t}=this.props,a=ri[e],s=a.accessibilityRole,i=_.a.theme.colors[a.backgroundColor];return r.createElement(p.a,{accessibilityRole:s,style:[di.root,{backgroundColor:i}]},r.createElement(u.c,{color:"whiteOnColor"},t),this._renderActionLabel())}_renderActionLabel(){const{actionLabel:e,actionLink:t}=this.props;if(e&&t)return r.createElement(u.c,{children:e,color:"whiteOnColor",link:t,style:di.actionText,weight:"bold",withInteractiveStyling:!0})}}o()(li,"defaultProps",{type:"primary"});const di=_.a.create(e=>({root:{alignItems:"center",flexDirection:"row",padding:e.spaces.xSmall},actionText:{marginLeft:e.spaces.xxSmall,whiteSpace:"nowrap",flexShrink:0}}));var ci=li,hi=a("JYMr"),pi=a("7N4s"),ui=a("rziq"),mi=a("jTgF"),gi=a("3A2y"),_i=a("s1N3"),bi=a("4FGy"),yi=a("+d3d"),fi=a("sXY3");const Ci=h.a.dad5a4b8,wi=h.a.e65aed64,xi=h.a.d8222374,Ti=h.a.j890123a,vi=h.a.bb01231c,Si=h.a.d4ab68e2,Ei=h.a.d8af8a4c,Ri=h.a.d09d4c05,Ii=h.a.i2209530,Ai=h.a.bf9b89e4,ki=h.a.f277e949,Bi=h.a.b551cd22,Mi=h.a.f026a7fa,Di=h.a.a5d4fda0,Oi=h.a.ib067d6a,Pi=document.documentElement&&"scrollBehavior"in document.documentElement.style;class Li extends r.Component{constructor(e,t){super(e,t),o()(this,"_getParentKey",()=>{const{isInline:e,parentTweetId:t}=this.props;return t||(e?sa.a.homeTimeline:sa.a.modal)}),o()(this,"_updateSingleComposer",(e,t)=>{const{updateSingleComposer:a}=this.props;return a({updates:e,index:t,parentKey:this._getParentKey()})}),o()(this,"_resetDraft",()=>{const{resetDraft:e}=this.props;return e(this._getParentKey())}),o()(this,"_syncTexts",()=>{const{composerData:e}=this.props,{textMap:t}=this.state;e.forEach((e,a)=>{const s=t[e.key];"string"==typeof s&&s!==e.text&&this._updateSingleComposer({text:s},a)})}),o()(this,"_hasGif",e=>e.gifMetadata||e.media.some(e=>e.mediaFile&&e.mediaFile.isGif)),o()(this,"_hasPhoto",e=>e.media&&e.media.some(e=>e.mediaFile&&e.mediaFile.isImage)),o()(this,"_hasVideo",e=>e.media&&e.media.some(e=>e.mediaFile&&e.mediaFile.isVideo&&!e.mediaFile.isGif)),o()(this,"_handleAnimateComplete",()=>{const{activeComposerIndex:e,onHandleAppBarHeight:t}=this.props,a=Os.a.findDOMNode(this._composerRefs[e]);if(a instanceof window.Element){const{top:e,bottom:s}=a.getBoundingClientRect(),i=Math.max(e,window.scrollY);if(i<window.pageYOffset||s>window.innerHeight){const e=t?i-t()-14:i-14,a=Math.max(e,0);window.requestAnimationFrame(()=>{Pi?window.scrollTo({top:a,left:0,behavior:"smooth"}):window.scrollTo(0,a)})}}}),o()(this,"_handleFetchTweetIfNeeded",()=>{const{createLocalApiErrorHandler:e,inReplyToStatus:t,inReplyToStatusId:a,fetchTweetIfNeeded:s,quotedStatus:i,quotedStatusId:n}=this.props;!t&&a&&s(a).catch(e(Oa.a)),!i&&n&&s(n).catch(e(Oa.a))}),o()(this,"_blockHistory",(e,t)=>{const{isInline:a}=this.props,s=!a&&/unsent/.test(e.pathname),i=!a&&!/\/compose\/tweet\/?$/.test(e.pathname);return this.shouldShowDiscardConfirmation&&"POP"===t&&i?(this.setState({showDiscardTweetConfirmation:!0}),!1):this._canSaveDraft&&s&&"PUSH"===t?this.shouldShowDiscardConfirmation?(this.setState({showDiscardTweetConfirmation:!0,navigatingToOutbox:s}),!1):(this._resetDraft(),!0):!this.shouldShowBackgroundSendConfirmation||"POP"!==t||!i||(this._cancelAllMediaUploads(),!1)}),o()(this,"_getKeyCommandHandlers",()=>{const{typeaheadActive:e}=this.state;return e?this._keyCommandHandlersForActiveTypeahead:this._keyCommandHandlers}),o()(this,"handleTweetOrRetweet",()=>{this._scribe({section:"composition",element:"send_tweet",action:"click"});if(this._areComposersValid())return this.isRetweet?this._handleRetweet():this._handleTweet()}),o()(this,"_render",e=>{const{activeUser:t,addComposer:a,addToast:s,composeHeader:n,composerData:o,conversationControlsValue:l,conversationTreeEnabled:d,copyDataFromInlineComposerToModalComposer:c,customizePropsForSingleComposerItem:h,history:u,isInline:m,isSending:_,isSelfThreadReply:b,inReplyToStatus:y,location:f,parentTweetId:C,positionCursorAtBeginning:w,scheduledFor:x,richTextInputContext:T,typeaheadWrapper:v,userLanguage:S,windowWidth:E}=this.props,{isModal:R}=this.context,{errorMessage:I,focused:A,nudgeId:k,nudgeType:B,showDiscardTweetConfirmation:M,typeaheadActive:D,shouldDisableButton:O}=this.state,P=!R&&D,L=m?0:this.props.activeComposerIndex,F=P||m?[o[L]]:o,N=this._areComposersValid(),j=m?p.a:oi,H=m?{}:{onAnimateComplete:R?void 0:this._handleAnimateComplete};return r.createElement(p.a,{ref:e?this._setHiddenRootRef:this._setRootRef,style:[C?Fi.rootInlineReply:Fi.root,e&&Fi.hidden]},m?this._renderProgressBar():null,I&&r.createElement(ci,{actionLabel:I.actionLabel,actionLink:I.actionLink,text:I.text,type:"danger"}),r.createElement(p.a,{onFocus:this._handleFocus,style:[Fi.content,C&&Fi.contentInlineReply]},y?this._renderReplyContext(e):null,n,r.createElement(j,H,F.map((n,I)=>{const M=Object(J.h)(n.scheduledFor),D=o.indexOf(n),P=h(n,I,F),j=r.createElement(Bs,{clearNudgeType:this.clearNudgeType,conversationTreeEnabled:d,inReplyToStatus:y,location:f,nudgeId:k,nudgeType:B,onDiscard:this._handleDismissComposerFromNudge,onSend:this._handleSendTweet},R||m?r.createElement(g.a,{disabled:O||!N,onPress:this.handleTweetOrRetweet,size:"normal",style:Fi.inlineSendButton,testID:R?ei:ti,type:"primary"},Object(Pa.a)({inReplyToStatus:!!y,isSelfThreadReply:!!b,isQuoteTweet:!!this.isQuoteTweet,isRetweet:!!this.isRetweet,isScheduled:!!M,isThread:this.isThread})):null),H=this._getSingleComposerDataWithLatestText(n);return r.createElement(p.a,{key:n.key},r.createElement(jt,i()({addToast:s,additionalToolbarContent:j,autoFocus:!!C&&A,conversationControlsValue:l,data:H,disableAddTweet:o.length>=25,editable:!_&&!!t,hidePollAndScheduling:m&&Zs.a.isOneColumnSquishedLayout(E),history:u,index:D,isActive:D===L&&!_,isExpanded:0!==I||this._shouldBeExpanded(e),isInline:m,isInlineReply:!!C,isLast:m||D===o.length-1,isReply:!!y||!!C,isSelfThreadReply:!!b,keyCommandHandlers:this._getKeyCommandHandlers(),loggedInUser:t,onAddComposer:m?c:a,onFilesAdded:this._handleAddMediaFiles(D),onFocus:this._handleComposerFocus,onRemoveComposer:this._handleRemoveComposer,onRemoveMedia:this._handleMediaRemove,onTextChange:this._handleTextChange,onTextInputBlur:this._handleTextOnBlur(H.key,I),onTypeaheadStateChange:this._handleTypeaheadStateChange,positionCursorAtBeginning:!!w,ref:this._setComposerRef(D),richTextInputContext:T,scheduledFor:x,setActiveParentKey:this._setActiveParentKey,twitterTextConfigurationVersion:"version3",typeaheadWrapper:v,updateConversationControlsValue:this._updateConversationControlsValue,updateSingleComposer:this._updateSingleComposer,userLanguage:S},P)))})),M?this._canSaveDraft?r.createElement(ss.a,{cancelButtonLabel:Si,confirmButtonLabel:Ii,headline:Ei,onCancel:this._handleConfirmDiscardTweet,onConfirm:this._handleDraftTweet,onMaskClick:this._handleCancelDiscardTweet,text:Ri}):r.createElement(ss.a,{confirmButtonLabel:Si,confirmButtonType:"destructive",headline:this.isThread?Ti:xi,onCancel:this._handleCancelDiscardTweet,onConfirm:this._handleConfirmDiscardTweet,text:vi}):null,r.createElement(p.a,{style:[_&&Fi.mask]})))}),o()(this,"_renderReplyContext",e=>{const{activeUser:t,dataSaverMode:a,excludedRecipients:s,isInline:i,isSelfThreadReply:n,inReplyToStatus:o}=this.props;if(this._shouldBeExpanded(e))return r.createElement(Xt,{dataSaverMode:a,excludedRecipients:s,inReplyToStatus:o,key:s.join(),loggedInUserId:t?t.id_str:void 0,onPress:this._handleViewRecipients,shouldDisplayRepliesText:!n,showParentTweet:!i})}),o()(this,"_setRootRef",e=>{const t=Os.a.findDOMNode(e);t&&t instanceof Element&&(this._root=t)}),o()(this,"_setHiddenRootRef",e=>{const t=Os.a.findDOMNode(e);t&&t instanceof Element&&(this._hiddenExpandedRoot=t)}),o()(this,"_handleTweet",()=>{const{composerData:e}=this.props,{scheduledFor:t}=e[0];this.setState({errorMessage:void 0}),t?Object(J.h)(t)&&this._handleScheduleTweet():this._checkToxicAndSendTweet()}),o()(this,"_handleTweetError",(e,t)=>a=>{const{analytics:s,createLocalApiErrorHandler:i}=this.props;if(Object(mi.d)(a)&&a.code===La.b.CANCELED)return s.scribeAction(e),Promise.resolve();const n=Object(mi.b)(a);if(n)return this.setState({errorMessage:n}),Promise.resolve();const o=t||Object(Ma.a)(void 0,!1);i(Object.assign({},o))(a),this.setState({errorMessage:{text:Di}})}),o()(this,"_handleScheduleTweet",()=>{const{addToast:e,composerData:t,excludedRecipients:a,inReplyToStatus:s,schedule:i}=this.props,n=this._getSingleComposerDataWithLatestText(t[0]);i({excludedRecipients:a,inReplyToStatus:s,scheduleData:n}).then(a=>{this.setState({tweetsSentOrScheduled:!0});const s=Object(J.c)(n.scheduledFor);if(s){const i=Object(J.b)(s),n=Object(J.i)(s),o=Bi({scheduleDate:i,scheduleTime:n});e({text:o,actionLink:"/compose/tweet/unsent/scheduled",actionLabel:ki}),this._scribeTweetSent(t[0],Object.assign({},a,{id_str:a.scheduled_id_str}),!0)}this._updateConvoCardState(),this._close()}).catch(this._handleTweetError("schedule_tweet_cancel"))}),o()(this,"_handleDraftTweet",()=>{const{addToast:e,composerData:t,draftTweet:a,excludedRecipients:s,inReplyToStatus:i}=this.props,n=this._getSingleComposerDataWithLatestText(t[0]);this._recordNudgeResult(os.SaveTweetToDrafts),a({excludedRecipients:s,inReplyToStatus:i,draftData:n}).then(a=>{this.setState({showDiscardTweetConfirmation:!1}),e({text:Ai,actionLink:"/compose/tweet/unsent/drafts",actionLabel:ki}),this._scribeTweetSent(t[0],Object.assign({},a,{id_str:a.draft_id_str}),!1,!0),this._updateConvoCardState(),this._close()}).catch(this._handleTweetError("draft_tweet_cancel"))}),o()(this,"_handleSendTweet",()=>{const{addToast:e,analytics:t,composeSemanticCoreId:a,conversationControlsValue:s,excludedRecipients:i,history:n,inReplyToStatus:o,isSelfThreadReply:r,location:l,activeUser:d,promotedContent:c,send:h}=this.props,{nudgeId:p}=this.state,u=this.props.composerData.map(e=>this._getSingleComposerDataWithLatestText(e)),m=Object(J.c)(u[0].scheduledFor);if(m){const t=Object(J.b)(m),a=Object(J.i)(m),s=Bi({scheduleDate:t,scheduleTime:a});return e({text:s,actionLink:"",actionLabel:ki}),void this._close()}i.length>0&&t.scribe({element:"mentions",action:"edited"}),this._conversationControlsCreationEnabled&&("community"===s?t.scribe({action:"send_community_tweet"}):"by_invitation"===s&&t.scribe({action:"send_mentioned_tweet"}));const g=u.map((e,t)=>Object.assign({},e,{pollChoices:this._composerRefs[t]?this._composerRefs[t].pollChoices:void 0,pollDuration:this._composerRefs[t]?this._composerRefs[t].pollDuration:void 0})),_=this._isNudgeTweetypieEnabled&&this._isSecondaryDegreeNudge?{nudge_enabled:!0,nudge_types:["ReviseOrBlock","ReviseOrMute","ReviseOrHideThenBlock"],nudge_testing_keyword_enabled:!0,previous_nudge_id:p}:{};h(Object.assign({},_,{sendData:g,conversationControlsValue:s,excludedRecipients:i,inReplyToStatus:o,isSelfThreadReply:r,promotedContent:c,composeSemanticCoreId:a})).then(t=>{this.setState({tweetsSentOrScheduled:!0}),t.map((e,t)=>this._scribeTweetSent(u[t],e)),t.length>1&&this._scribeThreadSent(u,t,"thread_send_success");const{onSent:a}=this.props,s=t.length>1?wi:Ci;if(e({text:s,actionLink:`/${d?d.screen_name:"i"}/status/${t[0].id_str}`,actionLabel:ki}),this._isNudgeEnabled&&p){const e=t[0].id_str;this._isShowNudgeEnabled?this._recordNudgeResult(os.SentTweet,e):this._recordNudgeResult(os.TweetSentWithoutShowingNudge,e)}this._updateConvoCardState(),this._close(),a&&a({sentTweets:t,inReplyToStatus:o})}).catch(e=>{var a;const{sentTweets:s=[]}=e,i=Array.isArray(e.errors)&&(null==(a=e.errors[0])?void 0:a.code),o=null==e?void 0:e.url,r=null==e?void 0:e.status,d={message:e.type,event_info:i?""+i:void 0,status_code:r,url:o};if(!this._isNudgeTweetypieEnabled||439!==i)throw s.map((e,t)=>this._scribeTweetSent(u[t],e)),Object(mi.d)(e)&&e.code===La.b.CANCELED||t.scribe({action:"send_tweet_failure",data:d}),u.length>1&&this._scribeThreadSent(u,s,"thread_send_failure"),s.length&&n.replace({pathname:l.pathname,state:Object.assign({},Object(gi.a)(l.state||{},"quotedStatus"),{inReplyToStatusId:s[s.length-1].id_str,isSelfThreadReply:!0})}),e;{var c;const t=null==(c=e.errors[0])?void 0:c.nudge,a=t.id,s=t.nudge_type,i=s.charAt(0).toUpperCase()+s.slice(1);this.setState({nudgeType:i,nudgeId:a})}}).catch(this._handleTweetError("send_tweet_cancel",Qs))}),o()(this,"_checkToxicAndSendTweet",()=>{const{activeUser:e,composerData:t,createNudge:a,inReplyToStatus:s,isSelfThreadReply:i}=this.props,{hasNudged:n}=this.state,o=s&&s.entities.user_mentions&&s.entities.user_mentions.some(({screen_name:t})=>t===(null==e?void 0:e.screen_name)),r=this._getSingleComposerDataWithLatestText(t[0]).text;this._isSecondaryDegreeNudge=!(i||!o||!a||!r),!this._isNudgeTweetypieEnabled&&this._isNudgeEnabled&&!n&&this._isSecondaryDegreeNudge?(this.setState({shouldDisableButton:!0}),this._checkToxicWithTimeout(r).then(e=>{e.showNudge||this._handleSendTweet()}).finally(()=>{this.setState({shouldDisableButton:!1})})):this._handleSendTweet()}),o()(this,"_makeTimeout",()=>new Promise((e,t)=>setTimeout(e,1500))),o()(this,"_checkToxicWithTimeout",e=>{const{inReplyToStatus:t,location:a}=this.props;return Promise.race([this._checkToxic(e),this._makeTimeout()]).then(e=>{var s,i,n,o,r;const l=null==e||null==(s=e.create_nudge)||null==(i=s.nudge)||null==(n=i.nudge_type)?void 0:n.__typename,d=null==e||null==(o=e.create_nudge)||null==(r=o.nudge)?void 0:r.id;this.setState({nudgeId:d});const c=null==t?void 0:t.user.muting,h=l===is.ReviseOrMute&&c,p=a.state&&a.state.previousPath.includes("/hidden"),u=l===is.ReviseOrHideThenBlock&&p;if(l){if(G.a.isTrue("responsive_web_second_degree_replies_nudge_show_enabled"),G.a.isTrue("responsive_web_second_degree_replies_nudge_get_enabled"),this._isShowNudgeEnabled&&!h&&!u)return this.setState({nudgeType:l,hasNudged:!0}),{showNudge:!0};this._recordNudgeAction(ns.NudgeNotShown)}return{}}).catch(()=>({}))}),o()(this,"_checkToxic",e=>{const{createNudge:t,inReplyToStatusId:a,parentTweetId:s=a,inReplyToStatus:i}=this.props;return t(e,s,null==i?void 0:i.conversation_id_str)}),o()(this,"clearNudgeType",()=>{this.setState({nudgeType:void 0})}),o()(this,"_setActiveParentKey",()=>{const{setActiveParentKey:e}=this.props;e(this._getParentKey())}),o()(this,"_scribeTweetSent",(e,t,a=!1,s=!1)=>{const i=e.scheduledTweetId?"schedule_edit_":"schedule_",n=e.draftTweetId?"draft_edit_":"draft_",o=s?n:a?i:"send_",r={items:[Ls.a.getTweetItem(t)]},l=e.pollActive&&e.pollValid,d=e.mediaMetadata&&Object.values(e.mediaMetadata).some(e=>!!e),c=this.props.inReplyToStatus||this.props.inReplyToStatusId,h=this.props.isInline?"inline_reply":"tweet_box_dialog";if(this._scribe({action:o+"tweet"},r),s||!e.draftTweetId||e.scheduledTweetId||this._scribe({action:o+"draft_tweet"},r),this.isQuoteTweet&&this._scribe({action:"retweet_with_comment"},r),c&&this._scribe({component:h,action:o+"reply"},r),l&&this._scribe({action:o+"poll_tweet"},r),d&&this._scribe({action:o+"photo_tweet_with_alt_text"},r),this._hasPhoto(e)&&this._scribe({action:o+"photo_tweet"},r),this._hasVideo(e)&&this._scribe({action:o+"video_tweet"},r),e.gifMetadata){const a=Ls.a.getGifSearchItemForTweet(t.id_str,e.gifMetadata);this._scribe({element:"remote",action:o+"gif_tweet"},{items:[a]})}else this._hasGif(e)&&this._scribe({element:"local",action:o+"gif_tweet"},r)}),o()(this,"_scribeThreadSent",(e,t,a)=>{const{inReplyToStatus:s}=this.props,i={items:[Ls.a.getSendThreadItem(e,t.length,!!s)]};this._scribe({action:a},i)}),o()(this,"_scribeRetweet",e=>{const t={items:[Ls.a.getTweetItem(e)]};this._scribe({action:"retweet"},t)}),o()(this,"_handleRetweet",()=>{const{composerData:e,createLocalApiErrorHandler:t,onSent:a,retweet:s}=this.props,i=e[0].quotedStatus;i&&(this._scribeRetweet(i),s(i.id_str,{}).then(e=>{this.setState({tweetsSentOrScheduled:!0}),this._close(),a&&a({sentTweets:e?[e]:[]})},t(Ps.a)))}),o()(this,"handleDismissComposer",()=>{this.shouldShowDiscardConfirmation?this.setState({showDiscardTweetConfirmation:!0}):this.shouldShowBackgroundSendConfirmation?this._cancelAllMediaUploads():this._close()}),o()(this,"_handleDismissComposerFromNudge",()=>{this.shouldShowBackgroundSendConfirmation?this._cancelAllMediaUploads():this._close()}),o()(this,"_cancelAllMediaUploads",()=>{this.props.composerData.forEach(e=>e.media.forEach(e=>e.uploading&&e.uploader&&e.uploader.cancel()))}),o()(this,"_handleConfirmDiscardTweet",()=>{const{analytics:e}=this.props,t=this._canSaveDraft?"draft":"send";this.setState({showDiscardTweetConfirmation:!1}),this._recordNudgeResult(os.CancelComposer),this._close(),e.scribeAction(t+"_tweet_discard")}),o()(this,"_handleCancelDiscardTweet",()=>{this.setState({showDiscardTweetConfirmation:!1},()=>{this._restoreFocusToActiveComposer()})}),o()(this,"_restoreFocusToActiveComposer",()=>{const{activeComposerIndex:e}=this.props;void 0!==e&&this._composerRefs[e]&&this._composerRefs[e].focus()}),o()(this,"_close",()=>{const{history:e,isSending:t,onCloseComposer:a}=this.props;t||(this._resetDraft(),window.Windows&&Object(Na.a)().then(({default:e})=>e.shareCompletedCallback())),this.state.navigatingToOutbox?this._canSaveDraft?e.push("/compose/tweet/unsent/drafts"):e.push("/compose/tweet/unsent/scheduled"):a&&a()}),o()(this,"_handleComposerFocus",e=>{this._composerRefs[e]?this.props.updateActiveComposerIndex(e):setTimeout(()=>{this._restoreFocusToActiveComposer()},0)}),o()(this,"_handleFocus",()=>{const{getTweetHeight:e}=this.props,{focused:t}=this.state;t||this.setState({focused:!0},()=>{if(e&&this._hiddenExpandedRoot){const t=this._hiddenExpandedRoot.getBoundingClientRect().height+e();this._handleHeightChanged(t)}})}),o()(this,"_handleHeightChanged",e=>{const{onHeightChanged:t,onAnimationStarted:a,onAnimationEnded:s}=this.props;a&&a("none"),t&&t(e),window.requestAnimationFrame(()=>{s&&s()})}),o()(this,"_handleTypeaheadStateChange",e=>{this.setState({typeaheadActive:e})}),o()(this,"_handleRemoveComposer",()=>{const{activeComposerIndex:e,composerData:t,history:a,location:s,removeComposer:i}=this.props;0===e&&t[0].quotedStatus&&a.replace({pathname:s.pathname,state:Object(gi.a)(s.state||{},"quotedStatus")}),i()}),o()(this,"_handleViewRecipients",()=>{const{excludedRecipients:e,history:t,inReplyToStatus:a}=this.props;this._setActiveParentKey(),t.push({pathname:"/compose/tweet/recipients",state:{excludedRecipients:e,inReplyToStatus:a}})}),o()(this,"_handleTextChange",(e,t)=>{const{textMap:a}=this.state,{activeComposerIndex:s,isInline:i,setValidity:n}=this.props;if(this.setState({textMap:Object.assign({},a,{[t]:e})},()=>{n&&n(this._areComposersValid())}),ai.a.isIOS()){const t=i?0:s;this._updateSingleComposer({text:e},t)}}),o()(this,"_handleTextOnBlur",Object(rt.a)((e,t)=>()=>{const{textMap:a,tweetsSentOrScheduled:s}=this.state,i=a[e];"string"!=typeof i||s||this._updateSingleComposer({text:i},t)})),o()(this,"_updateConversationControlsValue",e=>{if(!this._conversationControlsCreationEnabled)return;const{updateConversationControlsValue:t}=this.props;t(e,this._getParentKey())}),o()(this,"_renderProgressBar",()=>{const{sendingProgress:e,isSending:t}=this.props;return r.createElement(hi.a,{progress:t?Math.max(e,.02):0,style:[Fi.progressBar]})}),o()(this,"_updateConvoCardState",()=>{const{convoCardData:e,updateConvoCardState:t}=this.props;if(e){const{cardId:a,nextState:s}=e;s&&a&&t(a,{cardState:s})}}),o()(this,"_attachExternalMedia",e=>t=>Promise.all(t.map(e=>Object(Da.a)(e))).then(this._handleAddMediaFiles(e))),o()(this,"_handleAddMediaFiles",e=>t=>{const{addMedia:a,addToast:s,composerData:i,dataSaverMode:n,processMultipleMedia:o,removeMediaUpload:r,uploadMedia:l}=this.props;a(t,{location:Fa.c.Tweet}).then(t=>{const a=i[e],d=t.map(e=>e.id);if(Li._validateMedia(a,t)){const s=a.media.map(e=>e.id);this._updateSingleComposer({mediaIds:Object(_i.a)(s.concat(d))},e),o(t,{onFailure:this._handleMediaRemoveFactory(e)}).then(e=>{n||l(e.map(e=>e.id),{preUpload:!0})})}else s({text:Oi}),r(d)})}),o()(this,"_handleMediaRemoveFactory",e=>t=>this._handleMediaRemove(e,t)),o()(this,"_handleMediaRemove",(e,t)=>{const{composerData:a,removeMediaUpload:s}=this.props,{media:i,mediaMetadata:n,mediaTags:o}=a[e],r=((e,...t)=>Object(bi.a)(e,t))(i.map(e=>e.id),t),l=r.length>0?o:[];this._updateSingleComposer({mediaIds:r,gifMetadata:void 0,mediaMetadata:n&&Object(gi.a)(n,t.toString()),mediaTags:l},e),s(t),this.setState({errorMessage:void 0})}),o()(this,"_setComposerRef",e=>t=>{this._composerRefs[e]=t}),o()(this,"_shouldBeExpanded",e=>{const{composerData:t,parentTweetId:a}=this.props,{focused:s}=this.state;if(e||s)return!0;const i=!Object(Y.b)(this._getSingleComposerDataWithLatestText(t[0]));return!a||i}),o()(this,"_areComposersValid",()=>{const{composerData:e}=this.props;return this.isRetweet||e.every(e=>Object(Y.d)(this._getSingleComposerDataWithLatestText(e)))}),o()(this,"_areComposersEmptyOrUnchanged",()=>{const{composerData:e,prepopulatedText:t}=this.props;return e.every(e=>Object(Y.c)(this._getSingleComposerDataWithLatestText(e),t))}),o()(this,"_getSingleComposerDataWithLatestText",e=>{const{textMap:t}=this.state;return"string"==typeof t[e.key]?Object.assign({},e,{text:t[e.key]}):e}),o()(this,"_recordNudgeAction",e=>{const{recordNudgeAction:t}=this.props,{nudgeId:a}=this.state;a&&t({nudgeId:a,nudgeActionType:e})}),o()(this,"_recordNudgeResult",(e,t)=>{const{recordNudgeResult:a}=this.props,{nudgeId:s}=this.state;s&&a(t?{nudgeId:s,nudgeResultType:e,tweetId:t}:{nudgeId:s,nudgeResultType:e})}),this.state={focused:!1,showDiscardTweetConfirmation:!1,textMap:{},tweetsSentOrScheduled:!1,typeaheadActive:!1,shouldDisableButton:!1},this._composerRefs={},this._conversationControlsCreationEnabled=!0===G.a.getValueWithoutScribeImpression("conversation_controls_limited_replies_creation_enabled"),this._isScrollerV3Enabled=G.a.isTrue("responsive_web_scroller_v3_enabled"),this._throttledSyncTexts=Object(yi.a)(this._syncTexts,1e3,{leading:!0,trailing:!1}),this._keyCommandHandlers={[ui.b]:this.handleTweetOrRetweet,[ui.a]:this.handleDismissComposer},this._keyCommandHandlersForActiveTypeahead={[ui.b]:this.handleTweetOrRetweet},this._isNudgeEnabled=!0===G.a.getValueWithoutScribeImpression("responsive_web_second_degree_replies_nudge_get_enabled"),this._isShowNudgeEnabled=!0===G.a.getValueWithoutScribeImpression("responsive_web_second_degree_replies_nudge_show_enabled"),this._isNudgeTweetypieEnabled=!0===G.a.getValueWithoutScribeImpression("responsive_web_second_degree_replies_nudge_tweetypie_enabled")}UNSAFE_componentWillMount(){const{onRef:e}=this.props;e&&e(this)}componentDidMount(){const{convoCardData:e,externalMedia:t,externalMediaFiles:a,history:s,isIntentRoute:i,isInline:n,location:o,parentTweetId:r,prepopulatedText:l,setValidity:d}=this.props;if(this._unblockHistory=this.props.history.block(this._blockHistory),t.length>0&&this._attachExternalMedia(0)(t),a.length>0&&this._handleAddMediaFiles(0)(a),this._handleFetchTweetIfNeeded(),l||e&&e.cardUrl){const t=Object.assign({},null);l&&(t.text=l),e&&e.cardUrl&&(t.cardUrl=e.cardUrl),this._updateSingleComposer(t)}(l||e&&e.cardUrl||t.length>0||a.length>0)&&!i&&s.replace({query:Object(ta.b)(o.query),search:"",pathname:o.pathname,state:Object(gi.a)(Object(ta.b)(o.state||{}),["defaultText","externalMedia","externalMediaFiles"])}),d&&d(this._areComposersValid()),n||this._setActiveParentKey(),this._isScrollerV3Enabled&&r&&this._root&&(this._height=this._root.getBoundingClientRect().height)}componentDidUpdate(e,t){const{addToast:a,composerData:s,copyDataFromInlineReplyComposerToModalComposer:i,externalMedia:n,externalMediaFiles:o,onRef:r,parentTweetId:l,replyPressToggle:d,setValidity:c,windowWidth:h,getTweetHeight:p}=this.props,{textMap:u}=this.state;if(this._isScrollerV3Enabled&&l&&p&&this._root&&(e.composerData!==s||t.textMap!==u)){const e=this._root.getBoundingClientRect().height;if(e!==this._height){this._height=e;const t=e+p();this._handleHeightChanged(t)}}h!==e.windowWidth&&this._throttledSyncTexts(),e.onRef&&e.onRef!==r&&e.onRef(void 0),r&&r!==e.onRef&&r(this),s.length>=25&&e.composerData.length<25&&a({text:Mi}),n.length>0&&n!==e.externalMedia?this._attachExternalMedia(0)(n):o.length>0&&o!==e.externalMediaFiles&&this._handleAddMediaFiles(0)(o),c&&!Object(zt.a)(s,e.composerData)&&c&&c(this._areComposersValid()),d!==e.replyPressToggle&&i(l)}componentWillUnmount(){const{composerData:e,onRef:t}=this.props;this._unblockHistory&&this._unblockHistory(),t&&t(void 0),Object(fi.a)(this._composerRefs).forEach(([t,a])=>{const s=parseInt(t,10);if(a)return e[s]&&e[s].pollActive&&this._updateSingleComposer({initialPollChoices:a.pollChoices,initialPollDuration:a.pollDuration},s)}),this._syncTexts()}render(){const{parentTweetId:e}=this.props;return this._isScrollerV3Enabled&&e?r.createElement(r.Fragment,null,this._render(),this._render(!0)):this._render()}_scribe(e,t){const{analytics:a}=this.props;a.scribe(Object.assign({},e,{data:t}))}get isThread(){return this.props.composerData.length>1}get isRetweet(){const{composerData:e}=this.props,t=0===e[0].media.length,a=this._getSingleComposerDataWithLatestText(e[0]).text;return!this.isThread&&e[0].quotedStatus&&""===a&&t}get isQuoteTweet(){const{composerData:e}=this.props,t=this._getSingleComposerDataWithLatestText(e[0]).text;return!this.isThread&&e[0].quotedStatus&&t.length>0}get shouldShowDiscardConfirmation(){const{isSending:e,composerData:t}=this.props,{scheduledTweetId:a}=t[0],{showDiscardTweetConfirmation:s}=this.state,i=this._areComposersEmptyOrUnchanged();return!(e||i||s||a)}get shouldShowBackgroundSendConfirmation(){const{composerData:e,isSending:t}=this.props,a=e.some(e=>e.media.some(e=>e.uploading));return t&&a}get _canSaveDraft(){const{composerData:e,isInline:t}=this.props;return!this.isThread&&!e[0].pollActive&&0===e[0].mediaTags.length&&!t}}o()(Li,"defaultProps",{customizePropsForSingleComposerItem:(e,t,a)=>({}),externalMedia:[],externalMediaFiles:[],isSelfThreadReply:!1,positionCursorAtBeginning:!1,prepopulatedText:"",setValidity:()=>{},typeaheadWrapper:Ms.a}),o()(Li,"contextType",pi.a),o()(Li,"_validateMedia",(e,t)=>{const{media:a}=e;return Object(l.c)(a.concat(t))});const Fi=_.a.create(e=>({root:{paddingBottom:e.spaces.xxSmall},rootInlineReply:{backgroundColor:e.colors.fadedGray,paddingBottom:e.componentDimensions.gutterVertical},content:{paddingVertical:e.spaces.xxSmall,backgroundColor:e.colors.cellBackground},contentInlineReply:{paddingVertical:e.componentDimensions.gutterVertical},mask:Object.assign({},_.a.absoluteFillObject),inlineSendButton:{marginLeft:e.spaces.xSmall},progressBar:{position:"absolute",borderTopLeftRadius:e.borderRadii.medium,borderTopRightRadius:e.borderRadii.medium},hidden:{position:"absolute",visibility:"hidden",width:"100%"}}));t.a=Object(I.a)(Ba(Li))},VjLy:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var s=a("ERkP"),i=a("3XMw"),n=a.n(i),o=a("feu+"),r=a("eb3s"),l=a("lUZE"),d=a("5cUs");const c=n.a.ge5067bb,h=n.a.ea626ab3,p=n.a.fc716886,u=`${n.a.f2a2a06e}\n\n${n.a.f82c0bbf}`,m=n.a.b2615c6d,g=n.a.i62a03aa,_=n.a.cfd2f35d,b=n.a.a6450e83,y=n.a.hb279a11,f=({onConfirm:e,onCancel:t,onHideReplyImpression:a=(()=>{})})=>s.createElement(o.a,{actionLabel:c,graphic:l.a,headline:p,onAction:e,onClose:t,onImpression:a,onTertiaryAction:t,subtext:u,supportUrl:"https://help.twitter.com/en/using-twitter/mentions-and-replies?lang=browser#hidden-reply",tertiaryActionLabel:_});t.b=({addTip:e,addToast:t,createLocalApiErrorHandler:a,hideReply:i,onBlock:n,onTweetDismiss:o,scribeAction:l,tips:p,tweet:u})=>{const _=!p.hide_reply_author_education,C=()=>{l({element:"moderated_replies_prompt",action:"impression"})};return{confirmation:_?{render:(e,t)=>f({onConfirm:e,onCancel:t,onHideReplyImpression:C})}:{render:(e,t)=>{const{user:{screen_name:a}}=u;return s.createElement(r.a,{cancelButtonLabel:g,confirmButtonLabel:b,confirmButtonType:"destructive",headline:m({screenName:a}),onCancel:e,onConfirm:()=>{n(),e()},text:y({screenName:a})})}},text:c,onClick:()=>{e({hide_reply_author_education:!0}),i(u.id_str,{conversation_id:u.conversation_id_str}).then(e=>{o&&o(),t({text:h})},a({showToast:!0})),l({element:"moderate_reply"})},Icon:d.a}}},Zg3A:function(e,t,a){"use strict";a("IAdD");var s=a("ERkP"),i=a("Lsrn"),n=a("k/Ka");const o=(e={})=>Object(n.a)("svg",Object.assign({},e,{style:[i.a.root,e.style],viewBox:"0 0 24 24"}),s.createElement("g",null,s.createElement("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm8.472 9.442c-.242.19-.472.368-.63.486-.68-1.265-1.002-1.78-1.256-2.007-.163-.145-.37-.223-.78-.375-.367-.136-1.482-.55-1.65-.85-.087-.153.136-.602.23-.793.088-.177.164-.33.196-.497.123-.646-.33-1.146-.728-1.59-.066-.072-.153-.17-.23-.26.335-.12.862-.26 1.42-.384 1.95 1.448 3.26 3.704 3.428 6.272zm-9.788-7.83c.076.25.145.5.182.678-.255.15-.663.363-.96.52-.262.136-.522.273-.738.392-.247.137-.442.234-.6.313-.347.174-.598.3-.833.553-.068.073-.26.278-1.02 1.886l-1.79-.656c1.293-1.94 3.362-3.31 5.76-3.685zM12 20.5c-4.687 0-8.5-3.813-8.5-8.5 0-1.197.25-2.335.7-3.37.47.182 1.713.66 2.75 1.035-.107.336-.245.854-.26 1.333-.03.855.502 1.7.562 1.792.053.08.12.15.2.207.303.21.687.5.827.616.063.343.166 1.26.23 1.833.144 1.266.175 1.48.24 1.65.005.012.514 1.188 1.315 1.188.576-.003.673-.206 1.855-2.688.244-.512.45-.95.513-1.058.1-.144.597-.61.87-.83.55-.442.76-1.82.413-2.682-.335-.83-1.92-2.08-2.5-2.195-.17-.033-.43-.04-.953-.053-.497-.01-1.25-.028-1.536-.09-.098-.024-.314-.094-.605-.196.32-.668.627-1.28.71-1.4.05-.052.168-.112.408-.234.17-.086.383-.192.653-.34.208-.116.458-.247.71-.38 1.168-.612 1.484-.8 1.658-1.082.11-.177.263-.44-.04-1.544 1.042.027 2.038.24 2.955.61-.89.32-1.024.595-1.106.77-.367.784.256 1.475.667 1.93.096.107.24.268.32.38l-.017.036c-.234.472-.67 1.35-.196 2.194.406.72 1.384 1.13 2.437 1.52.134.05.25.092.33.126.16.208.496.79 1 1.735l.154.285c.078.14.33.505.842.505.167 0 .363-.04.59-.137.032-.013.083-.035.18-.094C19.72 17.405 16.22 20.5 12 20.5zm-3.812-9.45c.01-.285.102-.646.184-.907l.027.006c.397.09 1.037.11 1.83.13.32.006.59.008.615 0 .326.143 1.355 1 1.483 1.31.113.28.05.812-.034 1.01-.233.197-.845.735-1.085 1.078-.093.13-.212.373-.64 1.274-.133.276-.313.654-.488 1.013-.026-.225-.054-.472-.08-.686-.225-2.003-.273-2.22-.42-2.445-.05-.078-.202-.31-1.135-.973-.117-.213-.268-.564-.26-.813z"})));o.metadata={width:24,height:24},t.a=o},c0ZR:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a("JtPf");const s=e=>new Promise((t,a)=>{const s=new window.XMLHttpRequest;s.responseType="blob",s.onreadystatechange=()=>{s.readyState===window.XMLHttpRequest.DONE&&(200===s.status?t(s.response):a(new Error("Unexpected status code")))},s.onerror=e=>a(e),s.ontimeout=e=>a(e),s.open("GET",e,!0),s.send()})},mtvn:function(e,t,a){"use strict";t.a=(e,t,a=1)=>{const s=[];for(let i=e;a>0?i<t:i>t;i+=a)s.push(i);return s}},pidX:function(e,t,a){"use strict";a.d(t,"b",(function(){return l}));a("DZ+c"),a("Ysgh"),a("kYxP");var s=a("3XMw"),i=a.n(s),n=a("3A2y");const o=i.a.b2e94283,r=["title","screen_name","text","url","hashtags","via"];t.a=e=>{const t=e.state||{},a=e.query||{},[s,i,n,l,d,c]=r.map(e=>t[e]||a[e]),h=[s,i&&"@"+i.toString(),n,l,d&&d.toString().split(",").map(e=>"#"+e).join(" "),c&&o({viaScreenName:c})].filter(Boolean).join(" ");return h?h+" ":void 0};const l=e=>Object(n.a)(e,r)},rziq:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return i}));const s="send-tweet",i="dismiss-composer"},zmS9:function(e,t,a){"use strict";var s=a("ERkP"),i=a("3XMw"),n=a.n(i),o=a("J0mu"),r=a("t62R"),l=a("rHpw"),d=a("QbaN");const c=n.a.bfb895b1,h=l.a.create(e=>({icon:{fontSize:e.fontSizes.normal,paddingRight:e.spaces.xSmall,textAlignVertical:"middle"}}));t.a=({scheduledFor:e,onPress:t})=>{const a=Object(d.c)(e),i=!!a&&(Object(d.h)(e)&&!Object(d.g)(a)&&!Object(d.f)(a)),n=Boolean(t);return a&&i?s.createElement(r.c,{color:"deepGray",onPress:t,size:"small",withInteractiveStyling:n},s.createElement(o.a,{style:h.icon}),c({date:Object(d.b)(a),time:Object(d.i)(a)})):null}}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web/shared~bundle.Compose~bundle.RichTextCompose~bundle.PlainTextCompose.5a96e655.js.map